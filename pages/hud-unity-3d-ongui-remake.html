<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   HUD: Unity 3D OnGUI Remake - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    HUD: Unity 3D OnGUI Remake
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Overview">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Overview
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-2">
           <a href="#Functions_Matching_Unity.27s_GUI_class">
            <span class="tocnumber">
             1.1
            </span>
            <span class="toctext">
             Functions Matching Unity's GUI class
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-3">
           <a href="#Transparency">
            <span class="tocnumber">
             1.2
            </span>
            <span class="toctext">
             Transparency
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-4">
           <a href="#Centering">
            <span class="tocnumber">
             1.3
            </span>
            <span class="toctext">
             Centering
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-5">
           <a href="#Input">
            <span class="tocnumber">
             1.4
            </span>
            <span class="toctext">
             Input
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-6">
         <a href="#Demos">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           Demos
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-7">
         <a href="#Credit">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           Credit
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-8">
         <a href="#Pre-requisites">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           Pre-requisites
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-9">
           <a href="#Font">
            <span class="tocnumber">
             4.1
            </span>
            <span class="toctext">
             Font
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-10">
           <a href="#Texture">
            <span class="tocnumber">
             4.2
            </span>
            <span class="toctext">
             Texture
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-11">
           <a href="#Button_Material">
            <span class="tocnumber">
             4.3
            </span>
            <span class="toctext">
             Button Material
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-12">
           <a href="#Animated_Button_Material">
            <span class="tocnumber">
             4.4
            </span>
            <span class="toctext">
             Animated Button Material
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-13">
           <a href="#Slider_Background_Material">
            <span class="tocnumber">
             4.5
            </span>
            <span class="toctext">
             Slider Background Material
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-14">
           <a href="#Slider_Button_Material">
            <span class="tocnumber">
             4.6
            </span>
            <span class="toctext">
             Slider Button Material
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-15">
         <a href="#C.2B.2B_Code">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           C++ Code
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-16">
           <a href="#HUDObjects.h">
            <span class="tocnumber">
             5.1
            </span>
            <span class="toctext">
             HUDObjects.h
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-17">
           <a href="#HUDObjects.cpp">
            <span class="tocnumber">
             5.2
            </span>
            <span class="toctext">
             HUDObjects.cpp
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-18">
           <a href="#GUI.h">
            <span class="tocnumber">
             5.3
            </span>
            <span class="toctext">
             GUI.h
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-19">
           <a href="#GUI.cpp">
            <span class="tocnumber">
             5.4
            </span>
            <span class="toctext">
             GUI.cpp
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-20">
           <a href="#YourHUD.h">
            <span class="tocnumber">
             5.5
            </span>
            <span class="toctext">
             YourHUD.h
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-21">
           <a href="#YourHUD.cpp">
            <span class="tocnumber">
             5.6
            </span>
            <span class="toctext">
             YourHUD.cpp
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-22">
         <a href="#BluePrint.2FEditor_End">
          <span class="tocnumber">
           6
          </span>
          <span class="toctext">
           BluePrint/Editor End
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-23">
           <a href="#Text_Section">
            <span class="tocnumber">
             6.1
            </span>
            <span class="toctext">
             Text Section
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-24">
           <a href="#Buttons_Section">
            <span class="tocnumber">
             6.2
            </span>
            <span class="toctext">
             Buttons Section
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-25">
           <a href="#Textures_Section">
            <span class="tocnumber">
             6.3
            </span>
            <span class="toctext">
             Textures Section
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-26">
           <a href="#Materials_Section">
            <span class="tocnumber">
             6.4
            </span>
            <span class="toctext">
             Materials Section
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-27">
           <a href="#Animations_Section">
            <span class="tocnumber">
             6.5
            </span>
            <span class="toctext">
             Animations Section
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-28">
         <a href="#Conclusion">
          <span class="tocnumber">
           7
          </span>
          <span class="toctext">
           Conclusion
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id="Overview">
        Overview
       </span>
      </h2>
      <p>
       <i>
        Code Author:
       </i>
       <a class="external text" href="https://forums.unrealengine.com/member.php?4329-Loken01" rel="nofollow">
        Loken01
       </a>
      </p>
      <p>
       For a while I had taken a break from UDK and had been using Unity3D for a bit, and even though it will never quite match up with AutoDesk ScaleForm,
I thought I'd give it a whirl at making a more simplistic HUD system for users.
      </p>
      <p>
       The basics of AHUD I learnt from Rama's awesome tutorials!
      </p>
      <p>
       Everything in this is based on objects, so everything can handle it's own instance!
Makes things super easy for us!
      </p>
      <h3>
       <span class="mw-headline" id="Functions_Matching_Unity.27s_GUI_class">
        Functions Matching Unity's GUI class
       </span>
      </h3>
      <ul>
       <li>
        Labels
       </li>
       <li>
        Textures
       </li>
       <li>
        Materials
       </li>
       <li>
        Animated Materials
       </li>
       <li>
        Buttons
       </li>
       <li>
        Animated Buttons
       </li>
       <li>
        Horizontal Sliders
       </li>
       <li>
        Vertical Sliders
       </li>
       <li>
        Movable Windows (Coming soon)
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="Transparency">
        Transparency
       </span>
      </h3>
      <p>
       Everything in this entire HUD system has full control over transparency.
Materials are handled in the material editor.
Textures work best if their LOD group is set to 'UI'.
      </p>
      <h3>
       <span class="mw-headline" id="Centering">
        Centering
       </span>
      </h3>
      <p>
       I wanted to make sure everything could be scaled according to screen size so I made four functions:
      </p>
      <ul>
       <li>
        Scale Width
       </li>
       <li>
        Scale Height
       </li>
       <li>
        Center Horizontal
       </li>
       <li>
        Center Vertical
       </li>
      </ul>
      <p>
       These work based on getting the sizes from the Canvas, and then doing a check against the relative position of 1920x1080.
It means no matter the screen size, everything will stay exactly the same relative to the edges of the screen.
      </p>
      <h3>
       <span class="mw-headline" id="Input">
        Input
       </span>
      </h3>
      <p>
       Currently the only form of input is the mouse.
But you can use your PlayerController or Character class to bind other actions and simply tweak this code.
My personal version works using the controller and simulating mouse movement, but I wanted to generalize as much as possible for this tutorial.
      </p>
      <h2>
       <span class="mw-headline" id="Demos">
        Demos
       </span>
      </h2>
      <p>
       So I made a few gifs just to show what could be done in about 2-3 minutes with this HUD system!
      </p>
      <p>
       Labels:
      </p>
      <p>
       <img alt="Label" class="thumbborder" height="70" src="../assets/hud-unity-3d-ongui-remake/0.png" width="223"/>
      </p>
      <p>
       Buttons:
      </p>
      <p>
       <img alt="Button" class="thumbborder" height="62" src="../assets/hud-unity-3d-ongui-remake/1.gif" width="176"/>
      </p>
      <p>
       Animated Buttons:
      </p>
      <p>
       <img alt="Animated Buttons" class="thumbborder" height="56" src="../assets/hud-unity-3d-ongui-remake/2.gif" width="166"/>
      </p>
      <p>
       Horizontal Sliders:
      </p>
      <p>
       <img alt="Slider" class="thumbborder" height="18" src="../assets/hud-unity-3d-ongui-remake/3.gif" width="214"/>
      </p>
      <p>
       Vertical Sliders:
      </p>
      <p>
       <img alt="Slider" class="thumbborder" height="198" src="../assets/hud-unity-3d-ongui-remake/4.gif" width="34"/>
      </p>
      <h2>
       <span class="mw-headline" id="Credit">
        Credit
       </span>
      </h2>
      <p>
       Everything I learnt about the standard AHUD system came directly from Rama, so this is like an extension to his work
      </p>
      <p>
       Apart from a few tiny bits here and there, (Rama's) almost all of this is my own creation.
      </p>
      <p>
       Also a big thanks to
       <a class="external text" href="https://forums.unrealengine.com/member.php?10846-DroseGaming" rel="nofollow">
        DroseGaming
       </a>
       for helping me with some bug issues!
      </p>
      <p>
       <b>
        Why Did I make this system?
       </b>
      </p>
      <p>
       I wanted it to be easier to make an easy to use object based system that could be easily managed in memory, handle their own animations, etc dynamically, without cluttering up your HUD class.
      </p>
      <h2>
       <span class="mw-headline" id="Pre-requisites">
        Pre-requisites
       </span>
      </h2>
      <p>
       As in Rama's tutorial, you need to have a few things:
      </p>
      <h3>
       <span class="mw-headline" id="Font">
        Font
       </span>
      </h3>
      <p>
       Creat a font in your content browser.
Right click, and make a new font, and give it a large default size.
I tend to just stick it to the highest.
      </p>
      <h3>
       <span class="mw-headline" id="Texture">
        Texture
       </span>
      </h3>
      <p>
       Literally any texture would do.
      </p>
      <h3>
       <span class="mw-headline" id="Button_Material">
        Button Material
       </span>
      </h3>
      <p>
       Create a new material and set it to be Transparent and Unlit.
You will need a button 'Up' and button 'Down' texture.
You will need two parameters called 'Highlight' and 'Click'
      </p>
      <p>
       And finally plug everything together like so:
      </p>
      <p>
       <img alt="Button Material Editor" class="thumbborder" height="452" src="../assets/hud-unity-3d-ongui-remake/5.png" width="1006"/>
      </p>
      <h3>
       <span class="mw-headline" id="Animated_Button_Material">
        Animated Button Material
       </span>
      </h3>
      <p>
       This can be done exactly the same as above, but the textures would need to be in a sprite sheet like layout.
      </p>
      <h3>
       <span class="mw-headline" id="Slider_Background_Material">
        Slider Background Material
       </span>
      </h3>
      <p>
       Create a material that is Transparent and Unlit.
Only really needs the one texture.
      </p>
      <h3>
       <span class="mw-headline" id="Slider_Button_Material">
        Slider Button Material
       </span>
      </h3>
      <p>
       For this you can simply use any "Button Material"
      </p>
      <h2>
       <span class="mw-headline" id="C.2B.2B_Code">
        C++ Code
       </span>
      </h2>
      <p>
       The code below assumes you have created a new class named "YourHud". Although you can rename to whatever you want.  Just clean up any references.
Simply replace any references to "YourGame.h" to be whatever your game has been called.
      </p>
      <h3>
       <span class="mw-headline" id="HUDObjects.h">
        HUDObjects.h
       </span>
      </h3>
      <p>
       153 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">"GameFramework/HUD.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"HUDObjects.generated.h"</span><span class="cp"></span>

<span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FShapeStruct</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>

	<span class="c1">//Vars</span>
	<span class="kt">float</span> <span class="n">x</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">y</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">w</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">h</span><span class="p">;</span>

	<span class="c1">//default properties</span>
	<span class="n">FShapeStruct</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">w</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">UHUDObjects</span> <span class="o">:</span> <span class="k">public</span> <span class="n">UObject</span>
<span class="p">{</span>
	<span class="n">GENERATED_UCLASS_BODY</span><span class="p">()</span>

	<span class="k">protected</span><span class="o">:</span>
		<span class="c1">//State handler</span>
		<span class="kt">bool</span> <span class="n">IsButton</span><span class="p">;</span>

		<span class="c1">//Shape and positioning of this object</span>
		<span class="n">FShapeStruct</span> <span class="n">BGShapeAndPos</span><span class="p">;</span>

		<span class="c1">//Shape and positioning of this object</span>
		<span class="n">FShapeStruct</span> <span class="n">ShapeAndPos</span><span class="p">;</span>

		<span class="c1">//Background material reference</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackGround</span><span class="p">;</span>

		<span class="c1">//Slider background material reference</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">SliderBackGround</span><span class="p">;</span>

		<span class="c1">//Created material instance reference</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UMaterialInstanceDynamic</span><span class="o">*</span> <span class="n">MIObj</span><span class="p">;</span>

		<span class="c1">//Created material instance for a slider background</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UMaterialInstanceDynamic</span><span class="o">*</span> <span class="n">BGMIObj</span><span class="p">;</span>

		<span class="c1">//Name of the highlight parameter</span>
		<span class="n">FString</span> <span class="n">HighLightName</span><span class="p">;</span>

		<span class="c1">//Name of the click parameter</span>
		<span class="n">FString</span> <span class="n">ClickName</span><span class="p">;</span>

		<span class="c1">//Whether or not this has an animation</span>
		<span class="kt">bool</span> <span class="n">bHasAnim</span><span class="p">;</span>

		<span class="c1">//Scale of the text</span>
		<span class="kt">float</span> <span class="n">ScaleAmount</span><span class="p">;</span>

		<span class="c1">//Text</span>
		<span class="n">FString</span> <span class="n">Text</span><span class="p">;</span>

		<span class="c1">//Reference to the font used</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UFont</span><span class="o">*</span> <span class="n">Font</span><span class="p">;</span>

		<span class="c1">//Animation</span>
		<span class="n">FVector2D</span> <span class="n">AnimTiling</span><span class="p">;</span>
		<span class="c1">//Number of tiles in total</span>
		<span class="kt">int</span> <span class="n">NumTiles</span><span class="p">;</span>
		<span class="c1">//Time between frame updates</span>
		<span class="kt">float</span> <span class="n">FrameUpdateDelay</span><span class="p">;</span>
		<span class="c1">//Current time taken from the last frame update</span>
		<span class="kt">float</span> <span class="n">currentTime</span><span class="p">;</span>

		<span class="c1">//CurrentAnimTile</span>
		<span class="kt">int</span> <span class="n">Tile</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">MatU</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">MatV</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">MatUWidth</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">MatVHeight</span><span class="p">;</span>

		<span class="kt">float</span> <span class="n">CropU</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">CropV</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">CropX</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">CropY</span><span class="p">;</span>

		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UTexture2D</span><span class="o">*</span> <span class="n">Texture</span><span class="p">;</span>

	<span class="c1">//Functions</span>
	<span class="k">public</span><span class="o">:</span>
		<span class="c1">//State of button</span>
		<span class="kt">bool</span> <span class="n">IsInside</span><span class="p">;</span>
		<span class="kt">bool</span> <span class="n">bGrabbed</span><span class="p">;</span>

		<span class="c1">//If the passed position is within the screen bounds of this object</span>
		<span class="kt">bool</span> <span class="nf">Hovered</span><span class="p">();</span>

		<span class="c1">//Update and Draw depending on how the object was initialised</span>
		<span class="c1">//SHOULD BE CALLED WITH CARE</span>
		<span class="kt">void</span> <span class="nf">Update</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span> <span class="o">=</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>

		<span class="c1">//Draw the horizontal slider</span>
		<span class="kt">float</span> <span class="nf">DrawHorizontalSlider</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">);</span>

		<span class="c1">//Draw the vertical slider</span>
		<span class="kt">float</span> <span class="nf">DrawVerticalSlider</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">);</span>

		<span class="c1">//Check for click on slider BG</span>
		<span class="kt">bool</span> <span class="nf">CheckInsideSliderBG</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">);</span>

		<span class="c1">//Draw the texture that this object was initialised with.</span>
		<span class="c1">//SHOULD BE CALLED WITH CARE</span>
		<span class="kt">void</span> <span class="nf">DrawTexture</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="n">FColor</span> <span class="n">pColour</span><span class="p">);</span>

		<span class="c1">//Crops the U/V sizes. 0=No crop, 1=MaxCrop</span>
		<span class="c1">//This will only work on Texture or Animation Objects</span>
		<span class="kt">void</span> <span class="nf">CropObjectUV</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">UVCrop</span><span class="p">);</span>

		<span class="c1">//Crops the X/Y sizes. 0=No crop, 1=MaxCrop</span>
		<span class="c1">//This will only work on Texture or Animation Objects</span>
		<span class="kt">void</span> <span class="nf">CropObjectXY</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">XYCrop</span><span class="p">);</span>
		
		<span class="c1">//Initialise this object with only Text</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">);</span>
		<span class="c1">//Initialise this object with only a texture</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="n">UTexture2D</span><span class="o">*</span> <span class="n">pTexture</span><span class="p">);</span>
		<span class="c1">//Initialise this object with a highlightable material</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">);</span>
		<span class="c1">//Initialise this object with a slider button and background</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">SliderMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">);</span>
		<span class="c1">//Initialise this object with a highlightable material with text</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">);</span>
		<span class="c1">//Initialise this object with a highlightable animated material</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pAnimTiling</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pNumTiles</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pFrameUpdateDelay</span><span class="p">);</span>
		<span class="c1">//Initialise this object with a highlightable animated material with text</span>
		<span class="kt">void</span> <span class="nf">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pAnimTiling</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pNumTiles</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pFrameUpdateDelay</span><span class="p">);</span>

	<span class="k">protected</span><span class="o">:</span>
		<span class="kt">void</span> <span class="n">UpdateAnim</span><span class="p">();</span>
		<span class="kt">void</span> <span class="nf">CheckInside</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">);</span>
<span class="p">};</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="HUDObjects.cpp">
        HUDObjects.cpp
       </span>
      </h3>
      <p>
       487 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#include</span> <span class="cpf">"YourGame.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"HUDObjects.h"</span><span class="cp"></span>

<span class="n">UHUDObjects</span><span class="o">::</span><span class="n">UHUDObjects</span><span class="p">(</span><span class="k">const</span> <span class="k">class</span> <span class="nc">FPostConstructInitializeProperties</span><span class="o">&amp;</span> <span class="n">PCIP</span><span class="p">)</span> <span class="o">:</span> <span class="n">Super</span><span class="p">(</span><span class="n">PCIP</span><span class="p">)</span>
<span class="p">{}</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="n">UTexture2D</span><span class="o">*</span> <span class="n">pTexture</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Pass the texture</span>
	<span class="n">Texture</span> <span class="o">=</span> <span class="n">pTexture</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Initialise global variables with passed parameters</span>
	<span class="n">IsButton</span> <span class="o">=</span> <span class="n">pIsButton</span><span class="p">;</span>

	<span class="c1">//This material pointer is assigned as another pointer isn't it?</span>
	<span class="c1">//So how would I make is it's own dynamic instance?</span>
	<span class="n">BackGround</span> <span class="o">=</span> <span class="n">BackgroundMaterial</span><span class="p">;</span>

	<span class="c1">//Set the highlight and click names</span>
	<span class="n">HighLightName</span> <span class="o">=</span> <span class="n">pHighLightName</span><span class="p">;</span>
	<span class="n">ClickName</span> <span class="o">=</span> <span class="n">pClickName</span><span class="p">;</span>

	<span class="c1">//If the material exists</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">BackGround</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Create an instance of it</span>
		<span class="n">MIObj</span> <span class="o">=</span> <span class="n">UMaterialInstanceDynamic</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">BackGround</span><span class="o">-&gt;</span><span class="n">GetMaterial</span><span class="p">(),</span> <span class="k">this</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//if</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">SliderMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//pass vars</span>
	<span class="n">Init</span><span class="p">(</span><span class="n">pIsButton</span><span class="p">,</span> <span class="n">SliderMaterial</span><span class="p">,</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">pClickName</span><span class="p">);</span>
	<span class="c1">//set slider background</span>
	<span class="n">SliderBackGround</span> <span class="o">=</span> <span class="n">BackgroundMaterial</span><span class="p">;</span>

	<span class="c1">//if it exists</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">SliderBackGround</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//create an instance of it</span>
		<span class="n">BGMIObj</span> <span class="o">=</span> <span class="n">UMaterialInstanceDynamic</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">SliderBackGround</span><span class="o">-&gt;</span><span class="n">GetMaterial</span><span class="p">(),</span> <span class="k">this</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//if</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pAnimTiling</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pNumTiles</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pFrameUpdateDelay</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//pass vars</span>
	<span class="n">Init</span><span class="p">(</span><span class="n">pIsButton</span><span class="p">,</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">pClickName</span><span class="p">);</span>

	<span class="c1">//set anim tilings</span>
	<span class="n">AnimTiling</span> <span class="o">=</span> <span class="n">pAnimTiling</span><span class="p">;</span>
	<span class="c1">//set number of anim tiles</span>
	<span class="n">NumTiles</span> <span class="o">=</span> <span class="n">pNumTiles</span><span class="p">;</span>
	<span class="c1">//set that we have an anim</span>
	<span class="n">bHasAnim</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="c1">//set up frame delay</span>
	<span class="n">FrameUpdateDelay</span> <span class="o">=</span> <span class="n">pFrameUpdateDelay</span><span class="p">;</span>
	<span class="c1">//set current time to the max</span>
	<span class="n">currentTime</span> <span class="o">=</span> <span class="n">FrameUpdateDelay</span><span class="p">;</span>
	<span class="c1">//set current tile to 0</span>
	<span class="n">Tile</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="c1">//calculate the u width of the material</span>
	<span class="n">MatUWidth</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">AnimTiling</span><span class="p">.</span><span class="n">X</span><span class="p">;</span>
	<span class="c1">//calculate the v width of the material</span>
	<span class="n">MatVHeight</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">AnimTiling</span><span class="p">.</span><span class="n">Y</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pAnimTiling</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pNumTiles</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pFrameUpdateDelay</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//pass vars</span>
	<span class="n">Init</span><span class="p">(</span><span class="n">pIsButton</span><span class="p">,</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">pAnimTiling</span><span class="p">,</span> <span class="n">pNumTiles</span><span class="p">,</span> <span class="n">pFrameUpdateDelay</span><span class="p">);</span>

	<span class="c1">//set text</span>
	<span class="n">Text</span> <span class="o">=</span> <span class="n">pText</span><span class="p">;</span>
	<span class="c1">//set font</span>
	<span class="n">Font</span> <span class="o">=</span> <span class="n">pFont</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Initialise global variables with passed parameters</span>
	<span class="n">IsButton</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">Text</span> <span class="o">=</span> <span class="n">pText</span><span class="p">;</span>
	<span class="n">Font</span> <span class="o">=</span> <span class="n">pFont</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Init</span><span class="p">(</span><span class="kt">bool</span> <span class="n">pIsButton</span><span class="p">,</span> <span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pClickName</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="n">UFont</span><span class="o">*</span> <span class="n">pFont</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//pass vars</span>
	<span class="n">Init</span><span class="p">(</span><span class="n">pIsButton</span><span class="p">,</span> <span class="n">BackgroundMaterial</span><span class="p">,</span> <span class="n">pHighLightName</span><span class="p">,</span> <span class="n">pClickName</span><span class="p">);</span>
	<span class="c1">//Set text</span>
	<span class="n">Text</span> <span class="o">=</span> <span class="n">pText</span><span class="p">;</span>
	<span class="c1">//Set font</span>
	<span class="n">Font</span> <span class="o">=</span> <span class="n">pFont</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Init</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">CheckInside</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//If within the X area</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">X</span> <span class="o">&gt;</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">MousePos</span><span class="p">.</span><span class="n">X</span> <span class="o">&lt;</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If within the Y area</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span> <span class="o">&gt;</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">&amp;&amp;</span> <span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span> <span class="o">&lt;</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Mouse is inside</span>
			<span class="n">IsInside</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="c1">//Mouse is not inside</span>
			<span class="n">IsInside</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//else</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Mouse is not inside</span>
		<span class="n">IsInside</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//else</span>

	<span class="c1">//If the material instance exists and the highlight name exists</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">IsButton</span> <span class="o">&amp;&amp;</span> <span class="n">HighLightName</span><span class="p">.</span><span class="n">Len</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Set up var</span>
		<span class="kt">float</span> <span class="n">TmpVar</span><span class="p">;</span>
		<span class="c1">//Get highlight value, to be sure it exists</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">GetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">HighLightName</span><span class="p">),</span> <span class="n">TmpVar</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//if we are inside</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">IsInside</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//set it to 1</span>
				<span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">SetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">HighLightName</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//if</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="c1">//otherwise set it to 0</span>
				<span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">SetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">HighLightName</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//else</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//If the material instance exists and the click name exists</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span> <span class="o">!=</span> <span class="nb">NULL</span> <span class="o">&amp;&amp;</span> <span class="n">IsButton</span> <span class="o">&amp;&amp;</span> <span class="n">ClickName</span><span class="p">.</span><span class="n">Len</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Set up var</span>
		<span class="kt">float</span> <span class="n">TmpVar</span><span class="p">;</span>
		<span class="c1">//Get click value, to be sure it exists</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">GetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">ClickName</span><span class="p">),</span> <span class="n">TmpVar</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//if it has been grabbed</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">bGrabbed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//set it to 1</span>
				<span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">SetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">ClickName</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//if</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="c1">//otherwise set it to 0</span>
				<span class="n">MIObj</span><span class="o">-&gt;</span><span class="n">SetScalarParameterValue</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="o">*</span><span class="n">ClickName</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//else</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>

<span class="p">}</span><span class="c1">//CheckInside</span>

<span class="kt">bool</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">CheckInsideSliderBG</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//If within the X area</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">X</span> <span class="o">&gt;</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">MousePos</span><span class="p">.</span><span class="n">X</span> <span class="o">&lt;</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If within the Y area</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span> <span class="o">&gt;</span><span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span> <span class="o">&lt;</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//Mouse is inside</span>
			<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="c1">//Mouse is not inside</span>
			<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//else</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Mouse is not inside</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Hovered</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">IsInside</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Hovered</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">UpdateAnim</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//if the time is greater than 0</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">currentTime</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//decrement it</span>
		<span class="n">currentTime</span> <span class="o">-=</span> <span class="mf">0.01f</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//otherwise reset it</span>
		<span class="n">currentTime</span> <span class="o">=</span> <span class="n">FrameUpdateDelay</span><span class="p">;</span>

		<span class="c1">//if the current tile is less than the max number of tiles</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">Tile</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">NumTiles</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//increment it</span>
			<span class="n">Tile</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>

			<span class="c1">//increment the u position</span>
			<span class="n">MatU</span> <span class="o">+=</span> <span class="n">MatUWidth</span><span class="p">;</span>

			<span class="c1">//if the u position is now equal to or greater than 1</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">MatU</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//reset it to 0</span>
				<span class="n">MatU</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

				<span class="c1">//increment the v position</span>
				<span class="n">MatV</span> <span class="o">+=</span> <span class="n">MatVHeight</span><span class="p">;</span>

				<span class="c1">//if the v position is now equal to or greater than 1</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">MatV</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="c1">//reset it</span>
					<span class="n">MatV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="p">}</span><span class="c1">//if</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="c1">//otherwise reset everything</span>
			<span class="n">Tile</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="n">MatU</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="n">MatV</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//else</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//UpdateAnim</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">Update</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Set vars</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">ScaleAmount</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">;</span>

	<span class="c1">//Check if the mouse is inside the object</span>
	<span class="n">CheckInside</span><span class="p">(</span><span class="n">MousePos</span><span class="p">);</span>
	
	<span class="c1">//If the BG material reference  isn't null, and the passed HUD isn't null</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//if this is an animation</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">bHasAnim</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Update the animation</span>
				<span class="n">UpdateAnim</span><span class="p">();</span>

				<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterial</span><span class="p">(</span><span class="n">MIObj</span><span class="p">,</span>
					<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span>								<span class="c1">//X and Y</span>
					<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">CropX</span><span class="p">),</span>					<span class="c1">//Width Minus cropped percentage</span>
					<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="n">CropY</span><span class="p">),</span>					<span class="c1">//Height Minus cropped percentage</span>
					<span class="n">MatU</span> <span class="o">+</span> <span class="p">(</span><span class="n">MatUWidth</span> <span class="o">*</span> <span class="n">CropX</span><span class="p">),</span>									<span class="c1">//U start plus percentage of U Width</span>
					<span class="n">MatV</span> <span class="o">+</span> <span class="p">(</span><span class="n">MatVHeight</span> <span class="o">*</span> <span class="n">CropY</span><span class="p">),</span>								<span class="c1">//V start plus percentage of V Height</span>
					<span class="p">(</span><span class="n">MatUWidth</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">CropU</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">MatUWidth</span> <span class="o">*</span> <span class="n">CropX</span><span class="p">),</span>			<span class="c1">//Width is percentage of cropped U, </span>
					<span class="p">(</span><span class="n">MatVHeight</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">CropV</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">MatVHeight</span> <span class="o">*</span> <span class="n">CropY</span><span class="p">),</span>			<span class="c1">//Height is percentage of cropped V, </span>
					<span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>													<span class="c1">//Other bits</span>
			<span class="p">}</span><span class="c1">//if</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="c1">//Draw the material as assigned</span>
				<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterialSimple</span><span class="p">(</span><span class="n">MIObj</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//else</span>
		<span class="p">}</span><span class="c1">//If</span>
		
		<span class="c1">//if the text isn't empty</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">Text</span><span class="p">.</span><span class="n">IsEmpty</span><span class="p">())</span>
		<span class="p">{</span>
			<span class="c1">//if the font exists</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Font</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Get the font text size</span>
				<span class="kt">float</span> <span class="n">tWidth</span><span class="p">,</span> <span class="n">tHeight</span><span class="p">;</span>
				<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">GetTextSize</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">tWidth</span><span class="p">,</span> <span class="n">tHeight</span><span class="p">,</span> <span class="n">Font</span><span class="p">,</span> <span class="n">ScaleAmount</span><span class="p">);</span>

				<span class="c1">//Calculate spaceing around the text inside the button</span>
				<span class="kt">float</span> <span class="n">newX</span> <span class="o">=</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">-</span> <span class="n">tWidth</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
				<span class="kt">float</span> <span class="n">newY</span> <span class="o">=</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">-</span> <span class="n">tHeight</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

				<span class="c1">//Draw text and adjust for center</span>
				<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawText</span><span class="p">(</span><span class="n">Text</span><span class="p">,</span> <span class="n">TextColour</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">newX</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">newY</span><span class="p">,</span> <span class="n">Font</span><span class="p">,</span> <span class="n">ScaleAmount</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if	</span>
	<span class="p">}</span><span class="c1">//if</span>
	
<span class="p">}</span><span class="c1">//Update</span>

<span class="kt">float</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">DrawHorizontalSlider</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Set vars</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">ScaleAmount</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">;</span>

	<span class="c1">//Work out how much to extend the slider to make it fit correctly</span>
	<span class="kt">float</span> <span class="n">BGWidener</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.08f</span><span class="p">;</span>
	<span class="c1">//If the BG material reference  isn't null, and the passed HUD isn't null</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">BGMIObj</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw the material as assigned</span>
			<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterialSimple</span><span class="p">(</span><span class="n">BGMIObj</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">BGWidener</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGWidener</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//Get a percentage between 0-1</span>
	<span class="kt">float</span> <span class="n">PercentageAlong</span> <span class="o">=</span> <span class="n">Amount</span> <span class="o">/</span> <span class="p">(</span><span class="n">MaxAmount</span> <span class="o">-</span> <span class="n">MinAmount</span><span class="p">);</span>

	<span class="c1">//Work out the size/position of the slider, based off of the total size</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="o">*</span><span class="mf">0.05f</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">PercentageAlong</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="mf">2.5f</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="p">((</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">-</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span>

	<span class="c1">//Check if the mouse is inside the object</span>
	<span class="n">CheckInside</span><span class="p">(</span><span class="n">MousePos</span><span class="p">);</span>

	<span class="c1">//if the object has been grabbed</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">bGrabbed</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//then we are inside</span>
		<span class="n">IsInside</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

		<span class="c1">//calculate slider ranges</span>
		<span class="kt">float</span> <span class="n">Left</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="mi">0</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
		<span class="kt">float</span> <span class="n">Right</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

		<span class="c1">//Update the object to match the mouse pos</span>
		<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">X</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
		<span class="c1">//Clamp within ranges</span>
		<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">Left</span><span class="p">,</span> <span class="n">Right</span><span class="p">);</span>

		<span class="c1">//work out the new percentage to return</span>
		<span class="n">PercentageAlong</span> <span class="o">=</span> <span class="p">((</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>

		<span class="c1">//Calculate the amount to return</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">MaxAmount</span> <span class="o">*</span> <span class="n">PercentageAlong</span><span class="p">;</span>
		<span class="c1">//Clamp again just to be sure</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//If the BG material reference  isn't null, and the passed HUD isn't null</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw the material as assigned</span>
			<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterialSimple</span><span class="p">(</span><span class="n">MIObj</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//DrawHorizontalSlider</span>

<span class="kt">float</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">DrawVerticalSlider</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Scale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Set vars</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">w</span><span class="p">;</span>
	<span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">ScaleAmount</span> <span class="o">=</span> <span class="n">Scale</span><span class="p">;</span>

	<span class="c1">//Work out how much to extend the slider to make it fit correctly</span>
	<span class="kt">float</span> <span class="n">BGHeightAdd</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="mf">0.08f</span><span class="p">;</span>
	<span class="c1">//If the BG material reference  isn't null, and the passed HUD isn't null</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">BGMIObj</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw the material as assigned</span>
			<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterialSimple</span><span class="p">(</span><span class="n">BGMIObj</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">BGHeightAdd</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGHeightAdd</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//Get a percentage between 0-1</span>
	<span class="kt">float</span> <span class="n">PercentageAlong</span> <span class="o">=</span> <span class="n">Amount</span> <span class="o">/</span> <span class="p">(</span><span class="n">MaxAmount</span> <span class="o">-</span> <span class="n">MinAmount</span><span class="p">);</span>

	<span class="c1">//Inverting</span>
	<span class="n">PercentageAlong</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">PercentageAlong</span><span class="p">;</span>

	<span class="c1">//Work out the size/position of the slider, based off of the total size</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="o">*</span><span class="mf">0.05f</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="n">PercentageAlong</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="mf">2.5f</span><span class="p">;</span>
	<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="p">((</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span> <span class="o">-</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

	<span class="c1">//Check if the mouse is inside the object</span>
	<span class="n">CheckInside</span><span class="p">(</span><span class="n">MousePos</span><span class="p">);</span>

	<span class="c1">//if the object has been grabbed</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">bGrabbed</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//then we are inside the button</span>
		<span class="n">IsInside</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

		<span class="c1">//Work out the ranges the slider can meet</span>
		<span class="kt">float</span> <span class="n">Top</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="mi">0</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
		<span class="kt">float</span> <span class="n">Bottom</span> <span class="o">=</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">*</span> <span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

		<span class="c1">//Update the object to match the mouse pos</span>
		<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
		<span class="c1">//Clamp within ranges</span>
		<span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">Top</span><span class="p">,</span> <span class="n">Bottom</span><span class="p">);</span>

		<span class="c1">//Work out the percentage to return</span>
		<span class="n">PercentageAlong</span> <span class="o">=</span> <span class="p">((</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span class="n">BGShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">;</span>

		<span class="c1">//Inverting</span>
		<span class="n">PercentageAlong</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">PercentageAlong</span><span class="p">;</span>

		<span class="c1">//Calculate the amount</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">MaxAmount</span> <span class="o">*</span> <span class="n">PercentageAlong</span><span class="p">;</span>
		<span class="c1">//Clamp it just to be sure</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//If the BG material reference  isn't null, and the passed HUD isn't null</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">MIObj</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw the material as assigned</span>
			<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawMaterialSimple</span><span class="p">(</span><span class="n">MIObj</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="n">ShapeAndPos</span><span class="p">.</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//DrawVerticalSlider</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">DrawTexture</span><span class="p">(</span><span class="n">AHUD</span><span class="o">*</span> <span class="n">HUDRef</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="n">FColor</span> <span class="n">pColour</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//if the hud exists</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">HUDRef</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//if the texture exists</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">Texture</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw the texture</span>
			<span class="n">HUDRef</span><span class="o">-&gt;</span><span class="n">DrawTexture</span><span class="p">(</span><span class="n">Texture</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span>
				<span class="n">w</span> <span class="o">-</span> <span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">CropX</span><span class="p">),</span> 
				<span class="n">h</span> <span class="o">-</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">CropY</span><span class="p">),</span> 
				<span class="mi">0</span> <span class="o">+</span> <span class="n">CropX</span><span class="p">,</span> 
				<span class="mi">0</span> <span class="o">+</span> <span class="n">CropY</span><span class="p">,</span> 
				<span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">CropU</span><span class="p">)</span> <span class="o">+</span> <span class="n">CropX</span><span class="p">,</span> 
				<span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">CropV</span><span class="p">)</span> <span class="o">+</span> <span class="n">CropY</span><span class="p">,</span> 
				<span class="n">pColour</span><span class="p">);</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">CropObjectUV</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">UVCrop</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Pass in vars within clamped ranges</span>
	<span class="n">CropU</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">UVCrop</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">CropV</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">UVCrop</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span><span class="c1">//CropObjectUV</span>

<span class="kt">void</span> <span class="n">UHUDObjects</span><span class="o">::</span><span class="n">CropObjectXY</span><span class="p">(</span><span class="n">FVector2D</span> <span class="n">XYCrop</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Pass in vars within clamped ranges</span>
	<span class="n">CropX</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">XYCrop</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">CropY</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">XYCrop</span><span class="p">.</span><span class="n">Y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> 
<span class="p">}</span><span class="c1">//CropObjectXY</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="GUI.h">
        GUI.h
       </span>
      </h3>
      <p>
       251 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">"GameFramework/HUD.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"HUDObjects.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"GUI.generated.h"</span><span class="cp"></span>

<span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FButtonMaterial</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>

	<span class="c1">//The material to be used for this HUD object</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Buttons</span><span class="p">)</span>
		<span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">Material</span><span class="p">;</span>

	<span class="c1">//Name of the material var for toggling Highlighting</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Buttons</span><span class="p">)</span>
		<span class="n">FString</span> <span class="n">HighLightVarName</span><span class="p">;</span>

	<span class="c1">//Name of the material var for toggling Selection</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">FString</span> <span class="n">ClickVarName</span><span class="p">;</span>

	<span class="n">FButtonMaterial</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="c1">//Defaults</span>
		<span class="n">HighLightVarName</span> <span class="o">=</span> <span class="s">"HighLight"</span><span class="p">;</span>
		<span class="n">ClickVarName</span> <span class="o">=</span> <span class="s">"Click"</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FAnimationStruct</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>

	<span class="c1">//The material to be used for this HUD object</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">UMaterialInterface</span><span class="o">*</span> <span class="n">Material</span><span class="p">;</span>

	<span class="c1">//Name of the material var for toggling Highlighting</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">FString</span> <span class="n">HighLightVarName</span><span class="p">;</span>

	<span class="c1">//Name of the material var for toggling Selection</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">FString</span> <span class="n">ClickVarName</span><span class="p">;</span>

	<span class="c1">//Animation Rows and Columns</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">FVector2D</span> <span class="n">AnimColRows</span><span class="p">;</span>

	<span class="c1">//Total Number of tiles in the animation</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="kt">float</span> <span class="n">TotalAnimTiles</span><span class="p">;</span>

	<span class="c1">//Time between each frame</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="kt">float</span> <span class="n">FrameDelaySeconds</span><span class="p">;</span>

	<span class="n">FAnimationStruct</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="c1">//Defaults</span>
		<span class="n">TotalAnimTiles</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">FrameDelaySeconds</span> <span class="o">=</span> <span class="mf">0.5f</span><span class="p">;</span>
		<span class="n">HighLightVarName</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
		<span class="n">ClickVarName</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">AGUI</span> <span class="o">:</span> <span class="k">public</span> <span class="n">AHUD</span>
<span class="p">{</span>
	<span class="n">GENERATED_UCLASS_BODY</span><span class="p">()</span>

	<span class="c1">// Infiltrace</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Text</span><span class="p">)</span>
		<span class="n">TArray</span><span class="o">&lt;</span><span class="n">UFont</span><span class="o">*&gt;</span> <span class="n">Fonts</span><span class="p">;</span>

	<span class="c1">//Font scale</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Text</span><span class="p">)</span>
		<span class="kt">float</span> <span class="n">DefaultFontScale</span><span class="p">;</span>

	<span class="c1">//Button Materials </span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Buttons</span><span class="p">)</span>
		<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FButtonMaterial</span><span class="o">&gt;</span> <span class="n">ButtonMaterials</span><span class="p">;</span>

	<span class="c1">//Image Textures</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Textures</span><span class="p">)</span>
		<span class="n">TArray</span><span class="o">&lt;</span><span class="n">UTexture2D</span><span class="o">*&gt;</span> <span class="n">ImageTextures</span><span class="p">;</span>

	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Materials</span><span class="p">)</span>
		<span class="n">TArray</span><span class="o">&lt;</span><span class="n">UMaterialInterface</span><span class="o">*&gt;</span> <span class="n">Materials</span><span class="p">;</span>

	<span class="c1">//Animated Materials</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Animations</span><span class="p">)</span>
		<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FAnimationStruct</span><span class="o">&gt;</span> <span class="n">AnimationMaterials</span><span class="p">;</span>

	<span class="c1">// Draw Hud?</span>
	<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span> <span class="o">=</span> <span class="n">Options</span><span class="p">)</span>
		<span class="kt">bool</span> <span class="n">NoHUD</span><span class="p">;</span>

	<span class="k">public</span><span class="o">:</span>
		<span class="c1">//Reference to the Player Controller</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">APlayerController</span><span class="o">*</span> <span class="n">ThePC</span><span class="p">;</span>

	<span class="k">protected</span><span class="o">:</span>

		<span class="c1">//Screen Sizes</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
			<span class="kt">float</span> <span class="n">SizeX</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
			<span class="kt">float</span> <span class="n">SizeY</span><span class="p">;</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that creates a label with simple, centered text</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param pText - The text to be displayed</span>
<span class="cm">		* @param FontIndex - The font to be used from this HUD's FONT array</span>
<span class="cm">		* @param TextColour - The colour of the font to be displayed</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pScale - Standard AHUD scaling		</span>
<span class="cm">		*/</span>
		<span class="kt">void</span> <span class="nf">Label</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that creates a texture at a specified location, with a given size and colour</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param TextureIndex - The texture to be used from this HUD's TEXTURE array</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pColour - The colour adjustment that should be applied to the texture</span>
<span class="cm">		*/</span>
		<span class="kt">void</span> <span class="nf">Texture</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">TextureIndex</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="n">FColor</span> <span class="n">pColour</span> <span class="o">=</span> <span class="n">FColor</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that creates a basic material, with a given size and position</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param MatIndex - The material to be used from this HUD's MATERIAL array</span>
<span class="cm">		* @param pText - The text to be displayed</span>
<span class="cm">		* @param FontIndex - The font to be used from this HUD's FONT array</span>
<span class="cm">		* @param TextColour - The colour of the font to be displayed</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pScale - Standard AHUD scaling</span>
<span class="cm">		*/</span>
		<span class="kt">void</span> <span class="nf">Material</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">MatIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that creates an Animated Sprite Sheet Material, with a given size and position</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param AnimIndex - The animated material to be used from this HUD's ANIMATEDMATERIAL array</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pScale - Standard AHUD scaling</span>
<span class="cm">		*/</span>
		<span class="kt">void</span> <span class="nf">AnimatedMaterial</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AnimIndex</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that acts as a button, with 3 states: Normal, Highlighted and Clicked. Returns a bool if clicked</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param ButtonIndex - The button material to be used from this HUD's BUTTONMATERIAL array</span>
<span class="cm">		* @param pText - The text to be displayed</span>
<span class="cm">		* @param FontIndex - The font to be used from this HUD's FONT array</span>
<span class="cm">		* @param TextColour - The colour of the font to be displayed</span>
<span class="cm">		* @param pMousePos - The position of the mouse in screen space</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pScale - Standard AHUD scaling</span>
<span class="cm">		*/</span>
		<span class="kt">bool</span> <span class="nf">Button</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ButtonIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that acts as a button, with 3 animated sprite sheet states: Normal, Highlighted and Clicked. Returns a bool if clicked</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param AnimButtonIndex - The button material to be used from this HUD's ANIMATEDMATERIAL array</span>
<span class="cm">		* @param pText - The text to be displayed</span>
<span class="cm">		* @param FontIndex - The font to be used from this HUD's FONT array</span>
<span class="cm">		* @param TextColour - The colour of the font to be displayed</span>
<span class="cm">		* @param pMousePos - The position of the mouse in screen space</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param pScale - Standard AHUD scaling</span>
<span class="cm">		*/</span>
		<span class="kt">bool</span> <span class="nf">AnimatedButton</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AnimButtonIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="cm">/*</span>
<span class="cm">		* GUI Object that returns the updated value of the slider</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param SliderButtonIndex - The button material to be used from this HUD's BUTTONMATERIAL array</span>
<span class="cm">		* @param SliderBackgroundMaterialIndex - The button material to be used from this HUD's MATERIAL array</span>
<span class="cm">		* @param pMousePos - The position of the mouse in screen space</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param Amount - The amount to be passed in on this update pass</span>
<span class="cm">		* @param MinAmount - The minimum amount to be used in this slider</span>
<span class="cm">		* @param MaxAmount - The maximum amount to be used in this slider</span>
<span class="cm">		*/</span>
		<span class="kt">float</span> <span class="nf">HorizontalSlider</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderButtonIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderBackgroundMaterialIndex</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>


		<span class="cm">/*</span>
<span class="cm">		* GUI Object that returns the updated value of the slider</span>
<span class="cm">		* @param Object (out) - The object to be instantiated and/or updated</span>
<span class="cm">		* @param pHUDRef - The hud pointer to be passed : this</span>
<span class="cm">		* @param SliderButtonIndex - The button material to be used from this HUD's BUTTONMATERIAL array</span>
<span class="cm">		* @param SliderBackgroundMaterialIndex - The button material to be used from this HUD's MATERIAL array</span>
<span class="cm">		* @param pMousePos - The position of the mouse in screen space</span>
<span class="cm">		* @param x - The start horizontal position of the object in pixels</span>
<span class="cm">		* @param y - The start vertical position of the object in pixels</span>
<span class="cm">		* @param w - The width of the object in pixels</span>
<span class="cm">		* @param h - The height of the object in pixels</span>
<span class="cm">		* @param Amount - The amount to be passed in on this update pass</span>
<span class="cm">		* @param MinAmount - The minimum amount to be used in this slider</span>
<span class="cm">		* @param MaxAmount - The maximum amount to be used in this slider</span>
<span class="cm">		*/</span>
		<span class="kt">float</span> <span class="nf">VerticalSlider</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderButtonIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderBackgroundMaterialIndex</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span> <span class="o">=</span> <span class="mi">1</span><span class="p">);</span>

		<span class="c1">//Scaling</span>
		<span class="kt">float</span> <span class="nf">CenterHorizontal</span><span class="p">(</span><span class="kt">float</span> <span class="n">Width</span><span class="p">);</span>
		<span class="kt">float</span> <span class="nf">CenterVertical</span><span class="p">(</span><span class="kt">float</span> <span class="n">Height</span><span class="p">);</span>
		<span class="kt">float</span> <span class="nf">ScaleWidth</span><span class="p">(</span><span class="kt">float</span> <span class="n">Width</span><span class="p">);</span>
		<span class="kt">float</span> <span class="nf">ScaleHeight</span><span class="p">(</span><span class="kt">float</span> <span class="n">Height</span><span class="p">);</span>

		<span class="cm">/** after all game elements are created */</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">PostInitializeComponents</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">DrawHUD</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
<span class="p">};</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="GUI.cpp">
        GUI.cpp
       </span>
      </h3>
      <p>
       346 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#include</span> <span class="cpf">"YourGame.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"GUI.h"</span><span class="cp"></span>

<span class="c1">//Constructor</span>
<span class="n">AGUI</span><span class="o">::</span><span class="n">AGUI</span><span class="p">(</span><span class="k">const</span> <span class="k">class</span> <span class="nc">FPostConstructInitializeProperties</span><span class="o">&amp;</span> <span class="n">PCIP</span><span class="p">)</span> <span class="o">:</span> <span class="n">Super</span><span class="p">(</span><span class="n">PCIP</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Draw HUD?</span>
	<span class="n">NoHUD</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

	<span class="c1">//Scale</span>
	<span class="n">DefaultFontScale</span> <span class="o">=</span> <span class="mf">0.7</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Constructor</span>

<span class="c1">//SCALING</span>
<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">ScaleWidth</span><span class="p">(</span><span class="kt">float</span> <span class="n">Width</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">Width</span> <span class="o">/</span> <span class="mi">1920</span><span class="p">)</span><span class="o">*</span><span class="n">SizeX</span><span class="p">;</span>
<span class="p">}</span><span class="c1">///Scale Width</span>

<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">CenterHorizontal</span><span class="p">(</span><span class="kt">float</span> <span class="n">Width</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">SizeX</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ScaleWidth</span><span class="p">(</span><span class="n">Width</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span><span class="c1">//CenterHorizontal</span>

<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">ScaleHeight</span><span class="p">(</span><span class="kt">float</span> <span class="n">Height</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">Height</span> <span class="o">/</span> <span class="mi">1920</span><span class="p">)</span><span class="o">*</span><span class="n">SizeY</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//ScaleHeight</span>

<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">CenterVertical</span><span class="p">(</span><span class="kt">float</span> <span class="n">Height</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">SizeY</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ScaleHeight</span><span class="p">(</span><span class="n">Height</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span><span class="c1">//CenterVertical</span>

<span class="c1">//CORE</span>
<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">PostInitializeComponents</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">PostInitializeComponents</span><span class="p">();</span>

	<span class="c1">//Grab the PC</span>
	<span class="n">ThePC</span> <span class="o">=</span> <span class="n">GetOwningPlayerController</span><span class="p">();</span>
<span class="p">}</span><span class="c1">//PostInitializeComponents</span>

<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//If the PC is NULL</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Try to get the PC</span>
		<span class="n">ThePC</span> <span class="o">=</span> <span class="n">GetOwningPlayerController</span><span class="p">();</span>

		<span class="c1">//If there still isn't a PC, then return</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//Check that the PC's input exists, otherwise, return</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">PlayerInput</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

	<span class="c1">//Draw HUD?</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">NoHUD</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

	<span class="c1">//Super</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">();</span>

	<span class="c1">//No Canvas?</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

	<span class="c1">//Assign the canvas sizes to the global vars for use outside of DrawHUD</span>
	<span class="n">SizeX</span> <span class="o">=</span> <span class="n">Canvas</span><span class="o">-&gt;</span><span class="n">SizeX</span><span class="p">;</span>
	<span class="n">SizeY</span> <span class="o">=</span> <span class="n">Canvas</span><span class="o">-&gt;</span><span class="n">SizeY</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//DrawHUD</span>

<span class="c1">//GUI WIDGETS</span>
<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">Label</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Instantiate new object and assign reference to the pointer</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">Fonts</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">FontIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="n">pText</span><span class="p">,</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Update the object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Update</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">FVector2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">pScale</span><span class="p">,</span> <span class="n">TextColour</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//Label</span>

<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">Texture</span><span class="p">(</span><span class="cm">/* Out */</span> <span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">TextureIndex</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="n">FColor</span> <span class="n">pColour</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ImageTextures</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">TextureIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ImageTextures</span><span class="p">[</span><span class="n">TextureIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="n">ImageTextures</span><span class="p">[</span><span class="n">TextureIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Update the object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">DrawTexture</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">FColor</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//Texture</span>

<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">Material</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">MatIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ButtonMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">MatIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">MatIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">FontIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span> <span class="n">Materials</span><span class="p">[</span><span class="n">MatIndex</span><span class="p">],</span> <span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">pText</span><span class="p">,</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if	</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Update object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Update</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">FVector2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">pScale</span><span class="p">,</span> <span class="n">TextColour</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//Material</span>

<span class="kt">void</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">AnimatedMaterial</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AnimIndex</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Instantiate new object and assign reference to the pointer</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">AnimationMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">AnimIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">Material</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">HighLightVarName</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">ClickVarName</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">AnimColRows</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">TotalAnimTiles</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimIndex</span><span class="p">].</span><span class="n">FrameDelaySeconds</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span><span class="c1">//if</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Update the object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Update</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">FVector2D</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">pScale</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//Animated Material</span>

<span class="kt">bool</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">Button</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ButtonIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//If the object doesn't exit</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ButtonMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">ButtonIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">ButtonIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">FontIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//create a new version of the object</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">ButtonIndex</span><span class="p">].</span><span class="n">Material</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">ButtonIndex</span><span class="p">].</span><span class="n">HighLightVarName</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">ButtonIndex</span><span class="p">].</span><span class="n">ClickVarName</span><span class="p">,</span> <span class="n">pText</span><span class="p">,</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if	</span>

		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Update the object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Update</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">pScale</span><span class="p">,</span> <span class="n">TextColour</span><span class="p">);</span>

		<span class="c1">//If the left mouse button is down</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">IsInputKeyDown</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//if the object is hovered and the button was just pressed</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">WasInputKeyJustPressed</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="c1">//we have grabbed the object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="c1">//if the object has been grabbed</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//set it to false</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">();</span>
			<span class="p">}</span><span class="c1">//if</span>
			<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//else</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//button</span>

<span class="kt">bool</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">AnimatedButton</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">AnimButtonIndex</span><span class="p">,</span> <span class="n">FString</span> <span class="n">pText</span><span class="p">,</span> <span class="kt">int</span> <span class="n">FontIndex</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TextColour</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">pScale</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Instantiate new object and assign reference to the pointer</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">AnimationMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">AnimButtonIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">FontIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//create a new object</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">Material</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">HighLightVarName</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">ClickVarName</span><span class="p">,</span> <span class="n">pText</span><span class="p">,</span> <span class="n">Fonts</span><span class="p">[</span><span class="n">FontIndex</span><span class="p">],</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">AnimColRows</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">TotalAnimTiles</span><span class="p">,</span> <span class="n">AnimationMaterials</span><span class="p">[</span><span class="n">AnimButtonIndex</span><span class="p">].</span><span class="n">FrameDelaySeconds</span><span class="p">);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>

		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//update object</span>
		<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Update</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">pScale</span><span class="p">,</span> <span class="n">TextColour</span><span class="p">);</span>

		<span class="c1">//if the left mouse button is down</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">IsInputKeyDown</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="c1">//if the mouse is over the object and the button was pressed during this frame</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">WasInputKeyJustPressed</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="c1">//we have grabbed the object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="c1">//if the object has been grabbed</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//set it to false</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
				<span class="k">return</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">();</span>
			<span class="p">}</span><span class="c1">//if</span>
			<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
		<span class="p">}</span><span class="c1">//else</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//else</span>
<span class="p">}</span><span class="c1">//AnimatedButton</span>

<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">HorizontalSlider</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderButtonIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderBackgroundMaterialIndex</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ButtonMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">SliderButtonIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span> <span class="o">&amp;&amp;</span> <span class="n">Materials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Materials</span><span class="p">[</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">Material</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">HighLightVarName</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">ClickVarName</span><span class="p">,</span> <span class="n">Materials</span><span class="p">[</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>

		<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">IsInputKeyDown</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">((</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">()</span> <span class="o">||</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">CheckInsideSliderBG</span><span class="p">(</span><span class="n">pMousePos</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">WasInputKeyJustPressed</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//else</span>

		<span class="c1">//Clamp the range just to be sure</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">);</span>

		<span class="c1">//Draw slider button</span>
		<span class="k">return</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">DrawHorizontalSlider</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
	<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//HorizontalSlider</span>

<span class="kt">float</span> <span class="n">AGUI</span><span class="o">::</span><span class="n">VerticalSlider</span><span class="p">(</span><span class="n">UHUDObjects</span><span class="o">*</span> <span class="o">&amp;</span> <span class="n">Object</span><span class="p">,</span> <span class="n">AHUD</span><span class="o">*</span> <span class="n">pHUDRef</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderButtonIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">SliderBackgroundMaterialIndex</span><span class="p">,</span> <span class="n">FVector2D</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">w</span><span class="p">,</span> <span class="kt">float</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Amount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="kt">float</span> <span class="n">MaxAmount</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//If the pointer has an object</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ButtonMaterials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">SliderButtonIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">Material</span> <span class="o">!=</span> <span class="k">nullptr</span> <span class="o">&amp;&amp;</span> <span class="n">Materials</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">Materials</span><span class="p">[</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">]</span> <span class="o">!=</span> <span class="k">nullptr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">Object</span> <span class="o">=</span> <span class="n">NewObject</span><span class="o">&lt;</span><span class="n">UHUDObjects</span><span class="o">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="c1">//Set up the HUD Object</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">Init</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">Material</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">HighLightVarName</span><span class="p">,</span> <span class="n">ButtonMaterials</span><span class="p">[</span><span class="n">SliderButtonIndex</span><span class="p">].</span><span class="n">ClickVarName</span><span class="p">,</span> <span class="n">Materials</span><span class="p">[</span><span class="n">SliderBackgroundMaterialIndex</span><span class="p">]);</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>

		<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">IsInputKeyDown</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">((</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">Hovered</span><span class="p">()</span> <span class="o">||</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">CheckInsideSliderBG</span><span class="p">(</span><span class="n">pMousePos</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">WasInputKeyJustPressed</span><span class="p">(</span><span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//if</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">Object</span><span class="o">-&gt;</span><span class="n">bGrabbed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
			<span class="p">}</span><span class="c1">//if</span>
		<span class="p">}</span><span class="c1">//else</span>

		<span class="c1">//Clamp the range just to be sure</span>
		<span class="n">Amount</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">Clamp</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">);</span>

		<span class="c1">//Draw slider button</span>
		<span class="k">return</span> <span class="n">Object</span><span class="o">-&gt;</span><span class="n">DrawVerticalSlider</span><span class="p">(</span><span class="n">pHUDRef</span><span class="p">,</span> <span class="n">Amount</span><span class="p">,</span> <span class="n">MinAmount</span><span class="p">,</span> <span class="n">MaxAmount</span><span class="p">,</span> <span class="n">pMousePos</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span><span class="c1">//else</span>
	<span class="k">return</span> <span class="n">Amount</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//VerticalSlider</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="YourHUD.h">
        YourHUD.h
       </span>
      </h3>
      <p>
       42 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">"GUI.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"YourHUD.generated.h"</span><span class="cp"></span>

<span class="n">UCLASS</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">AYourHUD</span> <span class="o">:</span> <span class="k">public</span> <span class="n">AGUI</span>
<span class="p">{</span>
	<span class="n">GENERATED_UCLASS_BODY</span><span class="p">()</span>
	
	<span class="k">public</span><span class="o">:</span>
		
		<span class="c1">//Objects we will be using to demonstrate each type of object</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestLabel</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestTexture</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestMaterial</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestAnimMaterial</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestButton</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestAnimButton</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestHorizontalSlider</span><span class="p">;</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">UHUDObjects</span><span class="o">*</span> <span class="n">TestVerticalSlider</span><span class="p">;</span>
		
		<span class="c1">//Variables to hold for the sliders</span>
		<span class="kt">float</span> <span class="n">horizontalSlideValue</span><span class="p">;</span>
		<span class="kt">float</span> <span class="n">verticalSlideValue</span><span class="p">;</span>
		
		<span class="c1">//Variable to hold mouse position</span>
		<span class="n">UPROPERTY</span><span class="p">()</span>
		<span class="n">FVector2D</span> <span class="n">MousePos</span><span class="p">;</span>
		
	<span class="k">protected</span><span class="o">:</span>
		<span class="c1">//Draw HUD</span>
		<span class="k">virtual</span> <span class="kt">void</span> <span class="n">DrawHUD</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
<span class="p">};</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="YourHUD.cpp">
        YourHUD.cpp
       </span>
      </h3>
      <p>
       72 Lines
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#include</span> <span class="cpf">"YourGame.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"YourHUD.h"</span><span class="cp"></span>

<span class="c1">//Constructor</span>
<span class="n">AYourHUD</span><span class="o">::</span><span class="n">AYourHUD</span><span class="p">(</span><span class="k">const</span> <span class="k">class</span> <span class="nc">FPostConstructInitializeProperties</span><span class="o">&amp;</span> <span class="n">PCIP</span><span class="p">)</span> <span class="o">:</span> <span class="n">Super</span><span class="p">(</span><span class="n">PCIP</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Default the mouse positions</span>
	<span class="n">MousePos</span><span class="p">.</span><span class="n">X</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	
	<span class="c1">//Default the slider values</span>
	<span class="n">horizontalSlideValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">verticalSlideValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span><span class="c1">//Constructor</span>

<span class="kt">void</span> <span class="n">AYourHUD</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//If the PC is NULL</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Try to get the PC</span>
		<span class="n">ThePC</span> <span class="o">=</span> <span class="n">GetOwningPlayerController</span><span class="p">();</span>

		<span class="c1">//If there still isn't a PC, then return</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="p">}</span><span class="c1">//if</span>

	<span class="c1">//Check that the PC's input exists, otherwise, return</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">PlayerInput</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span> 

	<span class="c1">//Draw HUD?</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">NoHUD</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

	<span class="c1">//Super</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">();</span>

	<span class="c1">//No Canvas?</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	
	<span class="c1">//Grab the mouse position</span>
	<span class="n">ThePC</span><span class="o">-&gt;</span><span class="n">GetMousePosition</span><span class="p">(</span><span class="n">MousePos</span><span class="p">.</span><span class="n">X</span><span class="p">,</span> <span class="n">MousePos</span><span class="p">.</span><span class="n">Y</span><span class="p">);</span>

	<span class="c1">//This works by passing the object, this hud, the text, the index of the font array you want to use, the mouse position, then rectangle positioning, using scaling functions, and then the font size, scaled to the screen.</span>
	<span class="n">Label</span><span class="p">(</span><span class="n">TestLabel</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="s">"This is a label!"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">White</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">0.75f</span><span class="p">));</span>
	
	<span class="c1">//This works by passing the object, this hud, the index of the texture array you want to use, then rectangle positioning, and finally a tint colour</span>
	<span class="n">Texture</span><span class="p">(</span><span class="n">TestTexture</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">240</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">FColor</span><span class="o">::</span><span class="n">White</span><span class="p">);</span>
	
	<span class="c1">//This works by passing the object, this hud, the index of the material array you want to use, the text, the index of the font array you want to use, rectangle positioning, and font/material scaling</span>
	<span class="n">Material</span><span class="p">(</span><span class="n">TestMaterial</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"This is a material!"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">White</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">360</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">0.75f</span><span class="p">));</span>
	
	<span class="c1">//This works by passing the object, this hud, the index of the animated material array you want to use, rectangle positions, and font/material scaling</span>
	<span class="n">AnimatedMaterial</span><span class="p">(</span><span class="n">TestAnimMaterial</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">480</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">0.75f</span><span class="p">));</span>
	
	<span class="c1">//This works by passing the object, this hud, then index of the button material array you want to use, the text, the index of the font, the font colour, the mouse position, rectangle positioning and font/material scaling</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="n">TestButton</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"This is a button!"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">White</span><span class="p">,</span> <span class="n">MousePos</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">600</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">0.75f</span><span class="p">)))</span>
	<span class="p">{</span>
		<span class="c1">//Stuff goes here for when button is clicked</span>
	<span class="p">}</span><span class="c1">//if</span>
	
	<span class="c1">//This works by passing the object, this hud, then index of the animated button material array you want to use, the text, the index of the font, the font colour, the mouse position, rectangle positioning and font/material scaling</span>
	<span class="k">if</span><span class="p">(</span><span class="n">AnimatedButton</span><span class="p">(</span><span class="n">TestAnimButton</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"This is an animated button!"</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="o">::</span><span class="n">White</span><span class="p">,</span> <span class="n">MousePos</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">720</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">120</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">0.75f</span><span class="p">)))</span>
	<span class="p">{</span>
		<span class="c1">//Stuff goes here for when button is clicked</span>
	<span class="p">}</span><span class="c1">//if</span>
	
	<span class="c1">//This works by passing the object, this hud, the index of the button for the slider, the index for the material for the background, rectangle positioning, the current value, the min value and the max value.</span>
	<span class="n">horizontalSlideValue</span> <span class="o">=</span> <span class="n">HorizontalSlider</span><span class="p">(</span><span class="n">TestHorizontalSlider</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">MousePos</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">840</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mf">7.5f</span><span class="p">),</span> <span class="n">horizontalSlideValue</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	
	<span class="c1">//This works by passing the object, this hud, the index of the button for the slider, the index for the material for the background, rectangle positioning, the current value, the min value and the max value.</span>
	<span class="n">verticalSlideValue</span> <span class="o">=</span> <span class="n">HorizontalSlider</span><span class="p">(</span><span class="n">TestVerticalSlider</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">MousePos</span><span class="p">,</span> <span class="n">CenterHorizontal</span><span class="p">(</span><span class="mi">400</span><span class="p">),</span> <span class="n">CenterVertical</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">ScaleWidth</span><span class="p">(</span><span class="mf">7.5f</span><span class="p">),</span> <span class="n">ScaleHeight</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span> <span class="n">verticalSlideValue</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>	
<span class="p">}</span><span class="c1">//DrawHUD</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="BluePrint.2FEditor_End">
        BluePrint/Editor End
       </span>
      </h2>
      <p>
       Once you have compild your new project, make a new Class BluePrint of "YourHUD" and set the new BP to be your HUD System.
Open the BluePrint and go into the defaults.
      </p>
      <h3>
       <span class="mw-headline" id="Text_Section">
        Text Section
       </span>
      </h3>
      <p>
       Drop down the Text section, add an element to the Fonts array, and add in the font you created earlier.
Any time the script asks for a 'Font Index', it's referring to the element number of this array. (On the left)
      </p>
      <p>
       <img alt="Fonts" class="thumbborder" height="111" src="../assets/hud-unity-3d-ongui-remake/6.png" width="409"/>
      </p>
      <h3>
       <span class="mw-headline" id="Buttons_Section">
        Buttons Section
       </span>
      </h3>
      <p>
       Drop down the Button section, add an element to the Button Materials array, and add in the button material you created earlier.
Set the Highlight and Click names to be the respective parameters in that material.
Any time the script asks for a 'Button Index' or 'Slider Button Index', it's referring to the element number of this array. (On the left)
      </p>
      <p>
       <img alt="Buttons" class="thumbborder" height="192" src="../assets/hud-unity-3d-ongui-remake/7.png" width="497"/>
      </p>
      <h3>
       <span class="mw-headline" id="Textures_Section">
        Textures Section
       </span>
      </h3>
      <p>
       Drop down the Textures section, add an element to the Image Textures array, and add in the texture you want.
Any time the script asks for a 'Texture Index', it's referring to the element number of this array. (On the left)
      </p>
      <p>
       <img alt="Textures" class="thumbborder" height="130" src="../assets/hud-unity-3d-ongui-remake/8.png" width="415"/>
      </p>
      <h3>
       <span class="mw-headline" id="Materials_Section">
        Materials Section
       </span>
      </h3>
      <p>
       Drop down the Materials section, add an element to the Materials array, and add in the simple material you made earlier.
Any time the script asks for a 'Material Index' or 'Slider Background Material Index', it's referring to the element number of this array. (On the left)
      </p>
      <p>
       <img alt="Materials" class="thumbborder" height="125" src="../assets/hud-unity-3d-ongui-remake/9.png" width="413"/>
      </p>
      <h3>
       <span class="mw-headline" id="Animations_Section">
        Animations Section
       </span>
      </h3>
      <p>
       Drop down the Animations section, add an element to the Animation Materials array, and add in the simple or button material you created earlier.
NOTE: This expects the textures of the material to be in a sprite sheet layout.
If its a Button, then set the Highlight and Click names to be the respective parameters in that material.
Any time the script asks for a 'Anim Button Index' or 'Anim Index', it's referring to the element number of this array. (On the left)
      </p>
      <p>
       The 'Anim Col Rows' is how many sprites across the texture is, then how many down.
Total anim tiles is how many tiles there are altogether, in case it doesn't go all the way to the end.
The Frame Delay Seconds is how much time you want there to be between frame updates.
      </p>
      <p>
       <img alt="Animations" class="thumbborder" height="267" src="../assets/hud-unity-3d-ongui-remake/10.png" width="488"/>
      </p>
      <h2>
       <span class="mw-headline" id="Conclusion">
        Conclusion
       </span>
      </h2>
      <p>
       You can take this code and make whatever kind of HUD system you want.
I never demonstrated it, but there are functions in the GUI class that can crop animated materials,
so you can have an animated health bar thats cropped from the left, making it look like it's decreasing without cutting off at the right.
'CropXY(FVector2D)' and 'CropUV(FVector2D)'
      </p>
      <p>
       You can also set up your own mouse system that doesn't use 'ThePC-&gt;GetMousePosition()' and implement a cool feature like gamepad control, etc.
      </p>
      <p>
       -Peace
      </p>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>