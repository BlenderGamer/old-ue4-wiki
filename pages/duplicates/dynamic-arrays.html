<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   Dynamic Arrays - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Dynamic Arrays
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Overview">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Overview
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-2">
           <a href="#Example_1">
            <span class="tocnumber">
             1.1
            </span>
            <span class="toctext">
             Example 1
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-3">
           <a href="#Example_2">
            <span class="tocnumber">
             1.2
            </span>
            <span class="toctext">
             Example 2
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-4">
           <a href="#Summary">
            <span class="tocnumber">
             1.3
            </span>
            <span class="toctext">
             Summary
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-5">
         <a href="#Available_Types">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           Available Types
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-6">
           <a href="#C.2B.2B_Type">
            <span class="tocnumber">
             2.1
            </span>
            <span class="toctext">
             C++ Type
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-7">
           <a href="#UE4_C.2B.2B_Type">
            <span class="tocnumber">
             2.2
            </span>
            <span class="toctext">
             UE4 C++ Type
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-8">
           <a href="#Pointer_to_UObject_Class">
            <span class="tocnumber">
             2.3
            </span>
            <span class="toctext">
             Pointer to UObject Class
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-9">
           <a href="#Pointer_to_AActor_Class">
            <span class="tocnumber">
             2.4
            </span>
            <span class="toctext">
             Pointer to AActor Class
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-10">
           <a href="#Pointer_to_Blueprint_Class">
            <span class="tocnumber">
             2.5
            </span>
            <span class="toctext">
             Pointer to Blueprint Class
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-11">
           <a href="#UE4_C.2B.2B_Enums">
            <span class="tocnumber">
             2.6
            </span>
            <span class="toctext">
             UE4 C++ Enums
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-12">
         <a href="#Arrays_of_USTRUCTS.28.29_or_Pointers_to_UStructs">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           Arrays of USTRUCTS() or Pointers to UStructs
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-13">
           <a href="#Sample_USTRUCT.28.29">
            <span class="tocnumber">
             3.1
            </span>
            <span class="toctext">
             Sample USTRUCT()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-14">
           <a href="#Array_of_USTRUCTS.28.29">
            <span class="tocnumber">
             3.2
            </span>
            <span class="toctext">
             Array of USTRUCTS()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-15">
           <a href="#The_Pointer_Version">
            <span class="tocnumber">
             3.3
            </span>
            <span class="toctext">
             The Pointer Version
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-16">
         <a href="#Blueprint-Accessible_Dynamic_Arrays">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           Blueprint-Accessible Dynamic Arrays
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-17">
         <a href="#Core_Functions">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           Core Functions
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-18">
           <a href="#.Add.28.29">
            <span class="tocnumber">
             5.1
            </span>
            <span class="toctext">
             .Add()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-19">
           <a href="#.Remove.28.29">
            <span class="tocnumber">
             5.2
            </span>
            <span class="toctext">
             .Remove()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-20">
           <a href="#.RemoveAt.28.29">
            <span class="tocnumber">
             5.3
            </span>
            <span class="toctext">
             .RemoveAt()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-21">
           <a href="#.Num.28.29">
            <span class="tocnumber">
             5.4
            </span>
            <span class="toctext">
             .Num()
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-22">
         <a href="#For_Loops">
          <span class="tocnumber">
           6
          </span>
          <span class="toctext">
           For Loops
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-23">
           <a href="#Basic">
            <span class="tocnumber">
             6.1
            </span>
            <span class="toctext">
             Basic
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-24">
           <a href="#For_AActor.2A">
            <span class="tocnumber">
             6.2
            </span>
            <span class="toctext">
             For AActor*
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-25">
           <a href="#Using_Iterator">
            <span class="tocnumber">
             6.3
            </span>
            <span class="toctext">
             Using Iterator
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-26">
           <a href="#Iterator_AActor.2A_Example">
            <span class="tocnumber">
             6.4
            </span>
            <span class="toctext">
             Iterator AActor* Example
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-27">
           <a href="#Abbreviated_C.2B.2B11_Syntax">
            <span class="tocnumber">
             6.5
            </span>
            <span class="toctext">
             Abbreviated C++11 Syntax
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-28">
         <a href="#Index_Safety_Check_To_Prevent_Crashes">
          <span class="tocnumber">
           7
          </span>
          <span class="toctext">
           Index Safety Check To Prevent Crashes
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-29">
           <a href="#.IsValidIndex.28.29">
            <span class="tocnumber">
             7.1
            </span>
            <span class="toctext">
             .IsValidIndex()
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-30">
         <a href="#Awesome_Functions">
          <span class="tocnumber">
           8
          </span>
          <span class="toctext">
           Awesome Functions
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-31">
           <a href="#.Empty.28.29">
            <span class="tocnumber">
             8.1
            </span>
            <span class="toctext">
             .Empty()
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-32">
           <a href="#.Append.28.29">
            <span class="tocnumber">
             8.2
            </span>
            <span class="toctext">
             .Append()
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-33">
         <a href="#Min.2FMax_of_Array_.284.3_and_higher.29">
          <span class="tocnumber">
           9
          </span>
          <span class="toctext">
           Min/Max of Array (4.3 and higher)
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-34">
         <a href="#Multi_Dimensional_Arrays">
          <span class="tocnumber">
           10
          </span>
          <span class="toctext">
           Multi Dimensional Arrays
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-35">
           <a href="#.H">
            <span class="tocnumber">
             10.1
            </span>
            <span class="toctext">
             .H
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-36">
           <a href="#.CPP">
            <span class="tocnumber">
             10.2
            </span>
            <span class="toctext">
             .CPP
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-37">
           <a href="#Full_2D_Array_Code_Sample">
            <span class="tocnumber">
             10.3
            </span>
            <span class="toctext">
             Full 2D Array Code Sample
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-38">
         <a href="#.5BEpic_Docs.5D_TArray_Optimization_Techniques">
          <span class="tocnumber">
           11
          </span>
          <span class="toctext">
           [Epic Docs] TArray Optimization Techniques
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-39">
         <a href="#Summary_2">
          <span class="tocnumber">
           12
          </span>
          <span class="toctext">
           Summary
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id="Overview">
        Overview
       </span>
      </h2>
      <p>
       <i>
        Original Author:
       </i>
       (
       )
      </p>
      <p>
       Dear Community,
      </p>
      <p>
       Here is my introduction to UE4 C++ Dynamic Arrays!
      </p>
      <p>
       They're awesome!
      </p>
      <h3>
       <span class="mw-headline" id="Example_1">
        Example 1
       </span>
      </h3>
      <p>
       You can use dynamic arrays to store references to every ACharacter that crosses a certain point in your level, and then, after at least 5 ACharacters have crossed the point, you can iterate over all the actors and perform an action.
      </p>
      <p>
       So in this way, you could make it a game-ending condition that if 5 bunny-rabbits reach their home, then the game ends in success.
      </p>
      <p>
       During runtime you never know how long it will take for the bunny-rabbits to reach home, but via code you can track how many have reached home, whenever they do, and the iterate over all of them to make them perform some kind of victory dance as the level ends.
      </p>
      <p>
       But you also never know which bunny-rabbits will be doing the dancing!
      </p>
      <p>
       thus the word "dynamic"
      </p>
      <p>
       <b>
        Dynamic arrays enable you to track dynamically changing game conditions from the UE4 C++
       </b>
      </p>
      <h3>
       <span class="mw-headline" id="Example_2">
        Example 2
       </span>
      </h3>
      <p>
       You could make a dynamic array that is accessible to blueprints so your team members working in blueprints can add information to the dynamic array, which you as the programmer will then use in c++ during runtime.
      </p>
      <p>
       But you as the programmer do not know how much data they will add!
      </p>
      <p>
       So you could give the level designers a dynamic array to edit in blueprints, and they will fill it with 3 or 10 or 100 level names.
      </p>
      <p>
       Then you can, in the C++, iterate over all of the level names and display them,
       <b>
        without ever knowing in advance how many levels the designers added!
       </b>
      </p>
      <p>
       And the level designers can add more any time!
      </p>
      <h3>
       <span class="mw-headline" id="Summary">
        Summary
       </span>
      </h3>
      <p>
       <b>
        Dynamic arrays are one of the most essential tools
       </b>
       for any game-logic that you want to do,
      </p>
      <p>
       where the actions of the player, the in-game AI, and the rest of your team cannot be known in advance,
      </p>
      <p>
       but need to be tracked, organized, and facilitated via UE4 C++ code systems.
      </p>
      <h2>
       <span class="mw-headline" id="Available_Types">
        Available Types
       </span>
      </h2>
      <ul>
       <li>
        Any C++ type
       </li>
       <li>
        Any UE4 C++ type, such as FLinearColor
       </li>
       <li>
        Pointer to a UObject or an AActor extending class
       </li>
       <li>
        Pointer to Blueprint Classes
       </li>
       <li>
        UE4++ Enums
       </li>
       <li>
        USTRUCTS() or USTRUCT() pointers
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="C.2B.2B_Type">
        C++ Type
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">uint8</span><span class="o">&gt;</span> <span class="n">BinaryArray</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="UE4_C.2B.2B_Type">
        UE4 C++ Type
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FRotator</span><span class="o">&gt;</span> <span class="n">StarLocations</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Pointer_to_UObject_Class">
        Pointer to UObject Class
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">USkeletalMeshComponent</span><span class="o">*&gt;</span> <span class="n">Weapons</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Pointer_to_AActor_Class">
        Pointer to AActor Class
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">ACharacter</span><span class="o">*&gt;</span> <span class="n">FrogsThatAreHopping</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Pointer_to_Blueprint_Class">
        Pointer to Blueprint Class
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">UClass</span><span class="o">*&gt;</span> <span class="n">FlowerBlueprints</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="UE4_C.2B.2B_Enums">
        UE4 C++ Enums
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">EKeys</span><span class="o">::</span><span class="n">Type</span><span class="o">&gt;</span> <span class="n">GameControlKeys</span><span class="p">;</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Arrays_of_USTRUCTS.28.29_or_Pointers_to_UStructs">
        Arrays of USTRUCTS() or Pointers to UStructs
       </span>
      </h2>
      <p>
       Let's say you have defined this USTRUCT()
      </p>
      <h3>
       <span class="mw-headline" id="Sample_USTRUCT.28.29">
        Sample USTRUCT()
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FFlowerStruct</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>

	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">int32</span> <span class="n">NumPetals</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">FLinearColor</span> <span class="n">Color</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">FVector</span> <span class="n">Scale3D</span><span class="p">;</span>
	
	<span class="kt">void</span> <span class="nf">SetFlowerColor</span><span class="p">(</span><span class="k">const</span> <span class="n">FLinearColor</span><span class="o">&amp;</span> <span class="n">NewColor</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">Color</span> <span class="o">=</span> <span class="n">NewColor</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">FFlowerStruct</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">NumPetals</span> 	<span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
		<span class="n">Scale3D</span> 		<span class="o">=</span> <span class="n">FVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
		<span class="n">Color</span> 			<span class="o">=</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">};</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Array_of_USTRUCTS.28.29">
        Array of USTRUCTS()
       </span>
      </h3>
      <p>
       You can make an array of FFlowerStructs as follows!
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FFlowerStruct</span><span class="o">&gt;</span> <span class="n">Flowers</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="The_Pointer_Version">
        The Pointer Version
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FFlowerStruct</span><span class="o">*&gt;</span> <span class="n">FlowerPtrs</span><span class="p">;</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Blueprint-Accessible_Dynamic_Arrays">
        Blueprint-Accessible Dynamic Arrays
       </span>
      </h2>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cm">/** Add entries in BP Defaults, or during Runtime! Iterate over them using the For Each Loop BP Node */</span>
<span class="n">UPROPERTY</span><span class="p">(</span><span class="n">EditAnywhere</span><span class="p">,</span> <span class="n">BlueprintReadWrite</span><span class="p">,</span> <span class="n">Category</span><span class="o">=</span><span class="s">"Flowers"</span><span class="p">)</span>
<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FName</span><span class="o">&gt;</span> <span class="n">FlowerNames</span><span class="p">;</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Core_Functions">
        Core Functions
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id=".Add.28.29">
        .Add()
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">StarLocations</span><span class="p">;</span>
<span class="n">StarLocations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">FVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2000000</span><span class="p">));</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id=".Remove.28.29">
        .Remove()
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//Defined in the .h file: </span>
<span class="c1">//  TArray&lt;ACharacter*&gt; FrogsThatAreHopping;</span>
<span class="c1">//  ACharacter* FrogThatIsTired;</span>

<span class="n">FrogsThatAreHopping</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="n">FrogThatIsTired</span><span class="p">);</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id=".RemoveAt.28.29">
        .RemoveAt()
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//Remove first frog from the array</span>
<span class="k">if</span><span class="p">(</span><span class="n">FrogsThatAreHopping</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">FrogsThatAreHopping</span><span class="p">.</span><span class="n">RemoveAt</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id=".Num.28.29">
        .Num()
       </span>
      </h3>
      <p>
       Returns number of elements in the array (can be used when you need the length of the array).
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">ClientMessage</span><span class="p">(</span><span class="s">"Total Flower Count"</span><span class="p">);</span>
<span class="n">ClientMessage</span><span class="p">(</span><span class="n">FString</span><span class="o">::</span><span class="n">FromInt</span><span class="p">(</span><span class="n">Flowers</span><span class="p">.</span><span class="n">Num</span><span class="p">()));</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="For_Loops">
        For Loops
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Basic">
        Basic
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">// defined in .h TArray&lt;FVector&gt; StarLocations;</span>

<span class="c1">//Print Star Locations</span>
<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">StarLocations</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">ClientMessage</span><span class="p">(</span><span class="n">StarLocations</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="For_AActor.2A">
        For AActor*
       </span>
      </h3>
      <p>
       I am including very rigorous
       <b>
        pointer safety
       </b>
       and
       <b>
        AActor validity
       </b>
       checks,
      </p>
      <p>
       because you dont want your whole game to crash to desktop, ever :)
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//defined in the .h : TArray&lt;AFlower*&gt; Flowers;</span>

<span class="c1">//Print out each flower's UE4 Name</span>

<span class="n">AFlower</span><span class="o">*</span> <span class="n">CurFlower</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">Flowers</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CurFlower</span> <span class="o">=</span> <span class="n">Flowers</span><span class="p">[</span><span class="n">b</span><span class="p">];</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CurFlower</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CurFlower</span><span class="o">-&gt;</span><span class="n">IsValidLowLevel</span><span class="p">())</span> <span class="k">continue</span><span class="p">;</span>
	<span class="c1">//~~~~~~~~~~~~~~~~~~~~~~</span>
		
	<span class="n">ClientMessage</span><span class="p">(</span><span class="n">CurFlower</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Using_Iterator">
        Using Iterator
       </span>
      </h3>
      <p>
       Posted originally by Solid Snake, thanks Solid Snake!
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">Iter</span><span class="p">(</span><span class="n">TArray</span><span class="p">.</span><span class="n">CreateIterator</span><span class="p">());</span> <span class="n">Iter</span><span class="p">;</span> <span class="n">Iter</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// *Iter to access what this iterator is pointing to.</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Iterator_AActor.2A_Example">
        Iterator AActor* Example
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//defined in the .h : TArray&lt;AFlower*&gt; Flowers;</span>

<span class="c1">//Print out each flower's UE4 Name</span>
<span class="k">for</span> <span class="p">(</span><span class="k">auto</span> <span class="n">Itr</span><span class="p">(</span><span class="n">Flowers</span><span class="p">.</span><span class="n">CreateIterator</span><span class="p">());</span> <span class="n">Itr</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="o">*</span><span class="n">Itr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">IsValidLowLevel</span><span class="p">())</span> <span class="k">continue</span><span class="p">;</span>
	<span class="c1">//~~~~~~~~~~~~~~~~~~~~~~</span>
		
	<span class="n">ClientMessage</span><span class="p">((</span><span class="o">*</span><span class="n">Itr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">GetName</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Abbreviated_C.2B.2B11_Syntax">
        Abbreviated C++11 Syntax
       </span>
      </h3>
      <p>
       This one is great when you don't need to know the index as you are iterating!
       (
       )
      </p>
      <p>
       this:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">StarLocations</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">ClientMessage</span><span class="p">(</span><span class="n">StarLocations</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <p>
       becomes this:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="k">for</span><span class="p">(</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="nl">EachLocation</span> <span class="p">:</span> <span class="n">StarLocations</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">ClientMessage</span><span class="p">(</span><span class="n">EachLocation</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <p>
       If you want to change the value in the loop, and not just read it, then remove the const :)
      </p>
      <h2>
       <span class="mw-headline" id="Index_Safety_Check_To_Prevent_Crashes">
        Index Safety Check To Prevent Crashes
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id=".IsValidIndex.28.29">
        .IsValidIndex()
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//defined in .h</span>
<span class="c1">//TArray&lt;float&gt; RandomPercentValues;</span>

<span class="c1">//Pick a random Percent Value!</span>
<span class="kt">float</span> <span class="n">AMyPlayerController</span><span class="o">::</span><span class="n">GetRandomPercenttValue</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
	<span class="c1">//Negative array indicies are always invalid </span>
	<span class="c1">//		and will always cause a crash if you try to use one.</span>

	<span class="c1">//Use IsValidIndex to verify the index is in range </span>
	<span class="c1">//		***before*** you try to access the array!</span>

	<span class="k">const</span> <span class="n">int32</span> <span class="n">RandomIndex</span> <span class="o">=</span> <span class="n">FMath</span><span class="o">::</span><span class="n">RandRange</span><span class="p">(</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span><span class="mi">10000</span><span class="p">);</span> 
	
	<span class="c1">//Safety Check</span>
	<span class="k">if</span><span class="p">(</span> <span class="o">!</span> <span class="n">RandomPercentValues</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">RandomIndex</span><span class="p">))</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="c1">//~~~~~~~~~~~~~~~~~~~~~~~</span>
	
	<span class="k">return</span> <span class="n">RandomPercentValues</span><span class="p">[</span><span class="n">RandomIndex</span><span class="p">];</span>
<span class="p">}</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Awesome_Functions">
        Awesome Functions
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id=".Empty.28.29">
        .Empty()
       </span>
      </h3>
      <p>
       Empty array of all current contents
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//It's nighttime, no more hopping;</span>
<span class="n">FrogsThatAreHopping</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id=".Append.28.29">
        .Append()
       </span>
      </h3>
      <p>
       Add the entire contents of one array to the end of another!
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">StarLocations</span><span class="p">;</span>
<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">CloudLocations</span><span class="p">;</span>
<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">StarAndCloudLocations</span><span class="p">;</span>

<span class="n">StarLocations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">200000</span><span class="p">);</span>
<span class="n">CloudLocations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">11000</span><span class="p">);</span>
<span class="n">CloudLocations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">22200</span><span class="p">);</span>

<span class="n">StarAndCloudLocations</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">StarLocations</span><span class="p">);</span>
<span class="n">StarAndCloudLocations</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="n">CloudLocations</span><span class="p">);</span>

<span class="c1">//Print out all Locations</span>
<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">b</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">StarAndCloudLocations</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ClientMessage</span><span class="p">(</span><span class="n">StarAndCloudLocations</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">ToString</span><span class="p">());</span>
<span class="p">}</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Min.2FMax_of_Array_.284.3_and_higher.29">
        Min/Max of Array (4.3 and higher)
       </span>
      </h2>
      <p>
       I offered two Math Library functions to Epic which are now part of the Engine in 4.3, allowing you to get the Min/Max of a Dynamic Array of any datatype for which the operator&lt; is defined!
      </p>
      <p>
       Full details here:
      </p>
      <p>
       <b>
       </b>
      </p>
      <h2>
       <span class="mw-headline" id="Multi_Dimensional_Arrays">
        Multi Dimensional Arrays
       </span>
      </h2>
      <p>
       To make a 2 or higher dimensional array,
      </p>
      <p>
       wrap the array in a UStruct, and then make an Array of the UStructs
      </p>
      <h3>
       <span class="mw-headline" id=".H">
        .H
       </span>
      </h3>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FFlowerField</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>

	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FFlowerStruct</span><span class="o">&gt;</span> <span class="n">Flowers</span><span class="p">;</span>
	
	<span class="n">FFlowerField</span><span class="p">()</span>
	<span class="p">{</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="c1">//All Flower Fields on The Island</span>
<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FFlowerField</span><span class="o">&gt;</span> <span class="n">FlowerFields</span><span class="p">;</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id=".CPP">
        .CPP
       </span>
      </h3>
      <p>
       Then to Access a single Flower
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//Is there at least 1 Flower Field?</span>
<span class="k">if</span><span class="p">(</span><span class="n">FlowerFields</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">//Does the first field have at least 3 flowers? (could use .Num() too)</span>
  <span class="k">if</span><span class="p">(</span><span class="n">FlowerFields</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">Flowers</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
  <span class="p">{</span>
     <span class="c1">//Number of petals on the 3rd flower in 1st field</span>
     <span class="n">ClientMessage</span><span class="p">(</span><span class="n">FString</span><span class="o">::</span><span class="n">FromInt</span><span class="p">(</span><span class="n">FlowerFields</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">Flowers</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">NumPetals</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Full_2D_Array_Code_Sample">
        Full 2D Array Code Sample
       </span>
      </h3>
      <p>
       I have two extensive code samples for how to make 2D arrays that are BP-friendly and can be replicated!
      </p>
      <p>
       <a class="external text" href="https://forums.unrealengine.com/showthread.php?47-SaxonRahs-Tutorial-Thread-Random-Maze-Generation-amp-Solving&amp;p=27139&amp;viewfull=1#post27139" rel="nofollow">
        My Fully Coded 2D Array Example
       </a>
      </p>
      <p>
       <a class="external text" href="https://forums.unrealengine.com/showthread.php?60398-Replicating-a-2D-dynamic-array&amp;p=232520&amp;viewfull=1#post232520" rel="nofollow">
        Replicating BP-Friendly 2D Array
       </a>
      </p>
      <h2>
       <span class="mw-headline" id=".5BEpic_Docs.5D_TArray_Optimization_Techniques">
        [Epic Docs] TArray Optimization Techniques
       </span>
      </h2>
      <p>
       Epic has posted an awesome article on ways you can optimize your use of TArray!
      </p>
      <p>
       <a class="external text" href="https://www.unrealengine.com/blog/optimizing-tarray-usage-for-performance" rel="nofollow">
        <b>
         TArray Optimizations for Performance
        </b>
       </a>
      </p>
      <h2>
       <span class="mw-headline" id="Summary_2">
        Summary
       </span>
      </h2>
      <p>
       I hope you have enjoyed my description of UE4 C++ Dynamic Arrays!
      </p>
      <p>
       Enjoy!
      </p>
      <p>
       (
       )
      </p>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>