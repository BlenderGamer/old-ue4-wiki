<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   Networking 多人在线游戏之如何测试 - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Networking 多人在线游戏之如何测试
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <p>
      </p>
      <p>
       <big>
        NOTE : WIP, don't delete for this moment, please. Thanks :) 文档编写过程中
       </big>
      </p>
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#.E6.A6.82.E8.BF.B0">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           概述
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-2">
         <a href="#.E6.9C.8D.E5.8A.A1.E5.99.A8.E7.B1.BB.E5.9E.8B">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           服务器类型
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-3">
         <a href="#.E6.96.B0.E5.BB.BA.E9.A1.B9.E7.9B.AE.E5.B9.B6.E8.BF.90.E8.A1.8C.E6.B5.8B.E8.AF.95">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           新建项目并运行测试
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-4">
           <a href="#.E7.BC.96.E8.BE.91.E5.99.A8.28PIE.29.E4.B8.AD.E8.BF.90.E8.A1.8C">
            <span class="tocnumber">
             3.1
            </span>
            <span class="toctext">
             编辑器(PIE)中运行
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-5">
           <a href="#.E4.BB.A5Launch.E6.96.B9.E5.BC.8F.E8.BF.90.E8.A1.8C">
            <span class="tocnumber">
             3.2
            </span>
            <span class="toctext">
             以Launch方式运行
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-6">
           <a href="#.E4.BB.A5.E5.8F.91.E5.B8.83.E6.96.B9.E5.BC.8F.E8.BF.90.E8.A1.8C">
            <span class="tocnumber">
             3.3
            </span>
            <span class="toctext">
             以发布方式运行
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-7">
         <a href="#.E6.80.BB.E7.BB.93">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           总结
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id=".E6.A6.82.E8.BF.B0">
        概述
       </span>
      </h2>
      <p>
       Unreal Engine中开发网络游戏极为容易，但将C/S同置于一个项目，也许对于很多熟悉编写独立C/S的开发者来说比较不适应。将通过本教程介绍常见的几种多人游戏测试方法。
示例项目：Blueprint Third Person Template
      </p>
      <h2>
       <span class="mw-headline" id=".E6.9C.8D.E5.8A.A1.E5.99.A8.E7.B1.BB.E5.9E.8B">
        服务器类型
       </span>
      </h2>
      <p>
       在次之前先简单介绍UE4中两种服务器类型：
      </p>
      <ul>
       <li>
        Listen-Server ：Listen-Server 表示玩家
       </li>
       <li>
        Dedicated-Server ：与我们常见的无异
       </li>
      </ul>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id=".E6.96.B0.E5.BB.BA.E9.A1.B9.E7.9B.AE.E5.B9.B6.E8.BF.90.E8.A1.8C.E6.B5.8B.E8.AF.95">
        新建项目并运行测试
       </span>
      </h2>
      <p>
       <img alt="Ue4 network how to test 01.png" class="" height="738" src="../assets/networking/0.png" width="933"/>
      </p>
      <h3>
       <span class="mw-headline" id=".E7.BC.96.E8.BE.91.E5.99.A8.28PIE.29.E4.B8.AD.E8.BF.90.E8.A1.8C">
        编辑器(PIE)中运行
       </span>
      </h3>
      <p>
       点击Play右侧的小三角，现在我们主要关注：
      </p>
      <p>
       <img alt="Ue4 network how to test 02.png" class="" height="402" src="../assets/networking/1.png" width="327"/>
      </p>
      <p>
       Numbers of Clients :
当我们指定的客户端数量超过1个时，就表示我们想运行多人游戏了，这里最大数量是64，也就是最多支持64人。
Run Dedicated Server: 勾选表示运行独立服务器，不选择则运行Listen Server
      </p>
      <p>
       <img alt="Ue4 network how to test 03.png" class="" height="1029" src="../assets/networking/2.png" width="972"/>
      </p>
      <p>
       点击Play就可以了看到立即实例化两个角色出来了。
      </p>
      <p>
       <img alt="Ue4 network how to test 04.png" class="" height="399" src="../assets/networking/3.png" width="326"/>
      </p>
      <p>
       <img alt="Ue4 network how to test 05.png" class="" height="1027" src="../assets/networking/4.png" width="972"/>
      </p>
      <p>
       其他：
根据需要，可以点击Advanced，模拟客户端的窗口的位置与大小。
      </p>
      <p>
       <img alt="Ue4 network how to test 06.png" class="" height="625" src="../assets/networking/5.png" width="923"/>
      </p>
      <p>
       虽然PIE测试很简单，但有些情况下PIE并不能满足我们的需求，比如说我们在测试另一个玩家开火的声音，或者看另一个玩家蹲下被爆头的效果等等至少需要两个人才能完成测试的条件下，PIE就难以满足。
      </p>
      <p>
       <img alt="Ue4 network how to test 07.png" class="" height="296" src="../assets/networking/6.png" width="1129"/>
      </p>
      <h3>
       <span class="mw-headline" id=".E4.BB.A5Launch.E6.96.B9.E5.BC.8F.E8.BF.90.E8.A1.8C">
        以Launch方式运行
       </span>
      </h3>
      <p>
       首先抱歉的是，我不知道该如何命名这个运行方式。
      </p>
      <p>
       在你的编辑器也就是UE4Editor.exe目录下创建 分别运行客户端、服务端的快捷方式，
右击快捷方式，
加上参数，客户端很简单：127.0.0.1 -game
- 示例：
C:\UnrealEngine\4.2.1\Engine\Binaries\Win64\UE4Editor.exe D:\Project\Unreal\4.2\MyTPS\127.0.0.1 -game
      </p>
      <p>
       服务端 :
Listen Server: Example_Map?listen -game
- 示例：
C:\UnrealEngine\4.2.1\Engine\Binaries\Win64\UE4Editor.exe D:\Project\Unreal\4.2\MyTPS\MyTPS.uproject Example_Map?listen -game
      </p>
      <p>
       Dedicated Server : &lt;MapName&gt; -server -log
- 示例：
Map5D -server -log
      </p>
      <p>
       为什么要使用这种方式运行？
这是最接近编译结果的方式，你可以多人联机测试
      </p>
      <p>
       <br/>
      </p>
      <h3>
       <span class="mw-headline" id=".E4.BB.A5.E5.8F.91.E5.B8.83.E6.96.B9.E5.BC.8F.E8.BF.90.E8.A1.8C">
        以发布方式运行
       </span>
      </h3>
      <p>
       发布游戏，我们需要打包游戏资源，编译游戏代码。如果你是刚刚开始学习UE4，这边的资料可能
有些繁杂。
      </p>
      <p>
       UE4是开源的，就目前而言也是不成熟的，大部分情况下我们使用编译过的编辑器来工作，
不成熟导致我们在从编译好的编辑器下打包游戏时，只有DebugGame/Development/Shipping三
个选项，但没有编译客户端还是服务器的概念。
      </p>
      <p>
       所以想要以发布的方式运行多人游戏，在本文里只介绍使用Listen Server，如果对如何打包
Dedicated Server感兴趣，可以看看我的另外一篇博文：
Unreal Engine 4 Packaging与Cooking游戏项目
      </p>
      <h2>
       <span class="mw-headline" id=".E6.80.BB.E7.BB.93">
        总结
       </span>
      </h2>
      <p>
       联系我：
      </p>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>