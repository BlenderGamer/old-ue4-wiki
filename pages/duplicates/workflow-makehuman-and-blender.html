<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   Workflow: MakeHuman and Blender - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Workflow: MakeHuman and Blender
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <p>
      </p>
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Workflow:_MakeHuman.2C_Blender.2C_UE4_-_Rigging_and_Animation">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Workflow: MakeHuman, Blender, UE4 - Rigging and Animation
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-2">
           <a href="#Introduction">
            <span class="tocnumber">
             1.1
            </span>
            <span class="toctext">
             Introduction
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-3">
           <a href="#Prerequisites">
            <span class="tocnumber">
             1.2
            </span>
            <span class="toctext">
             Prerequisites
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-4">
             <a href="#bvhacker">
              <span class="tocnumber">
               1.2.1
              </span>
              <span class="toctext">
               bvhacker
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-5">
             <a href="#Motion_Captures">
              <span class="tocnumber">
               1.2.2
              </span>
              <span class="toctext">
               Motion Captures
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-6">
             <a href="#MakeHuman">
              <span class="tocnumber">
               1.2.3
              </span>
              <span class="toctext">
               MakeHuman
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-7">
             <a href="#Autodesk_FBX_Converter">
              <span class="tocnumber">
               1.2.4
              </span>
              <span class="toctext">
               Autodesk FBX Converter
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-8">
             <a href="#Blender_2.7">
              <span class="tocnumber">
               1.2.5
              </span>
              <span class="toctext">
               Blender 2.7
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-9">
             <a href="#Blender_IO-FBX">
              <span class="tocnumber">
               1.2.6
              </span>
              <span class="toctext">
               Blender IO-FBX
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-10">
             <a href="#Setting_up_Blender">
              <span class="tocnumber">
               1.2.7
              </span>
              <span class="toctext">
               Setting up Blender
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="toclevel-2 tocsection-11">
           <a href="#Create_character_in_MakeHuman">
            <span class="tocnumber">
             1.3
            </span>
            <span class="toctext">
             Create character in MakeHuman
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-12">
           <a href="#Import_character_in_Blender">
            <span class="tocnumber">
             1.4
            </span>
            <span class="toctext">
             Import character in Blender
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-13">
           <a href="#Add_animation_to_character">
            <span class="tocnumber">
             1.5
            </span>
            <span class="toctext">
             Add animation to character
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-14">
           <a href="#Export_from_Blender_to_UE4">
            <span class="tocnumber">
             1.6
            </span>
            <span class="toctext">
             Export from Blender to UE4
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-15">
             <a href="#MHX_to_FBX_export">
              <span class="tocnumber">
               1.6.1
              </span>
              <span class="toctext">
               MHX to FBX export
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-16">
             <a href="#Import_to_UE4">
              <span class="tocnumber">
               1.6.2
              </span>
              <span class="toctext">
               Import to UE4
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-17">
             <a href="#Texturing_your_character">
              <span class="tocnumber">
               1.6.3
              </span>
              <span class="toctext">
               Texturing your character
              </span>
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
       </ul>
      </div>
      <p>
       <br/>
      </p>
      <h1>
       <span class="mw-headline" id="Workflow:_MakeHuman.2C_Blender.2C_UE4_-_Rigging_and_Animation">
        Workflow: MakeHuman, Blender, UE4 - Rigging and Animation
       </span>
      </h1>
      <h2>
       <span class="mw-headline" id="Introduction">
        Introduction
       </span>
      </h2>
      <p>
       This tutorial will show you how you can make a character in MakeHuman, export it to Blender, add an animation to it and import it into UE4.
The tutorial is based on KingBadger3d's great YouTube tutorial (
       <a class="external free" href="http://www.youtube.com/user/KingBadger3d/videos" rel="nofollow">
        http://www.youtube.com/user/KingBadger3d/videos
       </a>
       ).
This tutorial tries at using Open Source Software where possible.
      </p>
      <h2>
       <span class="mw-headline" id="Prerequisites">
        Prerequisites
       </span>
      </h2>
      <p>
       We need a few programs to work with.
      </p>
      <h3>
       <span class="mw-headline" id="bvhacker">
        bvhacker
       </span>
      </h3>
      <p>
       URL:
       <a class="external free" href="http://davedub.co.uk/bvhacker/index.html" rel="nofollow">
        http://davedub.co.uk/bvhacker/index.html
       </a>
       Used to modify *.bvh motion capture files. You can use it to realign animations and get rid of root motion.
You can use blender for this, too:
       <a class="external free" href="https://forums.unrealengine.com/showthread.php?11313-Getting-rid-of-Root-Motion" rel="nofollow">
        https://forums.unrealengine.com/showthread.php?11313-Getting-rid-of-Root-Motion
       </a>
      </p>
      <h3>
       <span class="mw-headline" id="Motion_Captures">
        Motion Captures
       </span>
      </h3>
      <p>
       You can get free motion captures from e.g.:
-
       <a class="external free" href="http://accad.osu.edu/research/mocap/mocap_data.htm" rel="nofollow">
        http://accad.osu.edu/research/mocap/mocap_data.htm
       </a>
      </p>
      <h3>
       <span class="mw-headline" id="MakeHuman">
        MakeHuman
       </span>
      </h3>
      <p>
       URL:
       <a class="external free" href="http://www.makehuman.org/" rel="nofollow">
        http://www.makehuman.org
       </a>
       Used to create human characters, including rigs.
Don't forget to download the Blender Tools, too!
      </p>
      <h3>
       <span class="mw-headline" id="Autodesk_FBX_Converter">
        Autodesk FBX Converter
       </span>
      </h3>
      <p>
       URL:
       <a class="external free" href="http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&amp;id=22694909" rel="nofollow">
        http://usa.autodesk.com/adsk/servlet/pc/item?siteID=123112&amp;id=22694909
       </a>
       Used to convert ASCII-FBX files to Binary FBX files (may not be needed with Blender 2.71 anymore).
      </p>
      <h3>
       <span class="mw-headline" id="Blender_2.7">
        Blender 2.7
       </span>
      </h3>
      <p>
       URL:
       <a class="external free" href="http://www.blender.org/" rel="nofollow">
        http://www.blender.org/
       </a>
      </p>
      <h3>
       <span class="mw-headline" id="Blender_IO-FBX">
        Blender IO-FBX
       </span>
      </h3>
      <p>
       Most likely not needed for Blender 2.71
URL:
       <a class="external free" href="https://github.com/mont29/blender-io-fbx/commits/master" rel="nofollow">
        https://github.com/mont29/blender-io-fbx/commits/master
       </a>
       Installation: DELETE "C:\Program Files\Blender Foundation\Blender\2.70\scripts\addons\io_scene_fbx", then copy the folder from github there.
      </p>
      <h3>
       <span class="mw-headline" id="Setting_up_Blender">
        Setting up Blender
       </span>
      </h3>
      <p>
       - Unzip blendertools-1.x.x-all.zip to "C:\Users\USER\AppData\Roaming\Blender Foundation\Blender\2.70\scripts\addons"
- Open Blender's User Preferences and activate all MakeHuman plugins
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:818px;">
        <img alt="001 Settings.png" class="thumbimage" height="518" src="../assets/workflow-makehuman-and-blender/0.png" width="816"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Set "Auto run python scripts"
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:818px;">
        <img alt="002 Prefs Scripts.png" class="thumbimage" height="518" src="../assets/workflow-makehuman-and-blender/1.png" width="816"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Activate "Rigify
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:818px;">
        <img alt="003 Prefs Rigify.png" class="thumbimage" height="653" src="../assets/workflow-makehuman-and-blender/2.png" width="816"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - DEactivate "Import/Export MakeHuman" in the CATEGORY Import-Export
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:818px;">
        <img alt="004 Prefs ImportExport.png" class="thumbimage" height="653" src="../assets/workflow-makehuman-and-blender/3.png" width="816"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Click "Save User Settings" in the User Preferences window and close it
      </p>
      <h2>
       <span class="mw-headline" id="Create_character_in_MakeHuman">
        Create character in MakeHuman
       </span>
      </h2>
      <p>
       Not much to tell here. Feel free to create any character you like.
Please use low poly eyes, otherwise your character will be cross-eyes in UE4.
To export your character, use these settings:
- Set "Pose/Animate - Rig Presets" to HumanIK.
- MeshFormat: Blender exchange (.mhx)
- Options: Feet on ground, Export for Rigify
- Scale units: centimeter
      </p>
      <h2>
       <span class="mw-headline" id="Import_character_in_Blender">
        Import character in Blender
       </span>
      </h2>
      <p>
       Delete all stuff from the default scene (camera, light, cube).
Click File - Import - Makehumane (.mhx)
You should now see your character in Blender!
      </p>
      <h2>
       <span class="mw-headline" id="Add_animation_to_character">
        Add animation to character
       </span>
      </h2>
      <p>
       Set the maximum number of frames in Blender to a number that fits your desired animation!
In the Pose Tools / MakeWalk catagory click "Load And Retarget"
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:201px;">
        <img alt="005 MakeWalk.png" class="thumbimage" height="169" src="../assets/workflow-makehuman-and-blender/4.png" width="199"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       Now choose a *.bvh file. Adjust the value of "Last Frame" if your animation is longer.
      </p>
      <p>
       That's all! Click the play button in Blender's animation controls and your character should perform the motion capture animation.
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:226px;">
        <img alt="006 Playbutton.png" class="thumbimage" height="40" src="../assets/workflow-makehuman-and-blender/5.png" width="224"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Export_from_Blender_to_UE4">
        Export from Blender to UE4
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="MHX_to_FBX_export">
        MHX to FBX export
       </span>
      </h3>
      <p>
       First we have to export the character mesh and the skeleton. 
DO NOT continue. Start a NEW project in Blender.
      </p>
      <p>
       - Import your MakeHuman file again into Blender
- Do not change anything
- Export to "Autodesk FBX"
- Use settings (Blender 2.71 may not need this): FBX 6.1 ASCII, enabled ONLY "Mesh" and "Armature", check "Include Tangent Space"
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:240px;">
        <img alt="007 FBX export.png" class="thumbimage" height="596" src="../assets/workflow-makehuman-and-blender/6.png" width="238"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Now continue, as already described above, to import your .bvh animation
- Export again to "Autodesk FBX", but ONLY enabled "Armature"
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:241px;">
        <img alt="008 FBX export arma.png" class="thumbimage" height="583" src="../assets/workflow-makehuman-and-blender/7.png" width="239"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Use Autodesk FBX Converter to convert the ASCII FBX files to "FBX 2013 Binary"
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:623px;">
        <img alt="009 AD FBX Converter.png" class="thumbimage" height="162" src="../assets/workflow-makehuman-and-blender/8.png" width="621"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <h3>
       <span class="mw-headline" id="Import_to_UE4">
        Import to UE4
       </span>
      </h3>
      <p>
       Create a new Unreal project (e.g. Third Person Blueprint).
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:469px;">
        <img alt="010 Import.png" class="thumbimage" height="287" src="../assets/workflow-makehuman-and-blender/9.png" width="467"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       <br/>
       - First, import the MESH (the export without the bvh animation!)
- Set: Skeletal Mesh, None Skeleton, Import Normals and Tangents, Use T0 as Ref Pose, Preserve Smoothing Groups, None Physics Asset, Import Materials
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:353px;">
        <img alt="011 Import Mesh.png" class="thumbimage" height="739" src="../assets/workflow-makehuman-and-blender/10.png" width="351"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - After that, import the FBX file with the animation
- Select the imported mesh as Skeleton, and set the desired number of frames (using "Exported Times" usually works, though)
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:405px;">
        <img alt="012 Import Anim.png" class="thumbimage" height="447" src="../assets/workflow-makehuman-and-blender/11.png" width="403"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       - Drag your imported character into the editor
- Set Animation mode to "Use Animation Asset" 
- Set Anim to play to your imported animation
- Click play and watch your character performing the animation in UE4!
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:942px;">
        <img alt="013 Use Char.png" class="thumbimage" height="610" src="../assets/workflow-makehuman-and-blender/12.png" width="940"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <h3>
       <span class="mw-headline" id="Texturing_your_character">
        Texturing your character
       </span>
      </h3>
      <p>
       Create a new texture folder in UE4.
Blender exported all textures to a subfolder "textures". Drag all those files into the empty textures folder in your content browser.
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:942px;">
        <img alt="014 Textures import.png" class="thumbimage" height="696" src="../assets/workflow-makehuman-and-blender/13.png" width="940"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       Now open the MATERIALS that UE4 imported and set the "Base color" to the according texture.
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:942px;">
        <img alt="015 Set Materials.png" class="thumbimage" height="532" src="../assets/workflow-makehuman-and-blender/14.png" width="940"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <p>
       Connect the normals textures of the jeans and t-shirt (if you used them) to the normal pin.
      </p>
      <p>
       Eyelashes and eyebrows need a little transparency. Set the material's blend mode to "translucent" and connect the alpha channel to the opacity pin.
      </p>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:824px;">
        <img alt="016 Brows.png" class="thumbimage" height="640" src="../assets/workflow-makehuman-and-blender/15.png" width="822"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
      <div class="thumb tnone">
       <div class="thumbinner" style="width:291px;">
        <img alt="017 Brows Result.png" class="thumbimage" height="165" src="../assets/workflow-makehuman-and-blender/16.png" width="289"/>
        <div class="thumbcaption">
         <div class="magnify">
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>