<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <link href="https://www.epicgames.com/tos"/>
  <title>
   Rama's Vertex Snap Editor Plugin - Old UE4 Wiki
  </title>
  <link href="../styles.css" rel="stylesheet"/>
 </head>
 <body>
  <nav id="top-nav">
   <a href="../index.html" title="Home">
    Home
   </a>
  </nav>
  <div class="mw-body" id="content" role="main">
   <a id="top">
   </a>
   <div class="mw-indicators mw-body-content">
   </div>
   <h1 class="firstHeading" id="firstHeading" lang="en">
    Rama's Vertex Snap Editor Plugin
   </h1>
   <div class="mw-body-content" id="bodyContent">
    <div class="noprint" id="siteSub">
     From Epic Wiki
    </div>
    <div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en">
     <div class="mw-parser-output">
      <div class="toc" id="toc">
       <div class="toctitle">
        <h2>
         Contents
        </h2>
       </div>
       <ul>
        <li class="toclevel-1 tocsection-1">
         <a href="#Overview">
          <span class="tocnumber">
           1
          </span>
          <span class="toctext">
           Overview
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-2">
           <a href="#Entire_C.2B.2B_Source_Code">
            <span class="tocnumber">
             1.1
            </span>
            <span class="toctext">
             Entire C++ Source Code
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-3">
         <a href="#Pictures">
          <span class="tocnumber">
           2
          </span>
          <span class="toctext">
           Pictures
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-4">
         <a href="#Plugin_Release_Dates_and_UE4_Engine_Versions">
          <span class="tocnumber">
           3
          </span>
          <span class="toctext">
           Plugin Release Dates and UE4 Engine Versions
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-5">
         <a href="#All_Future_Updates">
          <span class="tocnumber">
           4
          </span>
          <span class="toctext">
           All Future Updates
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-6">
           <a href="#Victory_Ed_Engine_.7E_Vertex_Snapping_.26_Instanced_Static_Mesh_Editor">
            <span class="tocnumber">
             4.1
            </span>
            <span class="toctext">
             Victory Ed Engine ~ Vertex Snapping &amp; Instanced Static Mesh Editor
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-7">
             <a href="#Media_Fire_Download_Links">
              <span class="tocnumber">
               4.1.1
              </span>
              <span class="toctext">
               Media Fire Download Links
              </span>
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-8">
         <a href="#Installation_of_Victory_Blueprint_Library">
          <span class="tocnumber">
           5
          </span>
          <span class="toctext">
           Installation of Victory Blueprint Library
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-9">
         <a href="#Installation_of_VictoryEdEngine_for_Vertex_Snapping">
          <span class="tocnumber">
           6
          </span>
          <span class="toctext">
           Installation of VictoryEdEngine for Vertex Snapping
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-10">
           <a href="#Disabling_My_Editor_Mode_.2F_Entire_Plugin">
            <span class="tocnumber">
             6.1
            </span>
            <span class="toctext">
             Disabling My Editor Mode / Entire Plugin
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-11">
         <a href="#Instanced_Static_Mesh_Editor">
          <span class="tocnumber">
           7
          </span>
          <span class="toctext">
           Instanced Static Mesh Editor
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-12">
           <a href="#Update:_Part_of_Victory_Ed_Engine">
            <span class="tocnumber">
             7.1
            </span>
            <span class="toctext">
             Update: Part of Victory Ed Engine
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-13">
           <a href="#Mandatory_Setup_Step">
            <span class="tocnumber">
             7.2
            </span>
            <span class="toctext">
             Mandatory Setup Step
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-14">
         <a href="#Works_With_UE4_Undo_System">
          <span class="tocnumber">
           8
          </span>
          <span class="toctext">
           Works With UE4 Undo System
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-15">
         <a href="#Newest_Editor_Feature:">
          <span class="tocnumber">
           9
          </span>
          <span class="toctext">
           Newest Editor Feature:
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-16">
           <a href="#New_Display_Options">
            <span class="tocnumber">
             9.1
            </span>
            <span class="toctext">
             New Display Options
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-17">
           <a href="#New_Workflow.283.2F27.2F14.29">
            <span class="tocnumber">
             9.2
            </span>
            <span class="toctext">
             New Workflow(3/27/14)
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-18">
           <a href="#New_Snap_to_Surface_Normal_Workflow">
            <span class="tocnumber">
             9.3
            </span>
            <span class="toctext">
             New Snap to Surface Normal Workflow
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-19">
         <a href="#Drop_Static_Meshes_to_Nearest_Surface.21">
          <span class="tocnumber">
           10
          </span>
          <span class="toctext">
           Drop Static Meshes to Nearest Surface!
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-20">
         <a href="#Vertex_Snap_Plugin">
          <span class="tocnumber">
           11
          </span>
          <span class="toctext">
           Vertex Snap Plugin
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-21">
           <a href="#UE4_Editor_Plugin.2C_No_Code_Compile_Required">
            <span class="tocnumber">
             11.1
            </span>
            <span class="toctext">
             UE4 Editor Plugin, No Code Compile Required
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-22">
         <a href="#Victory_Editor_Align_Mode">
          <span class="tocnumber">
           12
          </span>
          <span class="toctext">
           Victory Editor Align Mode
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-23">
           <a href="#Features:">
            <span class="tocnumber">
             12.1
            </span>
            <span class="toctext">
             Features:
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-24">
             <a href="#Instant_Mouse_Move_of_Static_Mesh_Actor">
              <span class="tocnumber">
               12.1.1
              </span>
              <span class="toctext">
               Instant Mouse Move of Static Mesh Actor
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-25">
             <a href="#Reset_any_Static_Mesh_Actor.27s_rotation_to_0">
              <span class="tocnumber">
               12.1.2
              </span>
              <span class="toctext">
               Reset any Static Mesh Actor's rotation to 0
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-26">
             <a href="#Vertx_Display_and_Snapping">
              <span class="tocnumber">
               12.1.3
              </span>
              <span class="toctext">
               Vertx Display and Snapping
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-27">
             <a href="#Vertex_Resizing">
              <span class="tocnumber">
               12.1.4
              </span>
              <span class="toctext">
               Vertex Resizing
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-28">
             <a href="#Verticies_Dynamically_Update">
              <span class="tocnumber">
               12.1.5
              </span>
              <span class="toctext">
               Verticies Dynamically Update
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-29">
             <a href="#Vertex_Selection">
              <span class="tocnumber">
               12.1.6
              </span>
              <span class="toctext">
               Vertex Selection
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="toclevel-2 tocsection-30">
           <a href="#WorkFlow_Efficiency">
            <span class="tocnumber">
             12.2
            </span>
            <span class="toctext">
             WorkFlow Efficiency
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-31">
             <a href="#Fast_User_Interface">
              <span class="tocnumber">
               12.2.1
              </span>
              <span class="toctext">
               Fast User Interface
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-32">
             <a href="#Speed:_Using_the_PDI_.2F_Primitive_Draw_Interface">
              <span class="tocnumber">
               12.2.2
              </span>
              <span class="toctext">
               Speed: Using the PDI / Primitive Draw Interface
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-33">
             <a href="#High_Vertex_Counts">
              <span class="tocnumber">
               12.2.3
              </span>
              <span class="toctext">
               High Vertex Counts
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-34">
             <a href="#Editor_Environment_Integration">
              <span class="tocnumber">
               12.2.4
              </span>
              <span class="toctext">
               Editor Environment Integration
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="toclevel-2 tocsection-35">
           <a href="#Using_Vertex_Snap_Mode">
            <span class="tocnumber">
             12.3
            </span>
            <span class="toctext">
             Using Vertex Snap Mode
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-36">
           <a href="#Vertex_Editor_Plugin_Summary">
            <span class="tocnumber">
             12.4
            </span>
            <span class="toctext">
             Vertex Editor Plugin Summary
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-37">
         <a href="#">
          <span class="tocnumber">
           13
          </span>
          <span class="toctext">
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-38">
         <a href="#My_Entire_Plugin_C.2B.2B_Source_Code">
          <span class="tocnumber">
           14
          </span>
          <span class="toctext">
           My Entire Plugin C++ Source Code
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-39">
           <a href="#Credits">
            <span class="tocnumber">
             14.1
            </span>
            <span class="toctext">
             Credits
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-40">
           <a href="#VictoryEdEngine">
            <span class="tocnumber">
             14.2
            </span>
            <span class="toctext">
             VictoryEdEngine
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-41">
             <a href="#.H">
              <span class="tocnumber">
               14.2.1
              </span>
              <span class="toctext">
               .H
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-42">
             <a href="#.CPP">
              <span class="tocnumber">
               14.2.2
              </span>
              <span class="toctext">
               .CPP
              </span>
             </a>
            </li>
           </ul>
          </li>
          <li class="toclevel-2 tocsection-43">
           <a href="#VictoryEdMode">
            <span class="tocnumber">
             14.3
            </span>
            <span class="toctext">
             VictoryEdMode
            </span>
           </a>
           <ul>
            <li class="toclevel-3 tocsection-44">
             <a href="#.H_2">
              <span class="tocnumber">
               14.3.1
              </span>
              <span class="toctext">
               .H
              </span>
             </a>
            </li>
            <li class="toclevel-3 tocsection-45">
             <a href="#.CPP_2">
              <span class="tocnumber">
               14.3.2
              </span>
              <span class="toctext">
               .CPP
              </span>
             </a>
            </li>
           </ul>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-46">
         <a href="#_2">
          <span class="tocnumber">
           15
          </span>
          <span class="toctext">
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-47">
         <a href="#Core_of_Making_Your_Own_Editor_Mode">
          <span class="tocnumber">
           16
          </span>
          <span class="toctext">
           Core of Making Your Own Editor Mode
          </span>
         </a>
         <ul>
          <li class="toclevel-2 tocsection-48">
           <a href="#Interaction_of_EdEngine_with_EdMode_Class">
            <span class="tocnumber">
             16.1
            </span>
            <span class="toctext">
             Interaction of EdEngine with EdMode Class
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-49">
           <a href="#Activating_The_Editor_Mode.2C_Once_Created">
            <span class="tocnumber">
             16.2
            </span>
            <span class="toctext">
             Activating The Editor Mode, Once Created
            </span>
           </a>
          </li>
          <li class="toclevel-2 tocsection-50">
           <a href="#The_Ed_Mode.27s_Unique_ID">
            <span class="tocnumber">
             16.3
            </span>
            <span class="toctext">
             The Ed Mode's Unique ID
            </span>
           </a>
          </li>
         </ul>
        </li>
        <li class="toclevel-1 tocsection-51">
         <a href="#Plugin_Build.cs">
          <span class="tocnumber">
           17
          </span>
          <span class="toctext">
           Plugin Build.cs
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-52">
         <a href="#Plugin_Download">
          <span class="tocnumber">
           18
          </span>
          <span class="toctext">
           Plugin Download
          </span>
         </a>
        </li>
        <li class="toclevel-1 tocsection-53">
         <a href="#Enjoy.21">
          <span class="tocnumber">
           19
          </span>
          <span class="toctext">
           Enjoy!
          </span>
         </a>
        </li>
       </ul>
      </div>
      <h2>
       <span class="mw-headline" id="Overview">
        Overview
       </span>
      </h2>
      <p>
       <i>
        Plugin Author:
       </i>
       (
       )
      </p>
      <p>
       Dear Community,
      </p>
      <p>
       Here is my Vertex Snapping UE4 Editor Plugin!
      </p>
      <p>
       Below I am sharing with you not only the actual plugin, but the
       <b>
        entire source code for
       </b>
       :
      </p>
      <p>
       1. The plugin, showing you how to make your own (you get the source with my plugin file download)
      </p>
      <p>
       2. My extended UE4 Editor Engine class
      </p>
      <p>
       3. My very own Vertex Snapping Editor Mode, showing you via complete example how you can make your own Editor Modes!
      </p>
      <h3>
       <span class="mw-headline" id="Entire_C.2B.2B_Source_Code">
        Entire C++ Source Code
       </span>
      </h3>
      <p>
       <a href="#My_Entire_Plugin_C.2B.2B_Source_Code">
        My Entire C++ Source Code For You!
       </a>
      </p>
      <h2>
       <span class="mw-headline" id="Pictures">
        Pictures
       </span>
      </h2>
      <p>
       <img alt="800x" class="" height="695" src="../assets/ramas-vertex-snap-editor-plugin/0.jpg" width="971"/>
      </p>
      <p>
       <img alt="VertexSnapContinuous.jpg" class="" height="556" src="../assets/ramas-vertex-snap-editor-plugin/1.jpg" width="600"/>
      </p>
      <p>
       <img alt="VertexEditorPlugin Snap.jpg" class="" height="450" src="../assets/ramas-vertex-snap-editor-plugin/2.jpg" width="600"/>
      </p>
      <p>
       <img alt="VertexEditorPlugin Resize.jpg" class="" height="450" src="../assets/ramas-vertex-snap-editor-plugin/3.jpg" width="600"/>
      </p>
      <p>
       <img alt="VertexEditorPlugin SnapAngle.jpg" class="" height="450" src="../assets/ramas-vertex-snap-editor-plugin/4.jpg" width="600"/>
      </p>
      <h2>
       <span class="mw-headline" id="Plugin_Release_Dates_and_UE4_Engine_Versions">
        Plugin Release Dates and UE4 Engine Versions
       </span>
      </h2>
      <h2>
       <span class="mw-headline" id="All_Future_Updates">
        All Future Updates
       </span>
      </h2>
      <p>
       Because of the wiki file size limit of 20mb I am compelled to unify my Victory Plugin distribution into Editor + Packaged Binaries only in a media fire download from now on.
      </p>
      <p>
       All future updates are at this link:
      </p>
      <p>
       <a class="external text" href="https://www.mediafire.com/?ieovbd5l9d7yub2" rel="nofollow">
        Rama's Victory Plugin, Editor + Packaged Binaries
       </a>
      </p>
      <p>
       Entire C++ Source code is included!
      </p>
      <p>
       <b>
        Github link:
       </b>
       <a class="external free" href="https://github.com/EverNewJoy/VictoryPlugin" rel="nofollow">
        https://github.com/EverNewJoy/VictoryPlugin
       </a>
      </p>
      <h3>
       <span class="mw-headline" id="Victory_Ed_Engine_.7E_Vertex_Snapping_.26_Instanced_Static_Mesh_Editor">
        Victory Ed Engine ~ Vertex Snapping &amp; Instanced Static Mesh Editor
       </span>
      </h3>
      <h4>
       <span class="mw-headline" id="Media_Fire_Download_Links">
        Media Fire Download Links
       </span>
      </h4>
      <p>
       I include media fire links in the file description for more recent engine verisons!
      </p>
      <p>
      </p>
      <h2>
       <span class="mw-headline" id="Installation_of_Victory_Blueprint_Library">
        Installation of Victory Blueprint Library
       </span>
      </h2>
      <p>
       You should install my Victory Plugin in the Engine/Plugins/Runtime folder of the appropriate Engine version.
      </p>
      <p>
       You should always try to package for Development Win64 first, and Shipping Win32 as these are the only two platforms I support for those who do not have C++ access.
      </p>
      <p>
       <a class="external text" href="https://forums.unrealengine.com/showthread.php?3851-(39)-Rama-s-Extra-Blueprint-Nodes-for-You-as-a-Plugin-No-C-Required!&amp;p=476476&amp;viewfull=1#post476476" rel="nofollow">
        Detailed Description
       </a>
      </p>
      <h2>
       <span class="mw-headline" id="Installation_of_VictoryEdEngine_for_Vertex_Snapping">
        Installation of VictoryEdEngine for Vertex Snapping
       </span>
      </h2>
      <p>
       <img alt="Victorybpplugin.jpg" class="" height="391" src="../assets/ramas-vertex-snap-editor-plugin/5.jpg" width="650"/>
      </p>
      <p>
       <br/>
       Plugin download (
       <b>
        5.8 MB
       </b>
       ):
      </p>
      <p>
       <br/>
       It is important to do all of these steps in order
      </p>
      <p>
       1. download my editor / BP plugin and put in a directory directly off of your main project directory called "
       <b>
        Plugins
       </b>
       "
      </p>
      <p>
       spelling must be exact
      </p>
      <p>
       2. Load UE4 editor and go to Windows-&gt;Plugins
      </p>
      <p>
       3. Find my plugin and make sure it is checked as being active
      </p>
      <p>
       4. maybe double check #3
      </p>
      <p>
       5. close the editor.
      </p>
      <p>
       6. go to
       <b>
        YourProject/Config/DefaultEngine.ini
       </b>
      </p>
      <p>
       7. add these lines:
      </p>
      <p>
       <br/>
      </p>
      <pre> [/Script/Engine.Engine]
 UnrealEdEngine=/Script/VictoryEdEngine.VictoryEdEngine
</pre>
      <p>
       (Please note these instructions are only for VictoryEdEngine plugin, Victory Plugin does not need this as it is a runtime/packaged game plugin that does not modify the editor)
      </p>
      <p>
       <br/>
       8. Load UE4 Editor again
      </p>
      <p>
       9. click on any static mesh actor
      </p>
      <p>
       10. You should now see the Victory Editor HotKeys button in the top left
      </p>
      <p>
       11. If you hover mouse over this title area any time, you can get the list of hotkeys
      </p>
      <p>
       12. Enjoooy!
      </p>
      <p>
       <b>
        What does this all do?
       </b>
      </p>
      <p>
       My plugin includes an alternative UnrealEdEngine class, that makes use of my new additional FEdMode editor mode class.
      </p>
      <p>
       The config file tells the main UE4 binary to use my alternative UnrealEdEngine class instead of the default.
      </p>
      <p>
       Commenting out the line you added will instantly disable my Editor Mode.
      </p>
      <p>
       Unchecking my plugin in Windows-&gt;Plugins within the editor, but leaving the config file set,
      </p>
      <p>
       is pretty much guaranteed to cause a crash.
      </p>
      <p>
       soooo
      </p>
      <h3>
       <span class="mw-headline" id="Disabling_My_Editor_Mode_.2F_Entire_Plugin">
        Disabling My Editor Mode / Entire Plugin
       </span>
      </h3>
      <p>
       To disable my editor mode you should *always* comment out the DefaultEngine.ini line first!
      </p>
      <p>
       Then you can load the editor again and disable the plugin entirely
      </p>
      <p>
       <br/>
       My plugin cannot corrupt or damage your main UE4 install in any way,
      </p>
      <p>
       <br/>
       If you get a crash dont panic, just read these steps again
      </p>
      <p>
       <br/>
       <b>
        " Help I can't Load UE4 Anymore "
       </b>
      </p>
      <p>
       The worst that can happen is that the config file gets setup up wrong,
      </p>
      <p>
       and you wont be able to load the editor,
      </p>
      <p>
       and it will crash if you try cause it can't find the new Engine class.
      </p>
      <p>
       <br/>
       <b>
        But, this is extremely easy to fix!
       </b>
      </p>
      <p>
       <br/>
       just comment out the line that you added in your config file and you are guaranteed good-to-go
      </p>
      <pre> [/Script/Engine.Engine]
 UnrealEdEngine=/Script/VictoryEdEngine.VictoryEdEngine
</pre>
      <h2>
       <span class="mw-headline" id="Instanced_Static_Mesh_Editor">
        Instanced Static Mesh Editor
       </span>
      </h2>
      <p>
       <img alt="800x" class="" height="695" src="../assets/ramas-vertex-snap-editor-plugin/6.jpg" width="971"/>
      </p>
      <p>
       <b>
        Introduction Video
       </b>
      </p>
      <p>
       &lt;youtube&gt;
       <a class="external free" href="https://www.youtube.com/watch?v=iC1sjgalEJg" rel="nofollow">
        https://www.youtube.com/watch?v=iC1sjgalEJg
       </a>
       ]
      </p>
      <p>
       <br/>
       <b>
        Setup
       </b>
      </p>
      <p>
       &lt;youtube&gt;
       <a class="external free" href="https://www.youtube.com/watch?v=mYj_kaLDZZ4" rel="nofollow">
        https://www.youtube.com/watch?v=mYj_kaLDZZ4
       </a>
       ]
      </p>
      <p>
       I recently added a feature so that you can select many static mesh actors that all have the same static mesh and convert them into 1 instanced static mesh!
      </p>
      <p>
       This process can be reversed at any time to make individual edits!
      </p>
      <p>
       In this way you can enable UE4 to render 1000s of static meshes while maintaining very high FPS!
      </p>
      <p>
       Now you can edit instanced static meshes with all the tools you are familiar with and convert all the static mesh actors when you are done, to get a huge FPS boost!
      </p>
      <h3>
       <span class="mw-headline" id="Update:_Part_of_Victory_Ed_Engine">
        Update: Part of Victory Ed Engine
       </span>
      </h3>
      <p>
       My ISM Editor feature is now part of the Victory Ed Engine plugin which is separate from the Victory BP Library plugin :)
      </p>
      <p>
       <br/>
      </p>
      <h3>
       <span class="mw-headline" id="Mandatory_Setup_Step">
        Mandatory Setup Step
       </span>
      </h3>
      <p>
       To make my Instanced Static Mesh system work with your project you have to choose a ISM actor class. You can either create your own by adding a Instanced Static Mesh Actor to a new Actor blueprint, making the ISM component the root component, or you can use the VictoryISM class in my Victory BP Library plugin!
      </p>
      <p>
       1. Go to Project Settings-&gt;Game-&gt;Victory Ed Engine
      </p>
      <p>
       2. Choose your own custom Instanced Static Mesh Actor class, or use the one from my Victory BP Library plugin
      </p>
      <p>
       3. Select a bunch of static mesh actors and press i to convert them, shift + i to convert back, also work with undo/redo
      </p>
      <p>
       4. Enjoy!
      </p>
      <h2>
       <span class="mw-headline" id="Works_With_UE4_Undo_System">
        Works With UE4 Undo System
       </span>
      </h2>
      <p>
       My Vertex Snap Editor Mode now works with UE4's undo system!
      </p>
      <p>
       Yay!
      </p>
      <p>
       You can undo as many individual snap events as you want!
      </p>
      <p>
       Note that I only save an undo state when you release the V key to avoid flooding the system while you are continuously snapping while holding down V.
      </p>
      <p>
       So make sure you release the V key to save your final state before using CTRL + Z
      </p>
      <p>
       <img alt="Undo.jpg" class="" height="375" src="../assets/ramas-vertex-snap-editor-plugin/7.jpg" width="600"/>
      </p>
      <p>
       Rama
      </p>
      <h2>
       <span class="mw-headline" id="Newest_Editor_Feature:">
        Newest Editor Feature:
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="New_Display_Options">
        New Display Options
       </span>
      </h3>
      <p>
       Now pressing the U key is a display toggle!
      </p>
      <ul>
       <li>
        Default = only show the vertex the mouse is hovering over
       </li>
       <li>
        Press U once to show all vertices
       </li>
       <li>
        Press U again to show no vertices
       </li>
       <li>
        Press U again to be back to showing cursor-highlighted vertices only
       </li>
       <li>
        etc
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="New_Workflow.283.2F27.2F14.29">
        New Workflow(3/27/14)
       </span>
      </h3>
      <ul>
       <li>
        Press V to select a vertex
       </li>
       <li>
        Hold down V to continuously snap to vertices of other highlighted meshes
       </li>
       <li>
        Release to finalize the move
       </li>
      </ul>
      <h3>
       <span class="mw-headline" id="New_Snap_to_Surface_Normal_Workflow">
        New Snap to Surface Normal Workflow
       </span>
      </h3>
      <ul>
       <li>
        Press V and and also hold down shift
       </li>
       <li>
        If you fiddle with your approach angle and move the mouse little bits, you can get some really great normal alignments without much effort
       </li>
      </ul>
      <p>
       Enjoy!
      </p>
      <p>
       Rama
      </p>
      <p>
       <img alt="VertexSnapContinuous.jpg" class="" height="450" src="../assets/ramas-vertex-snap-editor-plugin/8.jpg" width="486"/>
      </p>
      <h2>
       <span class="mw-headline" id="Drop_Static_Meshes_to_Nearest_Surface.21">
        Drop Static Meshes to Nearest Surface!
       </span>
      </h2>
      <p>
       <b>
        Now you can just press the Y key in the UE4 Editor
       </b>
      </p>
      <p>
       to drop the selected Static Mesh or Static Meshes to the nearest surface in the level!
      </p>
      <p>
       <br/>
       You can drop Static Meshes down to each other too!
      </p>
      <p>
       My algorithm takes into account the actual shape of the static mesh being dropped, as well as the landscape/level/meshes it is being dropped onto!
      </p>
      <p>
       <b>
        If you have multiple objects selected
       </b>
       , they are treated as one big object and all the surfaces are calculated together, and the group is dropped, maintaining formation, to the nearest surface within your level.
      </p>
      <h2>
       <span class="mw-headline" id="Vertex_Snap_Plugin">
        Vertex Snap Plugin
       </span>
      </h2>
      <p>
       My extended Editor Engine detects when the user clicks on a static mesh actor, and activates my Vertex Snapping Editor Mode.
      </p>
      <h3>
       <span class="mw-headline" id="UE4_Editor_Plugin.2C_No_Code_Compile_Required">
        UE4 Editor Plugin, No Code Compile Required
       </span>
      </h3>
      <p>
       Dear Community,
      </p>
      <p>
       This is my very first
       <b>
        new Editor Mode
       </b>
       for the main UE4 Editor!
      </p>
      <p>
       This is a tiny ( under 10 MB ) plugin, that you can download and use without having to compile any source code.
      </p>
      <p>
       Your project
       <i>
        does not
       </i>
       have to be a code-based project!
      </p>
      <p>
       <b>
        It adds 3 new features
       </b>
      </p>
      <p>
       1. Toggle instantly moving selected static meshes to the mouse cursor, to quickly move them around, or "teleport" them across the map, supports Multi Selection.
      </p>
      <p>
       <br/>
       2. Press K to reset a static mesh actor's rotation
      </p>
      <p>
       <br/>
       3. Vertex Snapping! Optionally snap to surface normal of destination static mesh
      </p>
      <pre>   -verticies can be resized anytime using + or -
   -you can cycle among 5 different verticies display options at any time 
   -you can toggle vertex displaying by pressing Y.
</pre>
      <p>
       <br/>
       All of the features are related to static mesh actors and my editor mode disables itself if you are not working with a static mesh actor.
      </p>
      <p>
       It is super easy to enable or disable my editor mode, or suspend it entirely after trying it out.
      </p>
      <p>
       <br/>
       <b>
        With my editor mode plugin you can enjoy some new features for your UE4 Editor Experience!
       </b>
      </p>
      <p>
       <br/>
      </p>
      <h2>
       <span class="mw-headline" id="Victory_Editor_Align_Mode">
        Victory Editor Align Mode
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Features:">
        Features:
       </span>
      </h3>
      <h4>
       <span class="mw-headline" id="Instant_Mouse_Move_of_Static_Mesh_Actor">
        Instant Mouse Move of Static Mesh Actor
       </span>
      </h4>
      <p>
       -Press T key to toggle this mode! 	(mapping it to a mouse button proved too complicated given all existing editor mouse button functionality)
      </p>
      <p>
       -The selected Static Mesh(es) will move instantly to follow the mouse cursor anywhere in the XY plane, staying on the current Z
      </p>
      <p>
       -This can be used to instantly move objects to a location by
		a. selecting them all
		b. moving to your desired destination location
		c. press T key and they will all warp to your current location :)
      </p>
      <p>
       -Supports multi-selection
      </p>
      <h4>
       <span class="mw-headline" id="Reset_any_Static_Mesh_Actor.27s_rotation_to_0">
        Reset any Static Mesh Actor's rotation to 0
       </span>
      </h4>
      <p>
       -Press the K key
	-just a handy little feature, 
	-extra-useful if the vertex Snap-By-Surface-Normal goes wonky
      </p>
      <h4>
       <span class="mw-headline" id="Vertx_Display_and_Snapping">
        Vertx Display and Snapping
       </span>
      </h4>
      <p>
       -Press Y key to toggle displaying of static mesh verticies!
	-Press B to toggled between five different display types for all verticies
		a. simple crosshair
		b. solid rectangle
		c. 3D box
		d. diamond (pretty good even at 4000 verticies)
		e. sphere (slow for &gt; 3000 verticies)
      </p>
      <p>
       -Hold SHIFT while selecting the second vertex to use Snap-By-Surface-Normal, which will try to align the source static mesh actor with the surface of the destination actor.
      </p>
      <p>
       -snap selected static mesh actor by chosen vertex to the chosen vertex of another static mesh actor,
      </p>
      <p>
       -can do whole process with 3 input key presses total!
      </p>
      <p>
       <br/>
      </p>
      <h4>
       <span class="mw-headline" id="Vertex_Resizing">
        Vertex Resizing
       </span>
      </h4>
      <p>
       You can resize all the verticies at once by pressing and holding -/+
      </p>
      <p>
       <br/>
      </p>
      <h4>
       <span class="mw-headline" id="Verticies_Dynamically_Update">
        Verticies Dynamically Update
       </span>
      </h4>
      <p>
       No matter how you scale or rotate the mesh the drawn verticies will update correctly:)
      </p>
      <p>
       <br/>
      </p>
      <h4>
       <span class="mw-headline" id="Vertex_Selection">
        Vertex Selection
       </span>
      </h4>
      <p>
       You can move/rotate the selected static mesh actor after selecting one of its verticies, and the selection will be maintained and updated.
      </p>
      <p>
       <br/>
      </p>
      <h3>
       <span class="mw-headline" id="WorkFlow_Efficiency">
        WorkFlow Efficiency
       </span>
      </h3>
      <h4>
       <span class="mw-headline" id="Fast_User_Interface">
        Fast User Interface
       </span>
      </h4>
      <p>
       Vertex snapping can be accompished in three input presses total
      </p>
      <p>
       1. select the actor you are going to move
2. hover over chosen vertex and press V
3. hover over chosen vertex of other mesh and press V
      </p>
      <p>
       The reason this only takes 3 inputs is because when you hover the mouse over other static mesh actors,
      </p>
      <p>
       my editor mode automatically highlights all of the vertices and the vertex that is closest to the cursor.
      </p>
      <p>
       <br/>
       <b>
        Why not use Mouse Click?
       </b>
      </p>
      <p>
       The reason the vertex selections are key presses not mouse clicks:
      </p>
      <p>
       -any kind of mouse click tends to change selection, and I dont wish to override this functionality
      </p>
      <p>
       -it's easy to miss-click with the mouse on a vertex that is at a corner, and end up selecting the landscape instead
      </p>
      <p>
       -the thematic consistency provided by using a same-key-press to do the whole snap process feels nice :)
      </p>
      <p>
       <b>
        The flow becomes:
       </b>
      </p>
      <p>
       hover mouse over vertex
press key V
      </p>
      <p>
       hover mouse over other vertex
press same key V
      </p>
      <p>
       Snap done!
      </p>
      <h4>
       <span class="mw-headline" id="Speed:_Using_the_PDI_.2F_Primitive_Draw_Interface">
        Speed: Using the PDI / Primitive Draw Interface
       </span>
      </h4>
      <p>
       In case you are curious, I am drawing directly to the PDI, the fundamental drawing surface, using DrawPoint.
      </p>
      <p>
       This is about as light-weight as I know how to get at present
      </p>
      <p>
       An advantage of using PDI and DrawPoint is that only verticies in the chosen depth priority will draw.
      </p>
      <p>
       <b>
        This enables me to hide verticies
       </b>
       that you would not realistically want to click on from the opposite side of a mesh.
      </p>
      <h4>
       <span class="mw-headline" id="High_Vertex_Counts">
        High Vertex Counts
       </span>
      </h4>
      <p>
       -Verticies are not drawn if the object vertex count is too high (10,000 at moment), as that could cause a long delay or even a hang if you click on a high-res statue or something like that :)
      </p>
      <p>
       - I automatically switch sphere vertex display mode down to box mode if vertex cound is &gt; 5000 to prevent slowdown if cycling through the B key
      </p>
      <p>
       <br/>
      </p>
      <h4>
       <span class="mw-headline" id="Editor_Environment_Integration">
        Editor Environment Integration
       </span>
      </h4>
      <p>
       -Victory Align Mode auto-activates when you click on Static Mesh Actors,
      </p>
      <p>
       -Press P key to restore previous Editor mode and Real Time Status instantly
      </p>
      <p>
       -Clicking on non-static mesh actors will restore previous Editor Mode
      </p>
      <p>
       <br/>
       <b>
        Example:
       </b>
      </p>
      <p>
       If you are busy clicking on stuff and you end up in my editor mode by accident, press the P key to instantly revert to prevous mode
      </p>
      <p>
       <b>
        Interface:
       </b>
      </p>
      <p>
       -There is a useful hover-button in top left of window that will show you all the hotkeys for this Editor Mode any time you hover mouse over it
      </p>
      <p>
       -The hover-button fades itself out to be less visual distraction, but hovering mouse over it will fade it back in and display helpful info
      </p>
      <p>
       -When using the Instant Mouse Move by tapping the T key,
      </p>
      <pre>     the move/rotate/scale main editor widget disappears to let you know you are in that mode and also because it is not really usable while using the T-key mode.
</pre>
      <p>
       -Deselecting or exiting the mode cancels the Instant T(ranslate) key mode.
      </p>
      <h3>
       <span class="mw-headline" id="Using_Vertex_Snap_Mode">
        Using Vertex Snap Mode
       </span>
      </h3>
      <p>
       Once you click on a static mesh actor, if the verticies are not showing, press the V key
      </p>
      <p>
       1. Hover mouse on vertex,
      </p>
      <p>
       2. press V
      </p>
      <p>
       3. Hover mouse over other static mesh and one of its verticies,
      </p>
      <p>
       4. press V
      </p>
      <p>
       <br/>
       If you are using Align-By-Surface-Normal, the selected static mesh will attempt to orient itself to the surface closest to the vertex of the other static mesh.
      </p>
      <h3>
       <span class="mw-headline" id="Vertex_Editor_Plugin_Summary">
        Vertex Editor Plugin Summary
       </span>
      </h3>
      <p>
       <b>
        Light-Weight for Your UE4 Editing Experience
       </b>
      </p>
      <p>
       I tried to make the vertex-selection aspect of my editor mode as light-weight as possible,
      </p>
      <p>
       - no traces
- no collision
- no extra actors involved
- just drawing to the PDI
      </p>
      <p>
       There is not actually any 3D collision for the verticies!
      </p>
      <p>
       I defined a "button" struct which stores the projected coordinates of the verticies, plus the resizable drawn-vertex scaling.
      </p>
      <p>
       So as you scale the verticies the buttons grow to accommodate.
      </p>
      <p>
       Whenever the view changes, the buttons are freshed.
      </p>
      <p>
       If there is no input to the UE4 Editor or you have it in the background, the buttons are never refreshed
      </p>
      <p>
       In Summary, it's just a bunch of invisible floats that are determining when you are clicking or highlighting the verticies of the Static Mesh Actors
      </p>
      <p>
       <br/>
      </p>
      <p>
       <b>
        Have Fun
       </b>
      </p>
      <p>
       Have fun with my editor mode!
      </p>
      <p>
       (
       )
      </p>
      <h2>
       <span class="mw-headline" id="">
       </span>
      </h2>
      <h2>
       <span class="mw-headline" id="My_Entire_Plugin_C.2B.2B_Source_Code">
        My Entire Plugin C++ Source Code
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Credits">
        Credits
       </span>
      </h3>
      <p>
       Feel free to use my C++ code as an outline for making your own Editor Mode Plugin!
      </p>
      <p>
       Just please give me credit somewhere appropriate.
      </p>
      <p>
       I did not use any algorithms or math equations from any source,
      </p>
      <p>
       I wrote all the code myself and just used Epic's awesome UE4 Beta .h files as a reference.
      </p>
      <pre> <b>This code does not contain any UE4 C++ source code, as I did not have access to it when I wrote this plugin.</b>
</pre>
      <h3>
       <span class="mw-headline" id="VictoryEdEngine">
        VictoryEdEngine
       </span>
      </h3>
      <p>
       This is the class that becomes your new UE4 Engine class, and it must be set to be used by UE4 via DefaultEngine.ini
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="p">[</span><span class="o">/</span><span class="n">Script</span><span class="o">/</span><span class="n">Engine</span><span class="p">.</span><span class="n">Engine</span><span class="p">]</span>
<span class="p">;</span><span class="n">UnrealEdEngine</span><span class="o">=/</span><span class="n">Script</span><span class="o">/</span><span class="n">UnrealEd</span><span class="p">.</span><span class="n">UnrealEdEngine</span>
<span class="n">UnrealEdEngine</span><span class="o">=/</span><span class="n">Script</span><span class="o">/</span><span class="n">VictoryBPLibrary</span><span class="p">.</span><span class="n">VictoryEdEngine</span>
</pre>
      </div>
      <h4>
       <span class="mw-headline" id=".H">
        .H
       </span>
      </h4>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">"UnrealEd.h" </span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"VictoryEdAlignMode.h"</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"VictoryEdEngine.generated.h"</span><span class="cp"></span>

<span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FDropToClosestSurfaceData</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">TheActor</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">FVector</span> <span class="n">SurfaceLoc</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="kt">float</span> <span class="n">DistSquared</span><span class="p">;</span>
	
	<span class="n">FDropToClosestSurfaceData</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">DistSquared</span> <span class="o">=</span> <span class="mi">1000000000</span><span class="p">;</span>
		<span class="n">SurfaceLoc</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">ZeroVector</span><span class="p">;</span>
		<span class="n">TheActor</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>
<span class="n">USTRUCT</span><span class="p">()</span>
<span class="k">struct</span> <span class="n">FVButton</span>
<span class="p">{</span>
	<span class="n">GENERATED_USTRUCT_BODY</span><span class="p">()</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">int32</span> <span class="n">Vibe</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">FVector</span> <span class="n">PointInWorld</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="kt">float</span> <span class="n">minX</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="kt">float</span> <span class="n">maxX</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="kt">float</span> <span class="n">minY</span><span class="p">;</span>
	
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="kt">float</span> <span class="n">maxY</span><span class="p">;</span>
	
	<span class="n">FVButton</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">Vibe</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="n">UCLASS</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">Engine</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">UVictoryEdEngine</span> <span class="o">:</span> <span class="k">public</span> <span class="n">UUnrealEdEngine</span>
<span class="p">{</span>
	<span class="n">GENERATED_UCLASS_BODY</span><span class="p">()</span>
		
	<span class="kt">bool</span> <span class="n">CreatedVictoryEdMode</span><span class="p">;</span>

	<span class="c1">//the user-selected mode prior to initiating VictoryEdMode</span>
	<span class="n">FEditorModeID</span> <span class="n">PrevModeID</span><span class="p">;</span>

	
<span class="c1">//utility</span>

<span class="c1">//Assets</span>
<span class="k">public</span><span class="o">:</span>
	
	<span class="cm">/*</span>
<span class="cm">	UPROPERTY()</span>
<span class="cm">	UStaticMesh* AssetSM_EngineCube;</span>
<span class="cm">	//StaticMesh'/Engine/EngineMeshes/Cube.Cube'</span>
<span class="cm">	</span>
<span class="cm">	</span>
<span class="cm">	UPROPERTY()</span>
<span class="cm">	UMaterial* ColorMat;</span>
<span class="cm">	</span>
<span class="cm">	UPROPERTY()</span>
<span class="cm">	UMaterialInstanceDynamic* ColorMatInst_GlowyBlue;</span>
<span class="cm">	</span>
<span class="cm">	UPROPERTY()</span>
<span class="cm">	UMaterialInstanceDynamic* ColorMatInst_GlowyRed;</span>
<span class="cm">	</span>
<span class="cm">	UPROPERTY()</span>
<span class="cm">	UMaterialInstanceDynamic* ColorMatInst_GlowyYellow;</span>
<span class="cm">	*/</span>
	
<span class="c1">//Font</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">UFont</span><span class="o">*</span> <span class="n">VictoryEditorFont</span><span class="p">;</span>
	<span class="c1">//Font'/Engine/EngineFonts/RobotoDistanceField.RobotoDistanceField'</span>
	
	<span class="n">FORCEINLINE</span> <span class="n">UFont</span><span class="o">*</span> <span class="nf">GetVictoryFont</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VictoryEditorFont</span><span class="p">)</span> <span class="k">return</span> <span class="n">VictoryEditorFont</span><span class="p">;</span>
		<span class="k">return</span> <span class="n">GetStatsFont</span><span class="p">();</span>
	<span class="p">}</span>
	
<span class="c1">//Selection</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">AActor</span><span class="o">*</span> <span class="n">VSelectedActor</span><span class="p">;</span>
	
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">SelectionRelativeOffsets</span><span class="p">;</span>
	<span class="kt">void</span> <span class="nf">GetSelectedActorsRelativeOffsets</span><span class="p">();</span>
	<span class="kt">bool</span> <span class="n">SelectedActorVerticiesNeedsUpdating</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">ClearSelectedVertex</span><span class="p">;</span>
	
<span class="c1">//core</span>
<span class="k">public</span><span class="o">:</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FName</span> <span class="n">VictoryEditorModeID</span><span class="p">;</span>
	<span class="kt">void</span> <span class="nf">SwitchToVictoryEdMode</span><span class="p">();</span>
	
	<span class="n">FORCEINLINE</span> <span class="kt">void</span> <span class="nf">ExitVictoryAlignMode</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="c1">//Deactivate Mode</span>
		<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">DeactivateMode</span><span class="p">(</span> <span class="n">VictoryEditorModeID</span> <span class="p">);</span>
		
		<span class="c1">//Restore Previous Realtime State</span>
		<span class="c1">//GCurrentLevelEditingViewportClient-&gt;RestoreRealtime(true); //allow disable</span>
		
		<span class="c1">//Activate Previous Mode</span>
		<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">ActivateMode</span><span class="p">(</span><span class="n">PrevModeID</span><span class="p">);</span>
	<span class="p">}</span>
	
<span class="c1">//tests</span>
<span class="k">public</span><span class="o">:</span>
	<span class="kt">void</span> <span class="n">RunTests</span><span class="p">();</span>
	
<span class="k">protected</span><span class="o">:</span>
	
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">NoteSelectionChange</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span><span class="kt">float</span> <span class="n">DeltaSeconds</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bIdleMode</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
<span class="p">};</span>
</pre>
      </div>
      <h4>
       <span class="mw-headline" id=".CPP">
        .CPP
       </span>
      </h4>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>

<span class="c1">//Unreal Editor Fun With Rama</span>

<span class="c1">//#include "VictoryGame.h"</span>
<span class="cp">#include</span> <span class="cpf">"VictoryBPLibraryPrivatePCH.h"</span><span class="cp"></span>


<span class="k">const</span> <span class="n">FName</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">VictoryEditorModeID</span> <span class="o">=</span> <span class="n">FName</span><span class="p">(</span><span class="s">"VictoryEditorMode"</span><span class="p">);</span>

<span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">UVictoryEdEngine</span><span class="p">(</span><span class="k">const</span> <span class="k">class</span> <span class="nc">FPostConstructInitializeProperties</span><span class="o">&amp;</span> <span class="n">PCIP</span><span class="p">)</span>
	<span class="o">:</span> <span class="n">Super</span><span class="p">(</span><span class="n">PCIP</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CreatedVictoryEdMode</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="n">PrevModeID</span> <span class="o">=</span> <span class="n">FBuiltinEditorModes</span><span class="o">::</span><span class="n">EM_Default</span><span class="p">;</span>
	
	<span class="c1">//Font</span>
	<span class="k">static</span> <span class="n">ConstructorHelpers</span><span class="o">::</span><span class="n">FObjectFinder</span><span class="o">&lt;</span><span class="n">UFont</span><span class="o">&gt;</span> <span class="n">TheFontOb</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"Font'/Engine/EngineFonts/RobotoDistanceField.RobotoDistanceField'"</span><span class="p">));</span>
	<span class="n">VictoryEditorFont</span> <span class="o">=</span> <span class="p">(</span><span class="n">UFont</span><span class="o">*</span><span class="p">)</span><span class="n">TheFontOb</span><span class="p">.</span><span class="n">Object</span><span class="p">;</span>
	
	<span class="cm">/*</span>
<span class="cm">	//Cube</span>
<span class="cm">	static ConstructorHelpers::FObjectFinder&lt;UStaticMesh&gt; StaticMeshOb_cube(TEXT("StaticMesh'/Engine/EngineMeshes/Cube.Cube'"));</span>
<span class="cm">	AssetSM_EngineCube= StaticMeshOb_cube.Object;</span>
<span class="cm">	</span>
<span class="cm">	//Color Mat Inst</span>
<span class="cm">	static ConstructorHelpers::FObjectFinder&lt;UMaterial&gt; ColorMatInstOb(TEXT("Material'/Engine/EditorMaterials/Utilities/LinearColorPicker_MAT.LinearColorPicker_MAT'"));</span>
<span class="cm">	ColorMat = ColorMatInstOb.Object;</span>
<span class="cm">	</span>
<span class="cm">	//Create Instance</span>
<span class="cm">	if(ColorMat)</span>
<span class="cm">	{</span>
<span class="cm">		ColorMatInst_GlowyBlue = UMaterialInstanceDynamic::Create(ColorMat, this);</span>
<span class="cm">		if(ColorMatInst_GlowyBlue) ColorMatInst_GlowyBlue-&gt;SetVectorParameterValue(FName("Color"), FLinearColor(0,0,1,1));</span>
<span class="cm">		</span>
<span class="cm">		ColorMatInst_GlowyRed = UMaterialInstanceDynamic::Create(ColorMat, this);</span>
<span class="cm">		if(ColorMatInst_GlowyRed) ColorMatInst_GlowyRed-&gt;SetVectorParameterValue(FName("Color"), FLinearColor(1,0,0,1));</span>
<span class="cm">		</span>
<span class="cm">		ColorMatInst_GlowyYellow = UMaterialInstanceDynamic::Create(ColorMat, this);</span>
<span class="cm">		if(ColorMatInst_GlowyYellow) ColorMatInst_GlowyYellow-&gt;SetVectorParameterValue(FName("Color"), FLinearColor(1,1,0,1));</span>
<span class="cm">	}</span>
<span class="cm">	*/</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">SwitchToVictoryEdMode</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//Create it if it not exist yet</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CreatedVictoryEdMode</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Proper way to make a shared ref ???</span>
		<span class="n">TSharedRef</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">FVictoryEdAlignMode</span><span class="p">,</span><span class="n">ESPMode</span><span class="o">::</span><span class="n">Fast</span><span class="o">&gt;</span> <span class="n">VictoryEdMode</span> <span class="o">=</span> <span class="n">MakeShareable</span><span class="p">(</span> <span class="k">new</span> <span class="n">FVictoryEdAlignMode</span><span class="p">()</span> <span class="p">);</span>
		
		<span class="c1">//Init VictoryEdMode</span>
		<span class="n">VictoryEdMode</span><span class="o">-&gt;</span><span class="n">JoyInit</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
			
		<span class="c1">//Register</span>
		<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">RegisterMode</span><span class="p">(</span><span class="n">VictoryEdMode</span><span class="p">);</span>
	
		<span class="n">CreatedVictoryEdMode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Store Previous Editor Mode [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FEdMode</span><span class="o">*&gt;</span> <span class="n">OutActiveModes</span><span class="p">;</span>
	<span class="n">FEdMode</span><span class="o">*</span> <span class="n">CurMode</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">GetActiveModes</span><span class="p">(</span> <span class="n">OutActiveModes</span> <span class="p">);</span>
	
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">OutActiveModes</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">CurMode</span> <span class="o">=</span> <span class="n">OutActiveModes</span><span class="p">[</span><span class="n">Itr</span><span class="p">];</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CurMode</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">CurMode</span><span class="o">-&gt;</span><span class="n">GetID</span><span class="p">()</span> <span class="o">==</span> <span class="n">VictoryEditorModeID</span> <span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
			
		<span class="n">PrevModeID</span> <span class="o">=</span> <span class="n">CurMode</span><span class="o">-&gt;</span><span class="n">GetID</span><span class="p">();</span>
		<span class="c1">//UE_LOG(Victory,Warning, TEXT("Previous Editor Mode: %s"), *CurMode-&gt;GetID().ToString() );</span>
	<span class="p">}</span>
		
	<span class="c1">//Activate Victory Editor Mode</span>
	<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">ActivateMode</span><span class="p">(</span><span class="n">VictoryEditorModeID</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">RunTests</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//tests</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">GetSelectedActorsRelativeOffsets</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">SelectionRelativeOffsets</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Get the Relative Offsets</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="n">Origin</span> <span class="o">=</span> <span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">();</span>
	
	<span class="n">AActor</span><span class="o">*</span> <span class="n">VSelectItrActor</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VSelectItrActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VSelectItrActor</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="n">SelectionRelativeOffsets</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">VSelectItrActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">()</span> <span class="o">-</span> <span class="n">Origin</span> <span class="p">);</span>
		<span class="c1">//UE_LOG(Victory, Error, TEXT("Relative offset %s"), *SelectionRelativeOffsets[SelectionRelativeOffsets.Num() - 1].ToString());</span>
	<span class="p">};</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">NoteSelectionChange</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">NoteSelectionChange</span><span class="p">();</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">GetSelectedActors</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span>
	<span class="n">AActor</span><span class="o">*</span> <span class="n">SelectedActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">GetSelectedActors</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">GetTop</span><span class="p">(</span><span class="n">AActor</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()));</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">SelectedActor</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="k">if</span><span class="p">(</span><span class="n">SelectedActor</span> <span class="o">!=</span> <span class="n">VSelectedActor</span><span class="p">)</span> <span class="n">ClearSelectedVertex</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Update</span>
	<span class="n">VSelectedActor</span> <span class="o">=</span> <span class="n">SelectedActor</span><span class="p">;</span>
	
	<span class="c1">//Always Refresh</span>
	<span class="n">SelectedActorVerticiesNeedsUpdating</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//For use with multi-select moves</span>
	<span class="n">GetSelectedActorsRelativeOffsets</span><span class="p">();</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Only Activate for Static Mesh Actors Currently</span>
	<span class="k">if</span><span class="p">(</span><span class="n">SelectedActor</span><span class="o">-&gt;</span><span class="n">IsA</span><span class="p">(</span><span class="n">AStaticMeshActor</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">()))</span>
	<span class="p">{</span>
		<span class="c1">//Switch to Victory Align Mode if not active already</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">IsModeActive</span><span class="p">(</span><span class="n">VictoryEditorModeID</span><span class="p">))</span> 
			<span class="n">SwitchToVictoryEdMode</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="k">else</span>
	<span class="p">{</span>
		<span class="c1">//Deactivate Mode for Non-Static Mesh Actors</span>
		<span class="n">ExitVictoryAlignMode</span><span class="p">();</span>
	<span class="p">}</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//RunTests();</span>
	
	<span class="c1">//UE_LOG(Victory, Warning, TEXT("New Selected Actor %s"), *SelectedActor-&gt;GetName() );</span>
	<span class="c1">//UE_LOG(Victory, Warning, TEXT("New Selected Actor Location %s"), *SelectedActor-&gt;GetActorLocation().ToString() );</span>
<span class="p">}</span>

<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>

<span class="kt">void</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span><span class="kt">float</span> <span class="n">DeltaSeconds</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">bIdleMode</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">Super</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span><span class="n">DeltaSeconds</span><span class="p">,</span><span class="n">bIdleMode</span><span class="p">);</span>
	
<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="VictoryEdMode">
        VictoryEdMode
       </span>
      </h3>
      <p>
       Since the EdMode is a pure C++ class, it must go in the Public directory of your plugin file structure!
      </p>
      <h4>
       <span class="mw-headline" id=".H_2">
        .H
       </span>
      </h4>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span> <span class="cpf">"UnrealEd.h" </span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">"Editor.h"</span><span class="cp"></span>
<span class="c1">//#include "BSPOps.h"</span>

<span class="k">class</span> <span class="nc">UVictoryEdEngine</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">FVButton</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">FDropToClosestSurfaceData</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">FVictoryEdAlignMode</span> <span class="o">:</span> <span class="k">public</span> <span class="n">FEdMode</span>
<span class="p">{</span>
	
<span class="c1">//Statics</span>
<span class="k">public</span><span class="o">:</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FColor</span> <span class="n">RV_VRed</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FColor</span> <span class="n">RV_VBlue</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FColor</span> <span class="n">RV_VYellow</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">RV_Red</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">RV_Yellow</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">RV_Blue</span><span class="p">;</span>

<span class="c1">//Display Updates</span>
<span class="k">public</span><span class="o">:</span>
	<span class="kt">bool</span> <span class="n">DoSingleDisplayUpdate</span><span class="p">;</span>
<span class="c1">//Drop to Surface</span>
<span class="k">public</span><span class="o">:</span>
	
	<span class="c1">//if multiple selected, the test runs on each and finds the nearest of nearest surfaces</span>
	<span class="kt">void</span> <span class="n">DropSelectedActorsToNearestSurface</span><span class="p">();</span>
	
	<span class="n">FDropToClosestSurfaceData</span><span class="o">*</span> <span class="nf">GetActorWithShortestDrop</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FDropToClosestSurfaceData</span><span class="o">&gt;&amp;</span> <span class="n">TheData</span><span class="p">);</span>
	
	<span class="n">FORCEINLINE</span> <span class="kt">void</span> <span class="nf">GetBottomSurfacePoint</span><span class="p">(</span><span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">TheSMA</span><span class="p">,</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">BottomMostPoint</span><span class="p">)</span>
	<span class="p">{</span>
                <span class="n">BottomMostPoint</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">ZeroVector</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
		<span class="n">FVector</span> <span class="n">Origin</span><span class="p">;</span>
		<span class="n">FVector</span> <span class="n">Extent</span><span class="p">;</span>
		<span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">GetActorBounds</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span><span class="n">Origin</span><span class="p">,</span><span class="n">Extent</span><span class="p">);</span>
		<span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">GetDistanceToCollision</span><span class="p">(</span><span class="n">Origin</span> <span class="o">-</span> <span class="n">FVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">Extent</span><span class="p">.</span><span class="n">Z</span> <span class="o">+</span> <span class="mi">100</span><span class="p">),</span><span class="n">BottomMostPoint</span><span class="p">);</span>
	<span class="p">}</span>
<span class="c1">//Vertex:</span>
<span class="k">public</span><span class="o">:</span>
	
	<span class="kt">void</span> <span class="n">GetSelectedVertexLocation</span><span class="p">(</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">LocOut</span><span class="p">);</span>
	
	<span class="c1">//Snap Key Pressed!</span>
	<span class="kt">bool</span> <span class="n">SnapKeyPressed</span><span class="p">;</span>
	
	<span class="c1">//VertexDisplayChoice</span>
	<span class="n">uint8</span> <span class="n">VertexDisplayChoice</span><span class="p">;</span>
		
	<span class="c1">//Snap!</span>
	<span class="kt">void</span> <span class="nf">DoVertexSnap</span><span class="p">(</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">Dest</span><span class="p">);</span>
	
	<span class="n">FPositionVertexBuffer</span><span class="o">*</span> 			<span class="n">SelectedVertexBuffer</span><span class="p">;</span>
	<span class="n">FPositionVertexBuffer</span><span class="o">*</span> 			<span class="n">HighlightedVertexBuffer</span><span class="p">;</span>
	
	<span class="c1">//Highlighted Actor</span>
	<span class="n">AStaticMeshActor</span><span class="o">*</span> 				<span class="n">HighlightedActor</span><span class="p">;</span>
	
	<span class="c1">//Buttons</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">&gt;</span> <span class="n">SelectedActorButtons</span><span class="p">;</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">&gt;</span> <span class="n">HighlightedActorButtons</span><span class="p">;</span>
	
	<span class="c1">//CheckArrays - find the vertex button closest to camera</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">*&gt;</span> <span class="n">ClosestSelectedActorButtons</span><span class="p">;</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">*&gt;</span> <span class="n">ClosestHighlightedActorButtons</span><span class="p">;</span>
	<span class="n">int32</span> <span class="nf">FindClosestOfButtons</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">*&gt;</span> <span class="n">Inbuttons</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">RefreshVertexButtons</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">);</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Vertex Scale</span>
	<span class="kt">float</span> <span class="n">CurrentVerticiesScale</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">PlusIsDown</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">MinusIsDown</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">DoDrawVerticies</span><span class="p">;</span>
	
	<span class="c1">//Index of Vertex, so actor can move and maintain selection</span>
	<span class="n">int32</span> <span class="n">SelectedVertexForSelectedActor</span><span class="p">;</span>
	<span class="n">int32</span> <span class="n">HighlightedVertexForSelectedActor</span><span class="p">;</span>
	<span class="n">int32</span> <span class="n">HighlightedVertexForHighlightedActor</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="n">FVector</span> <span class="n">VertexWorldSpace</span><span class="p">;</span>
	<span class="n">FVector2D</span> <span class="n">Vertex2DCenter</span><span class="p">;</span>

	<span class="c1">//Vertex Functions</span>
	<span class="kt">void</span> <span class="nf">PDI_DrawVerticies</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span> <span class="n">FPrimitiveDrawInterface</span><span class="o">*</span> <span class="n">PDI</span><span class="p">,</span> <span class="k">const</span> <span class="n">FPositionVertexBuffer</span><span class="o">*</span> <span class="n">VertexBuffer</span><span class="p">,</span> <span class="k">const</span> <span class="n">FTransform</span><span class="o">&amp;</span> <span class="n">SMATransform</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DrawingSelectedActor</span><span class="p">);</span>
	
	<span class="c1">//Get Vertex Bufer</span>
	<span class="n">FPositionVertexBuffer</span><span class="o">*</span> <span class="nf">GetVerticies</span><span class="p">(</span><span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">TheSMA</span><span class="p">);</span>
	
<span class="c1">//Mouse Instant Move SMA</span>
<span class="k">public</span><span class="o">:</span>
	<span class="kt">bool</span> <span class="n">UsingMouseInstantMove</span><span class="p">;</span>
	<span class="kt">void</span> <span class="nf">ProcessMouseInstantMove</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">);</span>
	<span class="c1">//</span>
<span class="c1">//Selection</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">AActor</span><span class="o">*</span> <span class="n">VSelectItrActor</span><span class="p">;</span>
	
<span class="c1">//Input Related</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">FVector2D</span> 		<span class="n">MouseLocation</span><span class="p">;</span>
	<span class="n">FVector2D</span> 		<span class="n">PrevMouseLocation</span><span class="p">;</span>
	<span class="n">FVector</span> 	<span class="n">CursorWorldPrevPos</span><span class="p">;</span>
	<span class="n">FVector</span> 	<span class="n">CursorWorldPos</span><span class="p">;</span>
	<span class="n">FVector</span> 	<span class="n">CursorWorldDir</span><span class="p">;</span>
	<span class="n">FVector</span> 	<span class="n">CursorWorldDelta</span><span class="p">;</span>
	
	<span class="kt">void</span> <span class="nf">InputKeyPressed</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">InputKeyReleased</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">InputKeyDoubleClick</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">);</span>
	
	<span class="kt">void</span> <span class="nf">MiddleMouseEvent</span><span class="p">(</span><span class="n">EInputEvent</span> <span class="n">Event</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">LeftMouseClick</span><span class="p">();</span>
	
	
	<span class="c1">//States</span>
	<span class="kt">bool</span> <span class="n">RMBDown</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">XDown</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">YDown</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">ShiftDown</span><span class="p">;</span>
	
<span class="c1">//HUD</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">FIntPoint</span> <span class="n">ViewportSize</span><span class="p">;</span>
	
	<span class="kt">void</span> <span class="nf">DrawHotkeyToolTip</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">DrawMouseCoordinates</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">);</span>
	
	<span class="kt">void</span> <span class="nf">CheckCursorInButtons</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">);</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">&gt;</span> 	<span class="n">VictoryButtons</span><span class="p">;</span>
	<span class="n">int32</span> 					<span class="n">ActiveButton_Vibe</span><span class="p">;</span>
	<span class="n">FVButton</span><span class="o">*</span> 			<span class="n">CurCheckButton</span><span class="p">;</span>
	<span class="kt">void</span> <span class="nf">RefreshVictoryButtons</span><span class="p">();</span>
	<span class="kt">bool</span> <span class="n">PendingButtonRefresh</span><span class="p">;</span>
	
<span class="c1">//Utility</span>
<span class="k">public</span><span class="o">:</span>
	<span class="kt">void</span> <span class="n">DrawVictoryText</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="k">const</span> <span class="n">FString</span><span class="o">&amp;</span> <span class="n">TheStr</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">TheScale</span><span class="o">=</span><span class="mi">1</span> <span class="p">);</span>
	<span class="kt">void</span> <span class="nf">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="k">const</span> <span class="n">FString</span><span class="o">&amp;</span> <span class="n">TheStr</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TheColor</span><span class="o">=</span><span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="kt">float</span> <span class="n">TheScale</span><span class="o">=</span><span class="mi">1</span> <span class="p">);</span>
	<span class="kt">void</span> <span class="nf">DrawVictoryLine</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Start</span><span class="p">,</span> <span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">End</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TheColor</span><span class="o">=</span><span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="kt">float</span> <span class="n">Thick</span><span class="o">=</span><span class="mi">0</span> <span class="p">);</span>
	<span class="kt">void</span> <span class="nf">DrawVictoryRect</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Width</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Height</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">Color</span><span class="o">=</span><span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>

	<span class="c1">//Scene-view Level Project and Deproject</span>
	<span class="kt">void</span> <span class="nf">VictoryProject</span><span class="p">(</span>		<span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">WorldPoint</span><span class="p">,</span>		<span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">OutPixelLocation</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">VictoryDeProject</span><span class="p">(</span>	<span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">ScreenPoint</span><span class="p">,</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">out_WorldOrigin</span><span class="p">,</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">out_WorldDirection</span><span class="p">);</span>
	
	<span class="c1">//Box from Point with Size</span>
	<span class="n">FORCEINLINE</span> <span class="n">FBox</span> <span class="nf">BoxFromPointWithSize</span><span class="p">(</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">InCenter</span><span class="p">,</span> <span class="k">const</span> <span class="kt">float</span><span class="o">&amp;</span> <span class="n">Size</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="n">FBox</span><span class="p">(</span>
			<span class="n">InCenter</span><span class="o">+</span><span class="p">(</span><span class="n">FVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="n">Size</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">InCenter</span><span class="o">+</span><span class="p">(</span><span class="n">FVector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">Size</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
		<span class="p">);</span>
	<span class="p">}</span>
	
<span class="c1">//RV</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">int32</span> <span class="n">RV_Int32</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">RV_yStart</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">RV_Float</span><span class="p">;</span>
	<span class="n">FVector</span> <span class="n">RV_Vect</span><span class="p">;</span>
	<span class="n">FRotator</span> <span class="n">RV_Rot</span><span class="p">;</span>
	<span class="n">FCollisionQueryParams</span> <span class="n">RV_TraceParams</span><span class="p">;</span>
	<span class="n">FHitResult</span> <span class="n">RV_Hit</span><span class="p">;</span>
	<span class="n">AActor</span><span class="o">*</span> <span class="n">RV_HitActor</span><span class="p">;</span>
<span class="c1">//Victory Title</span>
<span class="c1">//Time</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">FDateTime</span> <span class="n">VictoryTitleAppearTime</span><span class="p">;</span>
	<span class="n">FTimespan</span> <span class="n">CurTimeSpan</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">VictoryTitleVisible</span><span class="p">;</span>
	<span class="kt">bool</span> <span class="n">FadeInVictoryTitle</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">VictoryTitleAlpha</span><span class="p">;</span>
	
	<span class="n">FORCEINLINE</span> <span class="kt">void</span> <span class="nf">VictoryTitleAppears</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="n">VictoryTitleAppearTime</span> <span class="o">=</span> <span class="n">FDateTime</span><span class="o">::</span><span class="n">Now</span><span class="p">();</span>
		<span class="n">VictoryTitleAlpha</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">VictoryTitleVisible</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">FadeInVictoryTitle</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	
<span class="c1">//Tick</span>
<span class="k">public</span><span class="o">:</span>
	<span class="kt">void</span> <span class="n">Tick_VictoryTitle</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">);</span>
	<span class="kt">void</span> <span class="nf">Tick_VictoryTitleFadeIn</span><span class="p">();</span>
	<span class="kt">void</span> <span class="nf">Tick_VictoryInterface</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">);</span>
		
<span class="c1">//Core</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">UPROPERTY</span><span class="p">()</span>
	<span class="n">UVictoryEdEngine</span><span class="o">*</span> <span class="n">VictoryEngine</span><span class="p">;</span>
	
	<span class="kt">bool</span> <span class="n">ReEntering</span><span class="p">;</span>
	
<span class="c1">//Constructor/Destructor</span>
<span class="k">public</span><span class="o">:</span>
	<span class="n">FVictoryEdAlignMode</span><span class="p">();</span> 
	<span class="o">~</span><span class="n">FVictoryEdAlignMode</span><span class="p">();</span> 
	<span class="kt">void</span> <span class="nf">JoyInit</span><span class="p">(</span><span class="n">UVictoryEdEngine</span><span class="o">*</span> <span class="n">EnginePtr</span><span class="p">);</span>
	
<span class="c1">//FEdMode</span>
<span class="k">public</span><span class="o">:</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="n">Enter</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Exit</span><span class="p">()</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	
	<span class="c1">//More fundamental than DrawHUD</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Render</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">FPrimitiveDrawInterface</span><span class="o">*</span> <span class="n">PDI</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">DrawHUD</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">InputKey</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">,</span><span class="n">EInputEvent</span> <span class="n">Event</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">MouseMove</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">int32</span> <span class="n">x</span><span class="p">,</span> <span class="n">int32</span> <span class="n">y</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">InputAxis</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">int32</span> <span class="n">ControllerId</span><span class="p">,</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">,</span><span class="kt">float</span> <span class="n">Delta</span><span class="p">,</span><span class="kt">float</span> <span class="n">DeltaTime</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="cm">/** Notifies all active modes of any change in mouse movement */</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">InputDelta</span><span class="p">(</span> <span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">InViewport</span><span class="p">,</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">InDrag</span><span class="p">,</span><span class="n">FRotator</span><span class="o">&amp;</span> <span class="n">InRot</span><span class="p">,</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">InScale</span> <span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">HandleClick</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span> <span class="n">HHitProxy</span> <span class="o">*</span><span class="n">HitProxy</span><span class="p">,</span> <span class="k">const</span> <span class="n">FViewportClick</span> <span class="o">&amp;</span><span class="n">Click</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	<span class="k">virtual</span> <span class="kt">void</span> <span class="nf">Tick</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="kt">float</span> <span class="n">DeltaTime</span><span class="p">)</span> <span class="n">OVERRIDE</span><span class="p">;</span>
	
	<span class="c1">//Cursor</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">GetCursor</span><span class="p">(</span><span class="n">EMouseCursor</span><span class="o">::</span><span class="n">Type</span><span class="o">&amp;</span> <span class="n">OutCursor</span><span class="p">)</span> <span class="k">const</span> <span class="n">OVERRIDE</span><span class="p">;</span> 
	
	<span class="cm">/**</span>
<span class="cm">	 * Lets the mode determine if it wants to draw the widget or not.</span>
<span class="cm">	 */</span>
	<span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">ShouldDrawWidget</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre>
      </div>
      <h4>
       <span class="mw-headline" id=".CPP_2">
        .CPP
       </span>
      </h4>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">// Victory Ed Mode extension by Rama</span>

<span class="c1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>

<span class="c1">//Victory Alignment Mode</span>

<span class="c1">//#include "VictoryGame.h"</span>
<span class="cp">#include</span> <span class="cpf">"VictoryBPLibraryPrivatePCH.h"</span><span class="cp"></span>

<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>

<span class="cp">#define CHECK_VSELECTED if(!VictoryEngine) return; if(!VictoryEngine-&gt;VSelectedActor) return;</span>

<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Display Choices [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
<span class="cp">#define VERTEX_DISPLAY_STARS 		0</span>
<span class="cp">#define VERTEX_DISPLAY_3DBOX 		1</span>
<span class="cp">#define VERTEX_DISPLAY_RECT 			2</span>
<span class="cp">#define VERTEX_DISPLAY_DIAMOND3D 	3</span>
<span class="cp">#define VERTEX_DISPLAY_SPHERE 		4</span>
<span class="cp">#define VERTEX_SELECTED_MULT		1.333</span>
<span class="cp">#define VERTEX_SHAPE_MULT			0.8</span>
<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Defines [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>

<span class="c1">//MAX</span>
<span class="cp">#define MAX_VERTEX_COUNT_FOR_DRAWING 10000</span>
<span class="cp">#define MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES 5000</span>

<span class="c1">//Speeds</span>
<span class="cp">#define XYZSPEEDMULT 20</span>

<span class="c1">//3D</span>
<span class="cp">#define DEFAULT_INSTANT_MOVE_DISTANCE 2048</span>
<span class="cp">#define CURSOR_DELTA_DISTANCE_CALC 2048</span>
<span class="c1">//HUD</span>
<span class="cp">#define VICTORY_TITLE_HEIGHT 38</span>
<span class="cp">#define VICTORY_TEXT_HEIGHT 24</span>

<span class="c1">//Color</span>
<span class="cp">#define RED 		0</span>
<span class="cp">#define BLUE		1</span>
<span class="cp">#define YELLOW 3</span>

<span class="c1">//TIME</span>
<span class="cp">#define VICTORY_TITLE_VISIBLE_DURATION 2</span>

<span class="c1">//Button Vibes</span>
<span class="cp">#define BUTTON_VIBE_VICTORYHOTKEYS 		0</span>

<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Const [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
<span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_Red</span> <span class="o">=</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_Yellow</span> <span class="o">=</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">const</span> <span class="n">FLinearColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_Blue</span><span class="o">=</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
<span class="k">const</span> <span class="n">FColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_VRed</span> <span class="o">=</span> <span class="n">FColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">);</span>
<span class="k">const</span> <span class="n">FColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_VBlue</span> <span class="o">=</span> <span class="n">FColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">);</span>
<span class="k">const</span> <span class="n">FColor</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RV_VYellow</span> <span class="o">=</span> <span class="n">FColor</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">);</span>
	

<span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">FVictoryEdAlignMode</span><span class="p">()</span>
<span class="p">{</span>
	
<span class="p">}</span>
<span class="n">FVictoryEdAlignMode</span><span class="o">::~</span><span class="n">FVictoryEdAlignMode</span><span class="p">()</span>
<span class="p">{</span>	
<span class="p">}</span>

<span class="c1">//INIT</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">JoyInit</span><span class="p">(</span><span class="n">UVictoryEdEngine</span><span class="o">*</span> <span class="n">EnginePtr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ID</span> <span class="o">=</span> <span class="n">FName</span><span class="p">(</span><span class="s">"VictoryEditorMode"</span><span class="p">);</span>
	
	<span class="c1">//VictoryEngine</span>
	<span class="n">VictoryEngine</span> <span class="o">=</span> <span class="n">EnginePtr</span><span class="p">;</span>
	
	<span class="c1">//Victory Buttons</span>
	<span class="n">RefreshVictoryButtons</span><span class="p">();</span>

	<span class="c1">//Enable Realtime</span>
	<span class="n">ReEntering</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Verticies</span>
	<span class="n">DoDrawVerticies</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">VertexDisplayChoice</span> <span class="o">=</span> <span class="n">VERTEX_DISPLAY_STARS</span><span class="p">;</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="n">UsingMouseInstantMove</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">CurrentVerticiesScale</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="c1">//Traces</span>
	<span class="n">RV_TraceParams</span> <span class="o">=</span> <span class="n">FCollisionQueryParams</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"HUDRMBDown"</span><span class="p">)),</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">RV_TraceParams</span><span class="p">.</span><span class="n">bTraceComplex</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="c1">//RV_TraceParams.bTraceAsyncScene = true;</span>
	<span class="n">RV_TraceParams</span><span class="p">.</span><span class="n">bReturnPhysicalMaterial</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RefreshVictoryButtons</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">VictoryButtons</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="n">FVButton</span> <span class="n">NewButton</span><span class="p">;</span>
	<span class="n">NewButton</span><span class="p">.</span><span class="n">Vibe</span> 	<span class="o">=</span> <span class="n">BUTTON_VIBE_VICTORYHOTKEYS</span><span class="p">;</span>
	<span class="n">NewButton</span><span class="p">.</span><span class="n">minX</span>	<span class="o">=</span>	<span class="mi">10</span><span class="p">;</span>
	<span class="n">NewButton</span><span class="p">.</span><span class="n">maxX</span>	<span class="o">=</span>	<span class="mi">200</span><span class="p">;</span>
	<span class="n">NewButton</span><span class="p">.</span><span class="n">minY</span>	<span class="o">=</span>	<span class="n">VICTORY_TITLE_HEIGHT</span><span class="p">;</span>
	<span class="n">NewButton</span><span class="p">.</span><span class="n">maxY</span>	<span class="o">=</span>	<span class="n">VICTORY_TITLE_HEIGHT</span> <span class="o">+</span> <span class="n">VICTORY_TEXT_HEIGHT</span><span class="p">;</span>
	<span class="n">VictoryButtons</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">NewButton</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//EXIT</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Exit</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">UsingMouseInstantMove</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">//ENTER</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Enter</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//FEdMode::Enter();</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="c1">//Victory Title Appears</span>
	<span class="n">VictoryTitleAppears</span><span class="p">();</span>
	<span class="n">ReEntering</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Clear keys</span>
	<span class="n">MinusIsDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">PlusIsDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="n">ShiftDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Trace</span>
	<span class="n">RV_TraceParams</span> <span class="o">=</span> <span class="n">FCollisionQueryParams</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"HUDRMBDown"</span><span class="p">)),</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	
	<span class="c1">//testing</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="c1">//CreateUModel();</span>
<span class="p">}</span>

<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>

<span class="n">FDropToClosestSurfaceData</span><span class="o">*</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">GetActorWithShortestDrop</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FDropToClosestSurfaceData</span><span class="o">&gt;&amp;</span> <span class="n">TheData</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//No Actors</span>
	<span class="k">if</span><span class="p">(</span><span class="n">TheData</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	
	<span class="c1">//Only 1 Actor</span>
	<span class="k">if</span><span class="p">(</span><span class="n">TheData</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="k">return</span> <span class="o">&amp;</span><span class="n">TheData</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="kt">float</span> <span class="n">SmallestDistance</span> <span class="o">=</span> <span class="mi">100000000</span><span class="p">;</span>
	<span class="n">int32</span> <span class="n">SmallestDataIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	
	<span class="c1">//Find Smallest</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="n">TheData</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span> <span class="n">TheData</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">DistSquared</span> <span class="o">&lt;</span> <span class="n">SmallestDistance</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">SmallestDistance</span> <span class="o">=</span> <span class="n">TheData</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">DistSquared</span><span class="p">;</span>
			<span class="n">SmallestDataIndex</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="c1">//Valid?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">TheData</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">SmallestDataIndex</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">return</span> <span class="o">&amp;</span><span class="n">TheData</span><span class="p">[</span><span class="n">SmallestDataIndex</span><span class="p">];</span>
	<span class="p">}</span>
	
	<span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DropSelectedActorsToNearestSurface</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VictoryEngine</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	

	<span class="c1">//ONLY WORKING WITH SMAs at the moment, due to nature of rest of plugin</span>
	<span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">AsSMA</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="c1">// Closest Surface Data</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FDropToClosestSurfaceData</span><span class="o">&gt;</span> <span class="n">ClosestSurfaceData</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="c1">//TRACE PARAMETERS</span>
	<span class="n">FCollisionQueryParams</span> <span class="nf">TraceParams</span><span class="p">(</span><span class="n">FName</span><span class="p">(</span><span class="n">TEXT</span><span class="p">(</span><span class="s">"VictoryEd Trace"</span><span class="p">)),</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">TraceParams</span><span class="p">.</span><span class="n">bTraceComplex</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="c1">//TraceParams.bTraceAsyncScene = true;</span>
	<span class="n">TraceParams</span><span class="p">.</span><span class="n">bReturnPhysicalMaterial</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Ignore  ALL Selected Actors</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VSelectItrActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VSelectItrActor</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="c1">//Add</span>
		<span class="n">TraceParams</span><span class="p">.</span><span class="n">AddIgnoredActor</span><span class="p">(</span><span class="n">VSelectItrActor</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//Hit Result</span>
	<span class="n">FHitResult</span> <span class="n">TheHit</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>

	
	<span class="c1">//Iterate Over Selected Actors</span>
	<span class="n">FVector</span> <span class="n">ActorLoc</span><span class="p">;</span>
	<span class="n">FVector</span> <span class="n">BottomPoint</span><span class="p">;</span>
	<span class="n">FVector</span> <span class="n">OffsetFromCenter</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">AsSMA</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AStaticMeshActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">AsSMA</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
		<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Do the Trace [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>

		<span class="c1">//Re-initialize hit info</span>
		<span class="n">TheHit</span> <span class="o">=</span> <span class="n">FHitResult</span><span class="p">(</span><span class="n">ForceInit</span><span class="p">);</span>
		
		<span class="c1">//Trace!</span>
		<span class="n">ActorLoc</span> <span class="o">=</span> <span class="n">AsSMA</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">();</span>
		<span class="n">GetWorld</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">LineTraceSingle</span><span class="p">(</span>
			<span class="n">TheHit</span><span class="p">,</span>		<span class="c1">//result</span>
			<span class="n">ActorLoc</span><span class="p">,</span>								
			<span class="n">ActorLoc</span> <span class="o">+</span> <span class="n">FVector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">20000</span><span class="p">),</span>
			<span class="n">ECC_Pawn</span><span class="p">,</span> <span class="c1">//collision channel</span>
			<span class="n">TraceParams</span>
		<span class="p">);</span>
		
		<span class="c1">//Hit any Actor?</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheHit</span><span class="p">.</span><span class="n">GetActor</span><span class="p">())</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
		
		
		<span class="c1">//See .h</span>
		<span class="n">GetBottomSurfacePoint</span><span class="p">(</span><span class="n">AsSMA</span><span class="p">,</span><span class="n">BottomPoint</span><span class="p">);</span>
		
		
		<span class="c1">//Offset From Center</span>
		<span class="n">OffsetFromCenter</span> <span class="o">=</span> <span class="n">ActorLoc</span> <span class="o">-</span> <span class="n">BottomPoint</span><span class="p">;</span>
			
		<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) ADD Closest Surface Data [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		<span class="n">FDropToClosestSurfaceData</span> <span class="n">NewData</span><span class="p">;</span>
		<span class="n">NewData</span><span class="p">.</span><span class="n">TheActor</span> <span class="o">=</span> <span class="n">AsSMA</span><span class="p">;</span>
		<span class="n">NewData</span><span class="p">.</span><span class="n">SurfaceLoc</span> <span class="o">=</span> <span class="n">TheHit</span><span class="p">.</span><span class="n">ImpactPoint</span> <span class="o">+</span> <span class="n">OffsetFromCenter</span><span class="p">;</span>
		<span class="n">NewData</span><span class="p">.</span><span class="n">DistSquared</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">DistSquared</span><span class="p">(</span><span class="n">AsSMA</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">(),</span><span class="n">NewData</span><span class="p">.</span><span class="n">SurfaceLoc</span><span class="p">);</span>
		<span class="n">ClosestSurfaceData</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">NewData</span><span class="p">);</span>
		
	<span class="p">}</span>
	
	
	<span class="c1">//Get Smallest Drop Data</span>
	<span class="n">FDropToClosestSurfaceData</span><span class="o">*</span> <span class="n">SmallestDropData</span> <span class="o">=</span> <span class="n">GetActorWithShortestDrop</span><span class="p">(</span><span class="n">ClosestSurfaceData</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">SmallestDropData</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Get Smallest Drop Actor</span>
	<span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">AnchorActor</span> <span class="o">=</span> <span class="n">SmallestDropData</span><span class="o">-&gt;</span><span class="n">TheActor</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">AnchorActor</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	
	
	<span class="c1">//Get Relative Offsets of this to all other actors in selection</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="n">Origin</span> <span class="o">=</span> <span class="n">AnchorActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">();</span>
	<span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVector</span><span class="o">&gt;</span> <span class="n">AnchorOffsets</span><span class="p">;</span>
	<span class="n">AActor</span><span class="o">*</span> <span class="n">AsActor</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">AsActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">AsActor</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="n">AnchorOffsets</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">AsActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">()</span> <span class="o">-</span> <span class="n">Origin</span><span class="p">);</span>
	<span class="p">}</span>
	
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Move Anchor Actor [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="c1">//Move to impact, Plus the offset from nearest surface of object</span>
	<span class="n">AnchorActor</span><span class="o">-&gt;</span><span class="n">SetActorLocation</span><span class="p">(</span><span class="n">SmallestDropData</span><span class="o">-&gt;</span><span class="n">SurfaceLoc</span><span class="p">);</span>
	
	<span class="c1">//Move all other actors to Anchor Actor + Offset</span>
	<span class="n">int32</span> <span class="n">AnchorItr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">AsActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">AsActor</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="c1">//VALID?</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">AnchorOffsets</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">AnchorItr</span><span class="p">))</span> <span class="k">break</span><span class="p">;</span>
		
		<span class="n">AsActor</span><span class="o">-&gt;</span><span class="n">SetActorLocation</span><span class="p">(</span><span class="n">SmallestDropData</span><span class="o">-&gt;</span><span class="n">SurfaceLoc</span> <span class="o">+</span> <span class="n">AnchorOffsets</span><span class="p">[</span><span class="n">AnchorItr</span><span class="p">]);</span>
		
		<span class="c1">//INC</span>
		<span class="n">AnchorItr</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Update Display!</span>
	<span class="n">DoSingleDisplayUpdate</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) RESELECT SINGLE ACTOR TO MOVE WIDGET</span>
	<span class="k">if</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorCount</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
		<span class="c1">//Deselect without Noting</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectNone</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectActor</span><span class="p">(</span><span class="n">AnchorActor</span><span class="p">,</span><span class="nb">true</span><span class="p">,</span><span class="nb">true</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>

<span class="n">FPositionVertexBuffer</span><span class="o">*</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">GetVerticies</span><span class="p">(</span><span class="n">AStaticMeshActor</span><span class="o">*</span> <span class="n">TheSMA</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">IsValidLowLevel</span><span class="p">())</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">StaticMesh</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">RenderData</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	
	<span class="c1">//Valid LOD ?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">RenderData</span><span class="o">-&gt;</span><span class="n">LODResources</span><span class="p">.</span><span class="n">Num</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//				Vertex Buffer Check</span>
	<span class="n">FPositionVertexBuffer</span><span class="o">*</span> <span class="n">VertexBuffer</span> <span class="o">=</span> 
		<span class="o">&amp;</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">RenderData</span><span class="o">-&gt;</span><span class="n">LODResources</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">PositionVertexBuffer</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//			Count Too High?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">GetNumVertices</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">MAX_VERTEX_COUNT_FOR_DRAWING</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//UE_LOG(Victory, Error, TEXT("Vertex Count too high to draw! %d"), VertexBuffer-&gt;GetNumVertices() );</span>
		<span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)~~</span>
	<span class="p">}</span>
	
	<span class="c1">//Return Vertex Buffer</span>
	<span class="k">return</span> <span class="o">&amp;</span><span class="n">TheSMA</span><span class="o">-&gt;</span><span class="n">StaticMeshComponent</span><span class="o">-&gt;</span><span class="n">StaticMesh</span><span class="o">-&gt;</span><span class="n">RenderData</span><span class="o">-&gt;</span><span class="n">LODResources</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">PositionVertexBuffer</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>

<span class="cm">/*</span>
<span class="cm">UENUM()</span>
<span class="cm">enum EInputEvent</span>
<span class="cm">{</span>
<span class="cm">	IE_Pressed              =0,</span>
<span class="cm">	IE_Released             =1,</span>
<span class="cm">	IE_Repeat               =2,</span>
<span class="cm">	IE_DoubleClick          =3,</span>
<span class="cm">	IE_Axis                 =4,</span>
<span class="cm">	IE_MAX                  =5,</span>
<span class="cm">};</span>
<span class="cm">*/</span>

<span class="c1">//Pressed</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputKeyPressed</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//UE_LOG(Victory, Error, TEXT("Key pressed %s"), *EKeys::GetKeyName(Key).ToString() );</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VictoryEngine</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="c1">//RMB</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">RightMouseButton</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">RMBDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)~</span>
	<span class="p">}</span>
	
	<span class="c1">//Left Mouse</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">LeftMouseClick</span><span class="p">();</span>
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)~</span>
	<span class="p">}</span>
	
	<span class="c1">//X Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">X</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">XDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//Y Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">Y</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">DropSelectedActorsToNearestSurface</span><span class="p">();</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//U Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">U</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">YDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">DoDrawVerticies</span> <span class="o">=</span> <span class="o">!</span><span class="n">DoDrawVerticies</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//K Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">K</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="p">)</span>
			<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">SetActorRotation</span><span class="p">(</span><span class="n">FRotator</span><span class="o">::</span><span class="n">ZeroRotator</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//SHIFT KEY</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">LeftShift</span> <span class="o">||</span> <span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">RightShift</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">ShiftDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	
	<span class="c1">//- Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Underscore</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">MinusIsDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">//+ Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">Equals</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">PlusIsDown</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//T Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">T</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">UsingMouseInstantMove</span> <span class="o">=</span> <span class="o">!</span><span class="n">UsingMouseInstantMove</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="p">}</span>
	
	<span class="c1">//V Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">V</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">SnapKeyPressed</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="p">}</span>
	<span class="c1">//B Key</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">B</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VertexDisplayChoice</span><span class="o">++</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="n">VertexDisplayChoice</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="p">}</span>
	
	
	<span class="c1">//Restore Previous Editor Mode</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">P</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Clear all Verticies</span>
	
		<span class="c1">//Exit</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">ExitVictoryAlignMode</span><span class="p">();</span>
		
		<span class="k">return</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)~</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Released</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputKeyReleased</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//RMB</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">RightMouseButton</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">RMBDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//LMB</span>
	<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">LeftMouseButton</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//SHIFT KEY</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">LeftShift</span> <span class="o">||</span> <span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">RightShift</span><span class="p">)</span> <span class="n">ShiftDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//- Key</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">Underscore</span><span class="p">)</span> <span class="n">MinusIsDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//+ Key</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">Equals</span><span class="p">)</span>  <span class="n">PlusIsDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//X Key</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">X</span><span class="p">)</span> <span class="n">XDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Y Key</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKey</span><span class="o">::</span><span class="n">Y</span><span class="p">)</span> <span class="n">YDown</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
<span class="p">}</span>

<span class="c1">//Double Click</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputKeyDoubleClick</span><span class="p">(</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//UE_LOG(Victory, Error, TEXT("Key DOUBLE CLICK %s"), *EKeys::GetKeyName(Key).ToString() );</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputKey</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">,</span><span class="n">EInputEvent</span> <span class="n">Event</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Middle Mouse</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">Key</span> <span class="o">==</span> <span class="n">EKeys</span><span class="o">::</span><span class="n">MiddleMouseButton</span><span class="p">)</span> 			<span class="n">MiddleMouseEvent</span><span class="p">(</span><span class="n">Event</span><span class="p">);</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Event</span> <span class="o">==</span> <span class="n">EInputEvent</span><span class="o">::</span><span class="n">IE_Pressed</span><span class="p">)</span> 		<span class="n">InputKeyPressed</span><span class="p">(</span><span class="n">Key</span><span class="p">);</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Event</span> <span class="o">==</span> <span class="n">EInputEvent</span><span class="o">::</span><span class="n">IE_Released</span><span class="p">)</span> 	<span class="n">InputKeyReleased</span><span class="p">(</span><span class="n">Key</span><span class="p">);</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">Event</span> <span class="o">==</span> <span class="n">EInputEvent</span><span class="o">::</span><span class="n">IE_DoubleClick</span><span class="p">)</span> 	<span class="n">InputKeyDoubleClick</span><span class="p">(</span><span class="n">Key</span><span class="p">);</span>
	
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">ProcessMouseInstantMove</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ViewportClient</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//Re-initialize hit info</span>
	<span class="n">RV_Hit</span> <span class="o">=</span> <span class="n">FHitResult</span><span class="p">(</span><span class="n">ForceInit</span><span class="p">);</span>
	
	<span class="c1">//Clear Previous Ignore Actors</span>
	<span class="n">RV_TraceParams</span><span class="p">.</span><span class="n">IgnoreActors</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	
	<span class="c1">//Ignore All Selected Actors!!!</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VSelectItrActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VSelectItrActor</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="c1">//Add</span>
		<span class="n">RV_TraceParams</span><span class="p">.</span><span class="n">AddIgnoredActor</span><span class="p">(</span><span class="n">VSelectItrActor</span><span class="p">);</span>
	<span class="p">}</span>
	
	<span class="c1">//Trace</span>
	<span class="n">GetWorld</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">LineTraceSingle</span><span class="p">(</span>
		<span class="n">RV_Hit</span><span class="p">,</span>		<span class="c1">//result</span>
		<span class="n">CursorWorldPos</span><span class="p">,</span>	<span class="c1">//start</span>
		<span class="n">CursorWorldPos</span> <span class="o">+</span> <span class="mi">100000</span> <span class="o">*</span> <span class="n">CursorWorldDir</span> <span class="p">,</span> <span class="c1">//end</span>
		<span class="n">ECC_WorldStatic</span><span class="p">,</span> <span class="c1">//collision channel</span>
		<span class="n">RV_TraceParams</span>
	<span class="p">);</span>
	
	<span class="c1">//Store Hit Actor</span>
	<span class="n">RV_HitActor</span> <span class="o">=</span> <span class="n">RV_Hit</span><span class="p">.</span><span class="n">GetActor</span><span class="p">();</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//				Update Highlighted Actor</span>
	
		<span class="c1">//does  not equal same		  does not equal the main Selected Actor</span>
	<span class="k">if</span><span class="p">(</span><span class="n">RV_HitActor</span> <span class="o">!=</span> <span class="n">HighlightedActor</span> <span class="o">&amp;&amp;</span> <span class="n">RV_HitActor</span> <span class="o">!=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//potentially deselect any highlighted</span>
		<span class="n">HighlightedActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AStaticMeshActor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">RV_HitActor</span><span class="p">);</span>
		
		<span class="c1">//Refresh Vertex Buffer</span>
		<span class="n">HighlightedVertexBuffer</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">HighlightedActor</span><span class="p">)</span> <span class="n">HighlightedVertexBuffer</span> <span class="o">=</span> <span class="n">GetVerticies</span><span class="p">(</span><span class="n">HighlightedActor</span><span class="p">);</span>
		
		
	<span class="p">}</span>
	
	<span class="k">if</span><span class="p">(</span><span class="n">RV_Hit</span><span class="p">.</span><span class="n">bBlockingHit</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//INVALIDATE THE DISPLAY</span>
		<span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">InvalidateDisplay</span><span class="p">();</span>
	<span class="p">}</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//			PROCESS MOUSE INSTANT MOVE?</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">UsingMouseInstantMove</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//If not hit something, use default distance</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">RV_Hit</span><span class="p">.</span><span class="n">bBlockingHit</span><span class="p">)</span> <span class="n">RV_Hit</span><span class="p">.</span><span class="n">ImpactPoint</span> <span class="o">=</span> <span class="n">CursorWorldPos</span> <span class="o">+</span> <span class="n">DEFAULT_INSTANT_MOVE_DISTANCE</span> <span class="o">*</span> <span class="n">CursorWorldDir</span><span class="p">;</span>
	
	
	<span class="c1">//		Move the Primary, the Origin!</span>
	<span class="n">RV_Vect</span> <span class="o">=</span> <span class="n">RV_Hit</span><span class="p">.</span><span class="n">ImpactPoint</span><span class="p">;</span>
		
		<span class="c1">//Use Existing Z of Object</span>
	<span class="n">RV_Vect</span><span class="p">.</span><span class="n">Z</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">().</span><span class="n">Z</span><span class="p">;</span>
		
		<span class="c1">//Update Location</span>
	<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">SetActorLocation</span><span class="p">(</span><span class="n">RV_Vect</span><span class="p">);</span>	
		
		<span class="c1">//Save New Origin Location</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="nf">NewOrigin</span><span class="p">(</span><span class="n">RV_Vect</span><span class="p">);</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="c1">//Update the Others According to the Moved Origin</span>
	<span class="n">RV_Int32</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">FSelectionIterator</span> <span class="n">VSelectItr</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetSelectedActorIterator</span><span class="p">();</span> 
		<span class="n">VSelectItr</span><span class="p">;</span> <span class="o">++</span><span class="n">VSelectItr</span> <span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VSelectItrActor</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">AActor</span><span class="o">&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">VSelectItr</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VSelectItrActor</span><span class="p">)</span> 
		<span class="p">{</span>
			<span class="n">RV_Int32</span><span class="o">++</span><span class="p">;</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
		
		<span class="c1">//Get New Origin</span>
		<span class="n">RV_Vect</span> <span class="o">=</span> <span class="n">NewOrigin</span><span class="p">;</span>
		
		<span class="c1">//Add Offset</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectionRelativeOffsets</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">RV_Int32</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="n">RV_Vect</span><span class="o">+=</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectionRelativeOffsets</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">];</span>
		<span class="p">}</span>
		
		<span class="c1">//Update Location</span>
		<span class="n">VSelectItrActor</span><span class="o">-&gt;</span><span class="n">SetActorLocation</span><span class="p">(</span><span class="n">RV_Vect</span><span class="p">);</span>
		
		<span class="c1">//Inc</span>
		<span class="n">RV_Int32</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//INVALIDATE THE DISPLAY</span>
	<span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">InvalidateDisplay</span><span class="p">();</span>
	
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputDelta</span><span class="p">(</span> <span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">InViewport</span><span class="p">,</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">InDrag</span><span class="p">,</span><span class="n">FRotator</span><span class="o">&amp;</span> <span class="n">InRot</span><span class="p">,</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">InScale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//only works if LMB is down</span>
	
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">InputAxis</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">int32</span> <span class="n">ControllerId</span><span class="p">,</span><span class="n">EKey</span> <span class="n">Key</span><span class="p">,</span><span class="kt">float</span> <span class="n">Delta</span><span class="p">,</span><span class="kt">float</span> <span class="n">DeltaTime</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//only works if any mouse button is down</span>
	
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">MouseMove</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">int32</span> <span class="n">x</span><span class="p">,</span> <span class="n">int32</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ViewportClient</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//	ESSENTIAL UPDATES</span>
	<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="o">=</span><span class="n">x</span><span class="p">;</span>
	<span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span><span class="o">=</span><span class="n">y</span><span class="p">;</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Cursor World Space [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="n">FViewportCursorLocation</span> <span class="n">CursorWS</span> <span class="o">=</span> <span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">GetCursorWorldLocationFromMousePos</span><span class="p">();</span>
	<span class="n">CursorWorldPos</span> <span class="o">=</span> <span class="n">CursorWS</span><span class="p">.</span><span class="n">GetOrigin</span><span class="p">();</span>
	<span class="n">CursorWorldDir</span> <span class="o">=</span> <span class="n">CursorWS</span><span class="p">.</span><span class="n">GetDirection</span><span class="p">();</span>
	
	<span class="c1">//Calc Delta</span>
	<span class="n">RV_Vect</span> <span class="o">=</span> <span class="n">CursorWorldPos</span> <span class="o">+</span> <span class="n">CursorWorldDir</span> <span class="o">*</span> <span class="n">CURSOR_DELTA_DISTANCE_CALC</span><span class="p">;</span>
	<span class="n">CursorWorldDelta</span> <span class="o">=</span> <span class="n">RV_Vect</span> <span class="o">-</span> <span class="n">CursorWorldPrevPos</span><span class="p">;</span>
	<span class="n">CursorWorldDelta</span> <span class="o">/=</span> <span class="mi">4</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">CursorWorldDelta</span><span class="p">.</span><span class="n">SizeSquared</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="n">CursorWorldDelta</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">ZeroVector</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">CursorWorldDelta</span><span class="p">.</span><span class="n">SizeSquared</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">10000</span><span class="p">)</span> <span class="n">CursorWorldDelta</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">ZeroVector</span><span class="p">;</span>
	
	<span class="c1">//Save Prev</span>
	<span class="n">CursorWorldPrevPos</span> <span class="o">=</span> <span class="n">RV_Vect</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//SUPER HYPER BUTTON REFRESHING</span>
	<span class="c1">//		due to the slide physx camera thing when moving</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">UsingMouseInstantMove</span><span class="p">)</span> <span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//Middle Mouse Event</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">MiddleMouseEvent</span><span class="p">(</span><span class="n">EInputEvent</span> <span class="n">Event</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//Pressed</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Event</span> <span class="o">==</span> <span class="n">EInputEvent</span><span class="o">::</span><span class="n">IE_Pressed</span><span class="p">)</span>
	<span class="p">{</span>
		
	
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//Released</span>
	<span class="k">if</span><span class="p">(</span><span class="n">Event</span> <span class="o">==</span> <span class="n">EInputEvent</span><span class="o">::</span><span class="n">IE_Released</span><span class="p">)</span>
	<span class="p">{</span>
		
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Left Mouse Click</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">LeftMouseClick</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="c1">//SelectedVertexForSelectedActor = -1;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">HandleClick</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">InViewportClient</span><span class="p">,</span> <span class="n">HHitProxy</span> <span class="o">*</span><span class="n">HitProxy</span><span class="p">,</span> <span class="k">const</span> <span class="n">FViewportClick</span> <span class="o">&amp;</span><span class="n">Click</span><span class="p">)</span>
<span class="p">{</span>

	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>

<span class="c1">//``</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">GetSelectedVertexLocation</span><span class="p">(</span><span class="n">FVector</span><span class="o">&amp;</span> <span class="n">LocOut</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">SelectedVertexBuffer</span><span class="p">)</span>  <span class="k">return</span><span class="p">;</span>	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="k">const</span> <span class="n">FTransform</span> <span class="n">SMATransform</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetTransform</span><span class="p">();</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="n">SMALocation</span> 		<span class="o">=</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">GetLocation</span><span class="p">();</span>
	<span class="k">const</span> <span class="n">int32</span> <span class="n">VertexCount</span> 			<span class="o">=</span> <span class="n">SelectedVertexBuffer</span><span class="o">-&gt;</span><span class="n">GetNumVertices</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">VertexCount</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">Itr</span> <span class="o">==</span> <span class="n">SelectedVertexForSelectedActor</span><span class="p">)</span> 
		<span class="p">{</span>
			<span class="n">LocOut</span> <span class="o">=</span> <span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">SelectedVertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">));</span>
			<span class="k">return</span><span class="p">;</span>
			<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DoVertexSnap</span><span class="p">(</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">Dest</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="n">FVector</span> <span class="n">SelectedVertexLocation</span><span class="p">;</span>
	
	<span class="c1">//Initial Location</span>
	<span class="n">GetSelectedVertexLocation</span><span class="p">(</span><span class="n">SelectedVertexLocation</span><span class="p">);</span>
	
	<span class="c1">//Match rotation of owner of target vertex?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">ShiftDown</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">SetActorRotation</span><span class="p">(</span><span class="n">RV_Hit</span><span class="p">.</span><span class="n">ImpactNormal</span><span class="p">.</span><span class="n">Rotation</span><span class="p">());</span>
		<span class="c1">//Recalc Selected Vertex After Rotation</span>
		<span class="n">GetSelectedVertexLocation</span><span class="p">(</span><span class="n">SelectedVertexLocation</span><span class="p">);</span>
		
		<span class="c1">//UE_LOG(Victory, Error, TEXT("WHAT IS HIT NORMAL %s"), *RV_Hit.ImpactNormal.Rotation().ToString() );</span>
	<span class="p">}</span>
	
	<span class="c1">//No modifier, just regular click</span>
	
	<span class="c1">//1. calc distance between selected vertex and JSMA location</span>
	<span class="c1">//2. move the JSMA to the target vertex</span>
	<span class="c1">//3. subtract the distance</span>
	
	<span class="c1">//Distance Offset</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="n">LocOffset</span> <span class="o">=</span> <span class="n">SelectedVertexLocation</span> <span class="o">-</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetActorLocation</span><span class="p">();</span>
	
	<span class="c1">//Set Location</span>
	<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">SetActorLocation</span><span class="p">(</span><span class="n">Dest</span> <span class="o">-</span> <span class="n">LocOffset</span><span class="p">);</span>
	
	<span class="c1">//Refresh After Moving</span>
	<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">RefreshVertexButtons</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">View</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="c1">//No Longer Pending</span>
	<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	
	<span class="c1">//Refresh</span>
	<span class="n">SelectedActorButtons</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	<span class="n">HighlightedActorButtons</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Vars [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="k">const</span> <span class="kt">float</span> <span class="n">ButtonHalfSize</span> <span class="o">=</span> <span class="n">CurrentVerticiesScale</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//			Selected Actor</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">IsValidLowLevel</span><span class="p">()</span> <span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">SelectedVertexBuffer</span><span class="p">)</span>  <span class="k">return</span><span class="p">;</span>	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="n">FTransform</span> <span class="n">SMATransform</span> <span class="o">=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetTransform</span><span class="p">();</span>
	<span class="n">FVector</span> <span class="n">SMALocation</span> 		<span class="o">=</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">GetLocation</span><span class="p">();</span>
	<span class="k">const</span> <span class="n">int32</span> <span class="n">VertexCount</span> 			<span class="o">=</span> <span class="n">SelectedVertexBuffer</span><span class="o">-&gt;</span><span class="n">GetNumVertices</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">VertexCount</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Get Rotated Scaled Translated Vertex Pos</span>
		<span class="n">VertexWorldSpace</span> <span class="o">=</span> <span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">SelectedVertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">));</span>
		
		<span class="c1">//Get 2D Center</span>
		<span class="n">VictoryProject</span><span class="p">(</span><span class="n">View</span><span class="p">,</span> 
			<span class="n">VertexWorldSpace</span><span class="p">,</span> 
			<span class="n">Vertex2DCenter</span> 
		<span class="p">);</span>
		
		<span class="n">FVButton</span> <span class="n">NewButton</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">Vibe</span> 			<span class="o">=</span> 	<span class="n">Itr</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">PointInWorld</span> 	<span class="o">=</span> 	<span class="n">VertexWorldSpace</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">minX</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">X</span> <span class="o">-</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">maxX</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">X</span> <span class="o">+</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">minY</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">Y</span> <span class="o">-</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">maxY</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">Y</span> <span class="o">+</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>

		<span class="c1">//Add Button</span>
		<span class="n">SelectedActorButtons</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">NewButton</span><span class="p">);</span>
	<span class="p">}</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//			Highlighted Actor</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">HighlightedActor</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">HighlightedActor</span><span class="o">-&gt;</span><span class="n">IsValidLowLevel</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">HighlightedVertexBuffer</span><span class="p">)</span>  <span class="k">return</span><span class="p">;</span>	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	<span class="n">SMATransform</span> <span class="o">=</span> <span class="n">HighlightedActor</span><span class="o">-&gt;</span><span class="n">GetTransform</span><span class="p">();</span>
	<span class="n">SMALocation</span> 		<span class="o">=</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">GetLocation</span><span class="p">();</span>
	<span class="k">const</span> <span class="n">int32</span> <span class="n">VertexCount2</span> 			<span class="o">=</span> <span class="n">HighlightedVertexBuffer</span><span class="o">-&gt;</span><span class="n">GetNumVertices</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">VertexCount2</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Get Rotated Scaled Translated Vertex Pos</span>
		<span class="n">VertexWorldSpace</span> <span class="o">=</span> <span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">HighlightedVertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">));</span>
		
		<span class="c1">//Get 2D Center</span>
		<span class="n">VictoryProject</span><span class="p">(</span><span class="n">View</span><span class="p">,</span> 
			<span class="n">VertexWorldSpace</span><span class="p">,</span> 
			<span class="n">Vertex2DCenter</span> 
		<span class="p">);</span>
		
		<span class="n">FVButton</span> <span class="n">NewButton</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">Vibe</span> 			<span class="o">=</span> 	<span class="n">Itr</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">PointInWorld</span> 	<span class="o">=</span> 	<span class="n">VertexWorldSpace</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">minX</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">X</span> <span class="o">-</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">maxX</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">X</span> <span class="o">+</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">minY</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">Y</span> <span class="o">-</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>
		<span class="n">NewButton</span><span class="p">.</span><span class="n">maxY</span>			<span class="o">=</span>	<span class="n">Vertex2DCenter</span><span class="p">.</span><span class="n">Y</span> <span class="o">+</span> <span class="n">ButtonHalfSize</span><span class="p">;</span>

		<span class="c1">//Add Button</span>
		<span class="n">HighlightedActorButtons</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">NewButton</span><span class="p">);</span>
	<span class="p">}</span>
	
<span class="p">}</span>

<span class="c1">//```</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">PDI_DrawVerticies</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span> <span class="n">FPrimitiveDrawInterface</span><span class="o">*</span> <span class="n">PDI</span><span class="p">,</span> <span class="k">const</span> <span class="n">FPositionVertexBuffer</span><span class="o">*</span> <span class="n">VertexBuffer</span><span class="p">,</span> <span class="k">const</span> <span class="n">FTransform</span><span class="o">&amp;</span> <span class="n">SMATransform</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DrawingSelectedActor</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">View</span><span class="p">)</span> 			<span class="k">return</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">PDI</span><span class="p">)</span> 			<span class="k">return</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VertexBuffer</span><span class="p">)</span> 	<span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>

	<span class="c1">//Location</span>
	<span class="k">const</span> <span class="n">FVector</span> <span class="n">SMALocation</span> 			<span class="o">=</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">GetLocation</span><span class="p">();</span>
	
	<span class="c1">//Get Count</span>
	<span class="k">const</span> <span class="n">int32</span> <span class="n">VertexCount</span> <span class="o">=</span> <span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">GetNumVertices</span><span class="p">();</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//			Selected Actor</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="k">if</span><span class="p">(</span><span class="n">DrawingSelectedActor</span><span class="p">)</span>
	<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">VertexCount</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="c1">//Selected Vertex?</span>
		<span class="k">if</span><span class="p">(</span><span class="n">SelectedVertexForSelectedActor</span> <span class="o">==</span> <span class="n">Itr</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw to the PDI</span>
			<span class="n">PDI</span><span class="o">-&gt;</span><span class="n">DrawPoint</span><span class="p">(</span>
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">RV_Yellow</span><span class="p">,</span>
				<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SELECTED_MULT</span><span class="p">,</span>
				<span class="mi">0</span> <span class="c1">//depth</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">HighlightedVertexForSelectedActor</span> <span class="o">==</span> <span class="n">Itr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw to the PDI</span>
			<span class="n">PDI</span><span class="o">-&gt;</span><span class="n">DrawPoint</span><span class="p">(</span>
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
				<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SELECTED_MULT</span><span class="p">,</span>
				<span class="mi">0</span> <span class="c1">//depth</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			
			<span class="c1">//Spheres</span>
			<span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_SPHERE</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span><span class="p">(</span><span class="n">VertexCount</span> <span class="o">&gt;</span> <span class="n">MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES</span><span class="p">)</span>
				<span class="p">{</span>
				<span class="n">DrawWireBox</span><span class="p">(</span>
					<span class="n">PDI</span><span class="p">,</span>
					<span class="n">BoxFromPointWithSize</span><span class="p">(</span><span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span><span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="mf">0.5</span><span class="p">),</span>
					<span class="n">RV_VRed</span><span class="p">,</span>
					<span class="mi">0</span>
				<span class="p">);</span>
				<span class="k">continue</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
				<span class="n">DrawWireSphere</span><span class="p">(</span>
					<span class="n">PDI</span><span class="p">,</span> 
					<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
					<span class="n">RV_VRed</span><span class="p">,</span> 
					<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">,</span> 
					<span class="mi">12</span><span class="p">,</span> 
					<span class="mi">0</span>
				<span class="p">);</span>
				<span class="k">continue</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			
			<span class="c1">//Diamond</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_DIAMOND3D</span><span class="p">)</span>
			<span class="p">{</span>
			<span class="n">DrawWireSphere</span><span class="p">(</span>
				<span class="n">PDI</span><span class="p">,</span> 
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">RV_VRed</span><span class="p">,</span> 
				<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">,</span> 
				<span class="mi">4</span><span class="p">,</span> 
				<span class="mi">0</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="c1">//Box</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_3DBOX</span><span class="p">)</span>
			<span class="p">{</span>
			<span class="n">DrawWireBox</span><span class="p">(</span>
				<span class="n">PDI</span><span class="p">,</span>
				<span class="n">BoxFromPointWithSize</span><span class="p">(</span><span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span><span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">),</span>
				<span class="n">RV_VRed</span><span class="p">,</span>
				<span class="mi">0</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="c1">//Stars</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_STARS</span><span class="p">)</span>
			<span class="p">{</span>
			<span class="n">DrawWireStar</span><span class="p">(</span>
				<span class="n">PDI</span><span class="p">,</span>
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">CurrentVerticiesScale</span><span class="p">,</span> 
				<span class="n">RV_VRed</span><span class="p">,</span>
				<span class="mi">0</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			
			<span class="c1">//Rect</span>
			<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_RECT</span><span class="p">)</span>
			<span class="p">{</span>
			<span class="c1">//Draw to the PDI</span>
			<span class="n">PDI</span><span class="o">-&gt;</span><span class="n">DrawPoint</span><span class="p">(</span>
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">RV_Red</span><span class="p">,</span>
				<span class="n">CurrentVerticiesScale</span><span class="p">,</span>
				<span class="mi">0</span> <span class="c1">//depth</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			
		<span class="p">}</span>
			
	<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="c1">//			Highlighted Actor</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	<span class="k">else</span>
	<span class="p">{</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">VertexCount</span><span class="p">;</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">HighlightedVertexForHighlightedActor</span> <span class="o">==</span> <span class="n">Itr</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Draw to the PDI</span>
			<span class="n">PDI</span><span class="o">-&gt;</span><span class="n">DrawPoint</span><span class="p">(</span>
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
				<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SELECTED_MULT</span><span class="p">,</span>
				<span class="mi">0</span> <span class="c1">//depth</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="c1">//Spheres</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_SPHERE</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="n">VertexCount</span> <span class="o">&gt;</span> <span class="n">MAX_VERTEX_COUNT_FOR_DRAWING_SPHERES</span><span class="p">)</span>
			<span class="p">{</span>
			<span class="n">DrawWireBox</span><span class="p">(</span>
				<span class="n">PDI</span><span class="p">,</span>
				<span class="n">BoxFromPointWithSize</span><span class="p">(</span><span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span><span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">),</span>
				<span class="n">RV_VBlue</span><span class="p">,</span>
				<span class="mi">0</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
			<span class="n">DrawWireSphere</span><span class="p">(</span>
				<span class="n">PDI</span><span class="p">,</span> 
				<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
				<span class="n">RV_VBlue</span><span class="p">,</span> 
				<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">,</span> 
				<span class="mi">12</span><span class="p">,</span> 
				<span class="mi">0</span>
			<span class="p">);</span>
			<span class="k">continue</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		
		<span class="c1">//Diamond</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_DIAMOND3D</span><span class="p">)</span>
		<span class="p">{</span>
		<span class="n">DrawWireSphere</span><span class="p">(</span>
			<span class="n">PDI</span><span class="p">,</span> 
			<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
			<span class="n">RV_VBlue</span><span class="p">,</span> 
			<span class="n">CurrentVerticiesScale</span><span class="o">*</span><span class="n">VERTEX_SHAPE_MULT</span><span class="p">,</span> 
			<span class="mi">4</span><span class="p">,</span> 
			<span class="mi">0</span>
		<span class="p">);</span>
		<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
			
		<span class="c1">//Box</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_3DBOX</span><span class="p">)</span>
		<span class="p">{</span>
		<span class="n">DrawWireBox</span><span class="p">(</span>
			<span class="n">PDI</span><span class="p">,</span>
			<span class="n">BoxFromPointWithSize</span><span class="p">(</span><span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span><span class="n">CurrentVerticiesScale</span><span class="p">),</span>
			<span class="n">RV_VBlue</span><span class="p">,</span>
			<span class="mi">0</span>
		<span class="p">);</span>
		<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="c1">//Stars</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_STARS</span><span class="p">)</span>
		<span class="p">{</span>
		
		<span class="n">DrawWireStar</span><span class="p">(</span>
			<span class="n">PDI</span><span class="p">,</span>
			<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
			<span class="n">CurrentVerticiesScale</span><span class="p">,</span> 
			<span class="n">RV_VBlue</span><span class="p">,</span>
			<span class="mi">0</span>
		<span class="p">);</span>
		<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="c1">//Rect</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">VertexDisplayChoice</span> <span class="o">==</span> <span class="n">VERTEX_DISPLAY_RECT</span><span class="p">)</span>
		<span class="p">{</span>
		<span class="c1">//Draw to the PDI</span>
		<span class="n">PDI</span><span class="o">-&gt;</span><span class="n">DrawPoint</span><span class="p">(</span>
			<span class="n">SMALocation</span> <span class="o">+</span> <span class="n">SMATransform</span><span class="p">.</span><span class="n">TransformVector</span><span class="p">(</span><span class="n">VertexBuffer</span><span class="o">-&gt;</span><span class="n">VertexPosition</span><span class="p">(</span><span class="n">Itr</span><span class="p">)),</span>
			<span class="n">RV_Blue</span><span class="p">,</span>
			<span class="n">CurrentVerticiesScale</span><span class="p">,</span>
			<span class="mi">0</span> <span class="c1">//depth</span>
		<span class="p">);</span>
		<span class="k">continue</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>	
	<span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawHotkeyToolTip</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="n">RV_yStart</span> <span class="o">=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">+</span> <span class="mi">16</span><span class="p">;</span>
	
	<span class="c1">//Background</span>
	<span class="n">DrawVictoryRect</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">-</span> <span class="mi">7</span><span class="p">,</span> 
		<span class="n">RV_yStart</span> <span class="o">-</span> <span class="mi">7</span><span class="p">,</span>
		<span class="mi">420</span><span class="p">,</span>
		<span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="mi">120</span><span class="p">,</span>
		<span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.777</span><span class="p">)</span>
	<span class="p">);</span>
	
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Victory Editor Mode Hotkeys [[User:Admin|Admin]] ([[User talk:Admin|talk]])"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"P ~ Restore previous Editor Mode"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">20</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"Y ~ Drop Objects to Nearest Surface!"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">20</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"T ~ Toggle Instant Mouse Move Mode"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"K ~ Reset Rotation"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">20</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"V ~ Select Verticies for Snapping!"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"SHIFT + V ~ Snap by Surface Normal"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"B ~ Toggle Different Vertex Types!!!"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"Hold + or - ~ Change Vertex Size!"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
	
	<span class="n">RV_yStart</span> <span class="o">+=</span> <span class="n">VICTORY_TEXT_HEIGHT</span> <span class="o">+</span> <span class="mi">4</span><span class="p">;</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> 
		<span class="s">"U ~ Toggle Hiding of All Verticies"</span><span class="p">,</span> 
		<span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span><span class="p">,</span><span class="n">RV_yStart</span><span class="p">,</span>
		<span class="n">RV_Yellow</span>
	<span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawVictoryText</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="k">const</span> <span class="n">FString</span><span class="o">&amp;</span> <span class="n">TheStr</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">TheScale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="n">FCanvasTextItem</span> <span class="nf">NewText</span><span class="p">(</span>
		<span class="n">FVector2D</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">),</span>
		<span class="n">FText</span><span class="o">::</span><span class="n">FromString</span><span class="p">(</span><span class="n">TheStr</span><span class="p">),</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetVictoryFont</span><span class="p">(),</span>
		<span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
	<span class="p">);</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">Scale</span><span class="p">.</span><span class="n">Set</span><span class="p">(</span><span class="n">TheScale</span><span class="p">,</span><span class="n">TheScale</span><span class="p">);</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">bOutlined</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="k">const</span> <span class="n">FString</span><span class="o">&amp;</span> <span class="n">TheStr</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">TheColor</span><span class="p">,</span> <span class="kt">float</span> <span class="n">TheScale</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="n">FCanvasTextItem</span> <span class="nf">NewText</span><span class="p">(</span>
		<span class="n">FVector2D</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">),</span>
		<span class="n">FText</span><span class="o">::</span><span class="n">FromString</span><span class="p">(</span><span class="n">TheStr</span><span class="p">),</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">GetVictoryFont</span><span class="p">(),</span>
		<span class="n">TheColor</span>
	<span class="p">);</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">Scale</span><span class="p">.</span><span class="n">Set</span><span class="p">(</span><span class="n">TheScale</span><span class="p">,</span><span class="n">TheScale</span><span class="p">);</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">bOutlined</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	
	<span class="c1">//Outline gets its alpha from the main color</span>
	<span class="n">NewText</span><span class="p">.</span><span class="n">OutlineColor</span> <span class="o">=</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">TheColor</span><span class="p">.</span><span class="n">A</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
	
	<span class="n">NewText</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawVictoryLine</span><span class="p">(</span>
	<span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> 
	<span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">Start</span><span class="p">,</span> 
	<span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">End</span><span class="p">,</span> 
	<span class="n">FLinearColor</span> <span class="n">TheColor</span><span class="p">,</span> 
	<span class="kt">float</span> <span class="n">Thick</span>
<span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="n">FCanvasLineItem</span> <span class="nf">NewLine</span><span class="p">(</span><span class="n">Start</span><span class="p">,</span><span class="n">End</span><span class="p">);</span>
	<span class="n">NewLine</span><span class="p">.</span><span class="n">SetColor</span><span class="p">(</span><span class="n">TheColor</span><span class="p">);</span>
	<span class="n">NewLine</span><span class="p">.</span><span class="n">LineThickness</span> <span class="o">=</span> <span class="n">Thick</span><span class="p">;</span>
	<span class="n">NewLine</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawVictoryRect</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">,</span> <span class="kt">float</span> <span class="n">X</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Width</span><span class="p">,</span> <span class="kt">float</span> <span class="n">Height</span><span class="p">,</span> <span class="n">FLinearColor</span> <span class="n">Color</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="n">FCanvasTileItem</span> <span class="nf">TileItem</span><span class="p">(</span> 
		<span class="n">FVector2D</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">),</span> 
		<span class="n">FVector2D</span><span class="p">(</span> <span class="n">Width</span><span class="p">,</span> <span class="n">Height</span> <span class="p">),</span> 
		<span class="n">Color</span> 
	<span class="p">);</span>
   
    <span class="n">TileItem</span><span class="p">.</span><span class="n">BlendMode</span> <span class="o">=</span> <span class="n">SE_BLEND_Translucent</span><span class="p">;</span>
	<span class="n">TileItem</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
	
	<span class="cm">/*</span>
<span class="cm">	Canvas-&gt;DrawTile( </span>
<span class="cm">		X, Y, </span>
<span class="cm">		Width, Height, </span>
<span class="cm">		0, 0, 1, 1, </span>
<span class="cm">		Color</span>
<span class="cm">	);</span>
<span class="cm">	*/</span>

<span class="p">}</span>

<span class="n">int32</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">FindClosestOfButtons</span><span class="p">(</span><span class="n">TArray</span><span class="o">&lt;</span><span class="n">FVButton</span><span class="o">*&gt;</span> <span class="n">Inbuttons</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">float</span> <span class="n">CurDistance</span><span class="p">;</span>
	<span class="kt">float</span> <span class="n">MinDistance</span> <span class="o">=</span> <span class="mi">10000000000</span><span class="p">;</span>
	<span class="n">int32</span> <span class="n">MinIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="n">int32</span> <span class="n">Itr</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">Itr</span> <span class="o">&lt;</span> <span class="n">Inbuttons</span><span class="p">.</span><span class="n">Num</span><span class="p">();</span> <span class="n">Itr</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="n">Inbuttons</span><span class="p">[</span><span class="n">Itr</span><span class="p">];</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CurCheckButton</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
		
		<span class="c1">//world space location stored in the Button itself</span>
		<span class="n">CurDistance</span> <span class="o">=</span> <span class="n">FVector</span><span class="o">::</span><span class="n">DistSquared</span><span class="p">(</span><span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">PointInWorld</span><span class="p">,</span><span class="n">CursorWorldPos</span><span class="p">);</span>
		
		<span class="c1">//Min Check</span>
		<span class="k">if</span><span class="p">(</span><span class="n">CurDistance</span> <span class="o">&lt;</span> <span class="n">MinDistance</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">MinDistance</span> <span class="o">=</span> <span class="n">CurDistance</span><span class="p">;</span>
			<span class="n">MinIndex</span> <span class="o">=</span> <span class="n">Itr</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="c1">//VALIDITY CHECK</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Inbuttons</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">MinIndex</span><span class="p">))</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
		
	<span class="k">else</span> <span class="k">return</span> <span class="n">MinIndex</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">CheckCursorInButtons</span><span class="p">(</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">)</span>
<span class="p">{</span>	
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>

	<span class="c1">//Reset Highlighted</span>
	<span class="n">HighlightedVertexForSelectedActor</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">HighlightedVertexForHighlightedActor</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//Main Buttons</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="n">RV_Int32</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span><span class="p">(</span><span class="n">VictoryButtons</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">RV_Int32</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">VictoryButtons</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">];</span>
		
		<span class="c1">//check cursor in bounds</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minX</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxX</span> <span class="o">&amp;&amp;</span>
			<span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minY</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxY</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Active Button Type</span>
			<span class="n">ActiveButton_Vibe</span> <span class="o">=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">Vibe</span><span class="p">;</span> 
			
			<span class="k">if</span><span class="p">(</span><span class="n">ActiveButton_Vibe</span> <span class="o">==</span> <span class="n">BUTTON_VIBE_VICTORYHOTKEYS</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">DrawHotkeyToolTip</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
				<span class="n">FadeInVictoryTitle</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
				<span class="n">VictoryTitleVisible</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">//prevent a duel between the two</span>
				<span class="k">return</span><span class="p">;</span>
				<span class="c1">//18:11, 4 July 2018 (UTC)</span>
			<span class="p">}</span>
		<span class="p">}</span>
		
		<span class="c1">//18:11, 4 July 2018 (UTC)~~</span>
		<span class="n">RV_Int32</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//Selected Actor Vertex Buttons</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="n">RV_Int32</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">ClosestSelectedActorButtons</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	<span class="k">while</span><span class="p">(</span><span class="n">SelectedActorButtons</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">RV_Int32</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">SelectedActorButtons</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">];</span>
		<span class="c1">//check cursor in bounds</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minX</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxX</span> <span class="o">&amp;&amp;</span>
			<span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minY</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxY</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">ClosestSelectedActorButtons</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">SelectedActorButtons</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">]);</span>
		<span class="p">}</span>
		
		<span class="c1">//18:11, 4 July 2018 (UTC)~~</span>
		<span class="n">RV_Int32</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//Find closest of potentially highlighted/selected</span>
	
	<span class="k">const</span> <span class="n">int32</span> <span class="n">FoundIndex</span> <span class="o">=</span> <span class="n">FindClosestOfButtons</span><span class="p">(</span><span class="n">ClosestSelectedActorButtons</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="n">FoundIndex</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="n">ClosestSelectedActorButtons</span><span class="p">[</span><span class="n">FoundIndex</span><span class="p">];</span>
		<span class="k">if</span><span class="p">(</span><span class="n">CurCheckButton</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Active Button Type</span>
			<span class="n">ActiveButton_Vibe</span> <span class="o">=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">Vibe</span><span class="p">;</span> 
			
			<span class="c1">//Highlight Vertex if hovered over!</span>
			<span class="n">HighlightedVertexForSelectedActor</span> <span class="o">=</span> <span class="n">ActiveButton_Vibe</span><span class="p">;</span>
			
			<span class="c1">//Vertex Selected and not same?</span>
			<span class="k">if</span><span class="p">(</span><span class="n">SnapKeyPressed</span> <span class="o">&amp;&amp;</span> <span class="n">SelectedVertexForSelectedActor</span> <span class="o">!=</span> <span class="n">ActiveButton_Vibe</span> <span class="p">)</span>
			<span class="p">{</span>
				<span class="n">SnapKeyPressed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
				<span class="n">SelectedVertexForSelectedActor</span> <span class="o">=</span> <span class="n">ActiveButton_Vibe</span><span class="p">;</span>
				<span class="k">return</span><span class="p">;</span>
				<span class="c1">//18:11, 4 July 2018 (UTC)</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
		
	
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	<span class="c1">//Highlighted Actor Vertex Buttons</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~~</span>
	
	<span class="n">RV_Int32</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">ClosestHighlightedActorButtons</span><span class="p">.</span><span class="n">Empty</span><span class="p">();</span>
	<span class="k">while</span><span class="p">(</span><span class="n">HighlightedActorButtons</span><span class="p">.</span><span class="n">IsValidIndex</span><span class="p">(</span><span class="n">RV_Int32</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">HighlightedActorButtons</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">];</span>
		<span class="c1">//check cursor in bounds</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minX</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">X</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxX</span> <span class="o">&amp;&amp;</span>
			<span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">minY</span> <span class="o">&lt;=</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&amp;&amp;</span> <span class="n">MouseLocation</span><span class="p">.</span><span class="n">Y</span> <span class="o">&lt;=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">maxY</span> <span class="p">)</span>
		<span class="p">{</span>
			<span class="n">ClosestHighlightedActorButtons</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">HighlightedActorButtons</span><span class="p">[</span><span class="n">RV_Int32</span><span class="p">]);</span>
		<span class="p">}</span>
		
		<span class="c1">//18:11, 4 July 2018 (UTC)~~</span>
		<span class="n">RV_Int32</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//Find closest of potentially highlighted/selected</span>
	
	<span class="k">const</span> <span class="n">int32</span> <span class="n">FoundIndex2</span> <span class="o">=</span> <span class="n">FindClosestOfButtons</span><span class="p">(</span><span class="n">ClosestHighlightedActorButtons</span><span class="p">);</span>
	<span class="k">if</span><span class="p">(</span><span class="n">FoundIndex2</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">CurCheckButton</span> <span class="o">=</span> <span class="n">ClosestHighlightedActorButtons</span><span class="p">[</span><span class="n">FoundIndex2</span><span class="p">];</span>
		<span class="k">if</span><span class="p">(</span><span class="n">CurCheckButton</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="c1">//Active Button Type</span>
			<span class="n">ActiveButton_Vibe</span> <span class="o">=</span> <span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">Vibe</span><span class="p">;</span> 
			
			<span class="c1">//Highlight Vertex if hovered over!</span>
			<span class="n">HighlightedVertexForHighlightedActor</span> <span class="o">=</span> <span class="n">ActiveButton_Vibe</span><span class="p">;</span>
			
			<span class="c1">//Vertex Selected?</span>
			<span class="k">if</span><span class="p">(</span><span class="n">SnapKeyPressed</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">SnapKeyPressed</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
				<span class="n">DoVertexSnap</span><span class="p">(</span><span class="n">CurCheckButton</span><span class="o">-&gt;</span><span class="n">PointInWorld</span><span class="p">);</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="c1">//Victory Project</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">VictoryProject</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="k">const</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">WorldPoint</span><span class="p">,</span><span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">OutPixelLocation</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">View</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="cm">/** Transforms a point from the view's world-space into pixel coordinates relative to the view's X,Y (left, top). */</span>
	<span class="n">View</span><span class="o">-&gt;</span><span class="n">WorldToPixel</span><span class="p">(</span><span class="n">WorldPoint</span><span class="p">,</span><span class="n">OutPixelLocation</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">//Victory DeProject</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">VictoryDeProject</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="k">const</span> <span class="n">FVector2D</span><span class="o">&amp;</span> <span class="n">ScreenPoint</span><span class="p">,</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">out_WorldOrigin</span><span class="p">,</span> <span class="n">FVector</span><span class="o">&amp;</span> <span class="n">out_WorldDirection</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">View</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	
	<span class="c1">//NEEDS TO BE MADE CONST TO BE ABLE TO USE THIS</span>
	<span class="cm">/** transforms 2D screen coordinates into a 3D world-space origin and direction </span>
<span class="cm">	 * @param ScreenPos - screen coordinates in pixels</span>
<span class="cm">	 * @param out_WorldOrigin (out) - world-space origin vector</span>
<span class="cm">	 * @param out_WorldDirection (out) - world-space direction vector</span>
<span class="cm">	 */</span>
	<span class="c1">//View-&gt;DeprojectFVector2D(ScreenPoint, out_WorldOrigin, out_WorldDirection);</span>

	
	<span class="cm">/** transforms 2D screen coordinates into a 3D world-space origin and direction </span>
<span class="cm">	 * @param ScreenPos - screen coordinates in pixels</span>
<span class="cm">	 * @param ViewRect - view rectangle</span>
<span class="cm">	 * @param InvViewMatrix - inverse view matrix</span>
<span class="cm">	 * @param InvProjMatrix - inverse projection matrix</span>
<span class="cm">	 * @param out_WorldOrigin (out) - world-space origin vector</span>
<span class="cm">	 * @param out_WorldDirection (out) - world-space direction vector</span>
<span class="cm">	 */</span>
	<span class="n">FSceneView</span><span class="o">::</span><span class="n">DeprojectScreenToWorld</span><span class="p">(</span>
		<span class="n">ScreenPoint</span><span class="p">,</span> 
		<span class="n">View</span><span class="o">-&gt;</span><span class="n">ViewRect</span><span class="p">,</span> 
		<span class="n">View</span><span class="o">-&gt;</span><span class="n">InvViewMatrix</span><span class="p">,</span> 
		<span class="n">View</span><span class="o">-&gt;</span><span class="n">ViewMatrices</span><span class="p">.</span><span class="n">GetInvProjMatrix</span><span class="p">(),</span> 
		<span class="n">out_WorldOrigin</span><span class="p">,</span> 
		<span class="n">out_WorldDirection</span>
	<span class="p">);</span>

<span class="p">}</span>
	

<span class="c1">//Draw Using the More Fundamental Method, PDI</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Render</span><span class="p">(</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="n">FPrimitiveDrawInterface</span><span class="o">*</span> <span class="n">PDI</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Verticies [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="k">if</span><span class="p">(</span><span class="n">DoDrawVerticies</span><span class="p">)</span>
	<span class="p">{</span>
	
	<span class="k">if</span><span class="p">(</span><span class="n">SelectedVertexBuffer</span> <span class="o">&amp;&amp;</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">PDI_DrawVerticies</span><span class="p">(</span><span class="n">View</span><span class="p">,</span>	<span class="n">PDI</span><span class="p">,</span>
			<span class="n">SelectedVertexBuffer</span><span class="p">,</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="o">-&gt;</span><span class="n">GetTransform</span><span class="p">(),</span>
			<span class="nb">true</span>
		<span class="p">);</span>
	<span class="p">}</span>
	
	<span class="c1">//Dont draw if Highlighted == Selected, drawn already</span>
	<span class="k">if</span><span class="p">(</span><span class="n">HighlightedVertexBuffer</span> <span class="o">&amp;&amp;</span> <span class="n">HighlightedActor</span> <span class="o">&amp;&amp;</span> <span class="n">HighlightedActor</span> <span class="o">!=</span> <span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">PDI_DrawVerticies</span><span class="p">(</span> <span class="n">View</span><span class="p">,</span>	<span class="n">PDI</span><span class="p">,</span>
			<span class="n">HighlightedVertexBuffer</span><span class="p">,</span> <span class="n">HighlightedActor</span><span class="o">-&gt;</span><span class="n">GetTransform</span><span class="p">(),</span>
			<span class="nb">false</span> <span class="c1">//Highlighted Actor</span>
		<span class="p">);</span>
	<span class="p">}</span>
	
	<span class="p">}</span> <span class="c1">//end of do draw verticies</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
<span class="p">}</span>

<span class="c1">//Draw HUD</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">DrawHUD</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="n">FViewport</span><span class="o">*</span> <span class="n">Viewport</span><span class="p">,</span><span class="k">const</span> <span class="n">FSceneView</span><span class="o">*</span> <span class="n">View</span><span class="p">,</span><span class="n">FCanvas</span><span class="o">*</span> <span class="n">Canvas</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">Canvas</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">VictoryEngine</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	
	<span class="c1">//Title Button</span>
	<span class="n">DrawVictoryTextWithColor</span><span class="p">(</span><span class="n">Canvas</span><span class="p">,</span> <span class="s">"Victory Editor Hotkeys"</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span><span class="n">VICTORY_TITLE_HEIGHT</span><span class="p">,</span> <span class="n">FLinearColor</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">VictoryTitleAlpha</span><span class="p">));</span>
		
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Cursor [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">UsingMouseInstantMove</span><span class="p">)</span> <span class="n">CheckCursorInButtons</span><span class="p">(</span><span class="n">Canvas</span><span class="p">);</span>
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Make Buttons? [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="k">if</span><span class="p">(</span><span class="n">PendingButtonRefresh</span><span class="p">)</span> <span class="n">RefreshVertexButtons</span><span class="p">(</span><span class="n">View</span><span class="p">);</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//Mouse Coordinates</span>
	<span class="c1">//DrawVictoryText(Canvas, MouseLocation.ToString(), 400,50);</span>
	
	<span class="c1">//Mouse World Space Dir</span>
	<span class="c1">//DrawVictoryText(Canvas, CursorWorldDir.ToString(), 300,50 + VICTORY_TEXT_HEIGHT );</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Tick_VictoryTitle</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">CurTimeSpan</span> <span class="o">=</span> <span class="n">FDateTime</span><span class="o">::</span><span class="n">Now</span><span class="p">()</span> <span class="o">-</span> <span class="n">VictoryTitleAppearTime</span><span class="p">;</span>
	
	<span class="c1">//If &gt; then Allowed Visible Duration, start to fade out</span>
	<span class="k">if</span><span class="p">(</span><span class="n">CurTimeSpan</span><span class="p">.</span><span class="n">GetTotalSeconds</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">VICTORY_TITLE_VISIBLE_DURATION</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">VictoryTitleAlpha</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">VictoryTitleVisible</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
			<span class="n">VictoryTitleAlpha</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
			<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>
		
		<span class="n">VictoryTitleAlpha</span> <span class="o">-=</span> <span class="mf">0.01</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="c1">//INVALIDATE THE DISPLAY</span>
	<span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">InvalidateDisplay</span><span class="p">();</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Tick_VictoryTitleFadeIn</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">VictoryTitleAlpha</span> <span class="o">&gt;=</span><span class="mi">1</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VictoryTitleAppears</span><span class="p">();</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="n">VictoryTitleAlpha</span> <span class="o">+=</span> <span class="mf">0.01</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//TICK</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Tick_VictoryInterface</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">ViewportClient</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)~</span>
	
	<span class="c1">//Re-activate Real-time each time enter Mode</span>
	<span class="cm">/*</span>
<span class="cm">	if(ReEntering)</span>
<span class="cm">	{</span>
<span class="cm">		ReEntering = false;</span>
<span class="cm">		ViewportClient-&gt;SetRealtime(true,true);</span>
<span class="cm">	}</span>
<span class="cm">	*/</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)[[User:Admin|Admin]] ([[User talk:Admin|talk]]) 18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//							HUD</span>
	<span class="n">ViewportSize</span> <span class="o">=</span> <span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">GetSizeXY</span><span class="p">();</span>
	
	<span class="c1">//Victory Title Tick</span>
	<span class="k">if</span><span class="p">(</span><span class="n">VictoryTitleVisible</span><span class="p">)</span> <span class="n">Tick_VictoryTitle</span><span class="p">(</span><span class="n">ViewportClient</span><span class="p">);</span>
	
	<span class="c1">//Fading in?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">FadeInVictoryTitle</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">Tick_VictoryTitleFadeIn</span><span class="p">();</span>
		<span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">InvalidateDisplay</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)						</span>
	<span class="c1">//			Move cursor if RMB is down</span>
	<span class="c1">//if(RMBDown) ViewportClient-&gt;Viewport-&gt;SetMouse(ViewportSize.X/2, ViewportSize.Y/2);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">ShouldDrawWidget</span><span class="p">()</span> <span class="k">const</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">UsingMouseInstantMove</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">bool</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">GetCursor</span><span class="p">(</span><span class="n">EMouseCursor</span><span class="o">::</span><span class="n">Type</span><span class="o">&amp;</span> <span class="n">OutCursor</span><span class="p">)</span> <span class="k">const</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">UsingMouseInstantMove</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">OutCursor</span> <span class="o">=</span> <span class="n">EMouseCursor</span><span class="o">::</span><span class="n">GrabHand</span><span class="p">;</span>
		<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span> <span class="c1">//no modified cursor</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">Tick</span><span class="p">(</span><span class="n">FLevelEditorViewportClient</span><span class="o">*</span> <span class="n">ViewportClient</span><span class="p">,</span><span class="kt">float</span> <span class="n">DeltaTime</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//				Single Invalidate</span>
	<span class="k">if</span><span class="p">(</span><span class="n">DoSingleDisplayUpdate</span><span class="p">)</span> 
	<span class="p">{</span>
		<span class="n">ViewportClient</span><span class="o">-&gt;</span><span class="n">Viewport</span><span class="o">-&gt;</span><span class="n">InvalidateDisplay</span><span class="p">();</span>
		<span class="n">DoSingleDisplayUpdate</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//				HUD Elements and Input</span>
	<span class="n">Tick_VictoryInterface</span><span class="p">(</span><span class="n">ViewportClient</span><span class="p">);</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//				TRACE CURSOR POSITION</span>
	<span class="n">ProcessMouseInstantMove</span><span class="p">(</span><span class="n">ViewportClient</span><span class="p">);</span>
	
	
	
	<span class="c1">//[[User:Admin|Admin]] ([[User talk:Admin|talk]]) Begin Vertex Related [[User:Admin|Admin]] ([[User talk:Admin|talk]])</span>
	<span class="n">CHECK_VSELECTED</span>
	
	<span class="c1">//Minus or Plus?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">MinusIsDown</span><span class="p">)</span> <span class="n">CurrentVerticiesScale</span> <span class="o">-=</span> <span class="mf">0.333</span><span class="p">;</span>
	<span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">PlusIsDown</span><span class="p">)</span> <span class="n">CurrentVerticiesScale</span> <span class="o">+=</span> <span class="mf">0.333</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="n">CurrentVerticiesScale</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="n">CurrentVerticiesScale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
	
	<span class="c1">//18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)18:11, 4 July 2018 (UTC)</span>
	<span class="c1">//					New Selection Actor?</span>
	<span class="k">if</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectedActorVerticiesNeedsUpdating</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">SelectedActorVerticiesNeedsUpdating</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="n">SelectedVertexBuffer</span> <span class="o">=</span> <span class="n">GetVerticies</span><span class="p">(</span><span class="n">Cast</span><span class="o">&lt;</span><span class="n">AStaticMeshActor</span><span class="o">&gt;</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">VSelectedActor</span><span class="p">));</span>
		<span class="n">PendingButtonRefresh</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
	
	<span class="k">if</span><span class="p">(</span><span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">ClearSelectedVertex</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">VictoryEngine</span><span class="o">-&gt;</span><span class="n">ClearSelectedVertex</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="n">SelectedVertexForSelectedActor</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="_2">
       </span>
      </h2>
      <h2>
       <span class="mw-headline" id="Core_of_Making_Your_Own_Editor_Mode">
        Core of Making Your Own Editor Mode
       </span>
      </h2>
      <h3>
       <span class="mw-headline" id="Interaction_of_EdEngine_with_EdMode_Class">
        Interaction of EdEngine with EdMode Class
       </span>
      </h3>
      <p>
       The key interaction between the Editor Mode class and the extended Unreal Engine class is in the Unreal Engine class, where it creates the editor mode instance.
      </p>
      <p>
       Here is that code:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//Create it if it not exist yet</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">CreatedVictoryEdMode</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">TSharedRef</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">FVictoryEdAlignMode</span><span class="p">,</span><span class="n">ESPMode</span><span class="o">::</span><span class="n">Fast</span><span class="o">&gt;</span> <span class="n">VictoryEdMode</span> <span class="o">=</span> <span class="n">MakeShareable</span><span class="p">(</span> <span class="k">new</span> <span class="n">FVictoryEdAlignMode</span><span class="p">()</span> <span class="p">);</span>
 
		<span class="c1">//Init VictoryEdMode</span>
		<span class="n">VictoryEdMode</span><span class="o">-&gt;</span><span class="n">JoyInit</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
 
		<span class="c1">//Register</span>
		<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">RegisterMode</span><span class="p">(</span><span class="n">VictoryEdMode</span><span class="p">);</span>
 
		<span class="n">CreatedVictoryEdMode</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="Activating_The_Editor_Mode.2C_Once_Created">
        Activating The Editor Mode, Once Created
       </span>
      </h3>
      <p>
       Once you've created your own EdMode class instance, you activate your editor mode using:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//Activate Victory Editor Mode</span>
<span class="n">GEditorModeTools</span><span class="p">().</span><span class="n">ActivateMode</span><span class="p">(</span><span class="n">VictoryEditorModeID</span><span class="p">);</span>
</pre>
      </div>
      <h3>
       <span class="mw-headline" id="The_Ed_Mode.27s_Unique_ID">
        The Ed Mode's Unique ID
       </span>
      </h3>
      <p>
       Note that this is a const FName that I declared here:
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="k">const</span> <span class="n">FName</span> <span class="n">UVictoryEdEngine</span><span class="o">::</span><span class="n">VictoryEditorModeID</span> <span class="o">=</span> <span class="n">FName</span><span class="p">(</span><span class="s">"VictoryEditorMode"</span><span class="p">);</span>
</pre>
      </div>
      <p>
       And you have to actually give your EdMode its ID in its class constructor. In my case I used my custom JoyInit function
      </p>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">//INIT</span>
<span class="kt">void</span> <span class="n">FVictoryEdAlignMode</span><span class="o">::</span><span class="n">JoyInit</span><span class="p">(</span><span class="n">UVictoryEdEngine</span><span class="o">*</span> <span class="n">EnginePtr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">ID</span> <span class="o">=</span> <span class="n">FName</span><span class="p">(</span><span class="s">"VictoryEditorMode"</span><span class="p">);</span>
<span class="p">}</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Plugin_Build.cs">
        Plugin Build.cs
       </span>
      </h2>
      <div class="mw-highlight mw-content-ltr" dir="ltr">
       <pre><span></span><span class="c1">// Copyright 1998-2013 Epic Games, Inc. All Rights Reserved.</span>

<span class="k">using</span> <span class="n">UnrealBuildTool</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">VictoryBPLibrary</span> <span class="o">:</span> <span class="n">ModuleRules</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="n">VictoryBPLibrary</span><span class="p">(</span><span class="n">TargetInfo</span> <span class="n">Target</span><span class="p">)</span>
	<span class="p">{</span>
        <span class="n">PublicDependencyModuleNames</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span>
			<span class="k">new</span> <span class="n">string</span><span class="p">[]</span> <span class="p">{</span> 
				<span class="s">"Core"</span><span class="p">,</span> 
				<span class="s">"CoreUObject"</span><span class="p">,</span> 
				<span class="s">"Engine"</span><span class="p">,</span> 
				<span class="s">"UnrealEd"</span><span class="p">,</span>
			<span class="p">}</span>
			<span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre>
      </div>
      <h2>
       <span class="mw-headline" id="Plugin_Download">
        Plugin Download
       </span>
      </h2>
      <p>
      </p>
      <p>
       (Please note this file does not contain an executable, just the .dll that UE4 needs for a plugin, that's why the file warning appears)
      </p>
      <h2>
       <span class="mw-headline" id="Enjoy.21">
        Enjoy!
       </span>
      </h2>
      <p>
       I hope that providing you with my entire Vertex Snapping C++ Source code helps you to create your own Editor Plugins!
      </p>
      <p>
       Enjoy!
      </p>
      <p>
       (
       )
      </p>
     </div>
    </div>
    <div class="visualClear">
    </div>
   </div>
  </div>
 </body>
</html>